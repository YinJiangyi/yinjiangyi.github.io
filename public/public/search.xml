<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>HBaseä¸Šæ‰‹è®°å½•</title>
    <url>/2021/07/20/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>HBaseæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ã€é¢å‘åˆ—çš„å¼€æºæ•°æ®åº“ï¼Œè¯¥æŠ€æœ¯æ¥æºäº Fay Chang æ‰€æ’°å†™çš„Googleè®ºæ–‡â€œBigtableï¼šä¸€ä¸ªç»“æ„åŒ–æ•°æ®çš„<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTUlODglODYlRTUlQjglODMlRTUlQkMlOEYlRTUlQUQlOTglRTUlODIlQTglRTclQjMlQkIlRTclQkIlOUYvNjYwODg3NQ==">åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ<i class="fa fa-external-link-alt"></i></span>â€ã€‚å°±åƒBigtableåˆ©ç”¨äº†Googleæ–‡ä»¶ç³»ç»Ÿï¼ˆFile Systemï¼‰æ‰€æä¾›çš„åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨ä¸€æ ·ï¼ŒHBaseåœ¨Hadoopä¹‹ä¸Šæä¾›äº†ç±»ä¼¼äºBigtableçš„èƒ½åŠ›ã€‚HBaseæ˜¯Apacheçš„Hadoopé¡¹ç›®çš„å­é¡¹ç›®ã€‚HBaseä¸åŒäºä¸€èˆ¬çš„å…³ç³»æ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªé€‚åˆäºéç»“æ„åŒ–æ•°æ®å­˜å‚¨çš„æ•°æ®åº“ã€‚å¦ä¸€ä¸ªä¸åŒçš„æ˜¯HBaseåŸºäºåˆ—çš„è€Œä¸æ˜¯åŸºäºè¡Œçš„æ¨¡å¼ã€‚</p>
<a id="more"></a>

<h1 id="ä¸€ã€HBaseæ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€HBaseæ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€HBaseæ˜¯ä»€ä¹ˆ"></a>ä¸€ã€HBaseæ˜¯ä»€ä¹ˆ</h1><blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzOi8vd3d3LmFwYWNoZS5vcmcv">Apache<i class="fa fa-external-link-alt"></i></span> HBaseâ„¢ is the <span class="exturl" data-url="aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzOi8vaGFkb29wLmFwYWNoZS5vcmcv">Hadoop<i class="fa fa-external-link-alt"></i></span> database, a distributed, scalable, big data store.<br>HBase is a type of â€œNoSQLâ€ database.</p>
</blockquote>
<p>Apache HBase æ˜¯ Hadoop æ•°æ®åº“ï¼Œä¸€ä¸ªåˆ†å¸ƒå¼ã€å¯ä¼¸ç¼©çš„<strong>å¤§æ•°æ®å­˜å‚¨</strong>ã€‚</p>
<p>HBaseæ˜¯ä¾èµ–Hadoopçš„ã€‚ä¸ºä»€ä¹ˆHBaseèƒ½å­˜å‚¨æµ·é‡çš„æ•°æ®ï¼Ÿ<strong>å› ä¸ºHBaseæ˜¯åœ¨HDFSçš„åŸºç¡€ä¹‹ä¸Šæ„å»ºçš„ï¼ŒHDFSæ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</strong>ã€‚</p>
<h1 id="äºŒã€ä¸ºä»€ä¹ˆç”¨HBase"><a href="#äºŒã€ä¸ºä»€ä¹ˆç”¨HBase" class="headerlink" title="äºŒã€ä¸ºä»€ä¹ˆç”¨HBase"></a>äºŒã€ä¸ºä»€ä¹ˆç”¨HBase</h1><p>å’Œå…¶ä»–ç»„ä»¶ç›¸æ¯”ï¼š</p>
<ul>
<li>Mysqlï¼Ÿå•æœºï¼Œå­˜å‚¨æ•°æ®é‡å–å†³äºç¡¬ç›˜å¤§å°ï¼Œæ‰©å±•æ€§ä¸å¥½</li>
<li>Kafkaï¼Ÿä¸»è¦ç”¨æ¥å¤„ç†æ¶ˆæ¯ï¼ˆè§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ï¼‰ã€‚æ•°æ®åˆ°kafkaä¼šè¢«æŒä¹…åŒ–åˆ°ç¡¬ç›˜é‡Œï¼Œå¹¶ä¸”æ˜¯åˆ†å¸ƒå¼çš„ï¼Œå¯ä»¥å­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œä½†æ˜¯Kafkaçš„æ•°æ®ä¸€èˆ¬ä¸å•ç‹¬å–å‡ºæ¥ã€‚æŒä¹…åŒ–äº†çš„æ•°æ®ï¼Œæœ€å¸¸è§çš„ç”¨æ³•æ˜¯é‡æ–°è®¾ç½®offsetï¼Œåšå›æº¯æ“ä½œã€‚</li>
<li>Redisï¼Ÿå†…å­˜é€Ÿåº¦å¿«ï¼Œä»·æ ¼å¤ªè´µ</li>
<li>ESï¼ŸElasticsearchæ˜¯åˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œä½†ä¸»è¦ç”¨äºæ£€ç´¢ã€‚å¦‚æœæ²¡æœ‰ç»å¸¸è§æ£€ç´¢çš„éœ€æ±‚ï¼Œä¸å¿…æ”¾åˆ°ESé‡Œï¼Œå› ä¸ºæ•°æ®å†™å…¥ESéœ€è¦åˆ†è¯ï¼Œæµªè´¹èµ„æºã€‚</li>
<li>HDFSï¼Ÿæ— ç–‘å¯ä»¥å­˜å‚¨æµ·é‡æ•°æ®ï¼Œä½†æ˜¯ä¸æ”¯æŒéšæœºä¿®æ”¹ï¼ŒæŸ¥è¯¢æ•ˆç‡ä½</li>
</ul>
<p>HBaseçš„æ•°æ®å…¶å®ä¹Ÿæ˜¯å­˜å‚¨åœ¨HDFSä¸Šçš„ã€‚HDFSæ˜¯æ–‡ä»¶ç³»ç»Ÿï¼Œè€ŒHBaseæ˜¯æ•°æ®åº“ï¼Œå…¶å®ä¹Ÿæ²¡å•¥å¯æ¯”æ€§ã€‚ã€Œ<strong>ä½ å¯ä»¥æŠŠHBaseå½“åšæ˜¯MySQLï¼ŒæŠŠHDFSå½“åšæ˜¯ç¡¬ç›˜ã€‚HBaseåªæ˜¯ä¸€ä¸ªNoSQLæ•°æ®åº“ï¼ŒæŠŠæ•°æ®å­˜åœ¨HDFSä¸Š</strong>ã€ã€‚HBaseåœ¨HDFSä¹‹ä¸Šæä¾›äº†<strong>é«˜å¹¶å‘çš„éšæœºå†™å’Œæ”¯æŒå®æ—¶æŸ¥è¯¢</strong>ï¼Œè¿™æ˜¯HDFSä¸å…·å¤‡çš„ã€‚HBaseè¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼š<strong>å­˜å‚¨æ•°æ®çš„â€ç»“æ„â€œå¯ä»¥åœ°éå¸¸çµæ´»</strong>ã€‚</p>
<h1 id="ä¸‰ã€å…¥é—¨HBase"><a href="#ä¸‰ã€å…¥é—¨HBase" class="headerlink" title="ä¸‰ã€å…¥é—¨HBase"></a>ä¸‰ã€å…¥é—¨HBase</h1><h2 id="1-åˆ—å¼å­˜å‚¨"><a href="#1-åˆ—å¼å­˜å‚¨" class="headerlink" title="1. åˆ—å¼å­˜å‚¨"></a>1. åˆ—å¼å­˜å‚¨</h2><p><strong>ä»€ä¹ˆæ˜¯åˆ—å¼å­˜å‚¨ï¼Ÿ</strong></p>
<p>MySQLå­˜å‚¨çš„ç»“æ„æ˜¯å…¸å‹çš„å…³ç³»å‹æ•°æ®åº“ï¼Œæ•°æ®æ˜¯ä¸€è¡Œä¸€è¡Œçš„å½¢å¼ã€‚</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-58697c09af0a80f04af4b2231e6a0813_720w.jpg" alt="v2-58697c09af0a80f04af4b2231e6a0813_720w" style="zoom:25%;" />

<p>æ¢æˆåˆ—å¼å­˜å‚¨</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-8b4c896c9decec36b89e6b2fee968c6a_720w.jpg" alt="v2-8b4c896c9decec36b89e6b2fee968c6a_720w" style="zoom:25%;" />

<p>ä¹Ÿå°±æ˜¯æŠŠæ¯åˆ—æŠ½å‡ºæ¥ï¼Œå…³è”ä¸Šè¡ŒIDã€‚<strong>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œçœç©ºé—´</strong>ã€‚ ä»¥å‰æˆ‘ä»¬ä¸€è¡Œè®°å½•å¤šä¸ªå±æ€§(åˆ—)ï¼Œæœ‰éƒ¨åˆ†çš„åˆ—æ˜¯ç©ºç¼ºçš„ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯éœ€è¦ç©ºé—´å»å­˜å‚¨ã€‚ç°åœ¨æŠŠè¿™äº›åˆ—å…¨éƒ¨æ‹†å¼€ï¼Œæœ‰ä»€ä¹ˆæˆ‘ä»¬å°±å­˜ä»€ä¹ˆï¼Œè¿™æ ·ç©ºé—´å°±èƒ½è¢«æˆ‘ä»¬å……åˆ†åˆ©ç”¨ã€‚</p>
<p>è¿™ç§å½¢å¼æ›´åƒ<strong>Key-value</strong>ã€‚</p>
<h2 id="2-HBaseçš„æ•°æ®æ¨¡å‹"><a href="#2-HBaseçš„æ•°æ®æ¨¡å‹" class="headerlink" title="2. HBaseçš„æ•°æ®æ¨¡å‹"></a>2. HBaseçš„æ•°æ®æ¨¡å‹</h2><p>åœ¨HBaseé‡Œè¾¹ï¼Œå®šä½ä¸€è¡Œæ•°æ®ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼Œè¿™ä¸ªå«åšè¡Œé”®(RowKey)ã€‚è€Œåœ¨HBaseçš„åˆ—ä¸æ˜¯æˆ‘ä»¬åœ¨å…³ç³»å‹æ•°æ®åº“æ‰€æƒ³è±¡ä¸­çš„åˆ—ã€‚</p>
<p>HBaseçš„åˆ—ï¼ˆColumnï¼‰éƒ½å¾—å½’å±åˆ°åˆ—æ—ï¼ˆColumn Familyï¼‰ä¸­ã€‚åœ¨HBaseä¸­ç”¨åˆ—ä¿®é¥°ç¬¦ï¼ˆColumn Qualifierï¼‰æ¥æ ‡è¯†æ¯ä¸ªåˆ—ã€‚</p>
<p><strong>åœ¨HBaseé‡Œè¾¹ï¼Œå…ˆæœ‰åˆ—æ—ï¼Œåæœ‰åˆ—</strong>ã€‚</p>
<p>ä»€ä¹ˆæ˜¯åˆ—æ—ï¼Ÿå¯ä»¥ç®€å•ç†è§£ä¸ºï¼šåˆ—çš„å±æ€§ç±»åˆ«</p>
<p>ä»€ä¹ˆæ˜¯åˆ—ä¿®é¥°ç¬¦ï¼Ÿå…ˆæœ‰åˆ—æ—åæœ‰åˆ—ï¼Œåœ¨åˆ—æ—ä¸‹ç”¨åˆ—ä¿®é¥°ç¬¦æ¥æ ‡è¯†ä¸€åˆ—ã€‚</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-1f69aa3a03c9666d5b613e5a0a5e70c4_720w.jpg" alt="v2-1f69aa3a03c9666d5b613e5a0a5e70c4_720w" style="zoom: 50%;" />

<p>HBaseè¡¨çš„æ¯ä¸€è¡Œä¸­ï¼Œåˆ—çš„ç»„æˆéƒ½æ˜¯<strong>çµæ´»</strong>çš„ï¼Œ<strong>è¡Œä¸è¡Œä¹‹é—´çš„åˆ—ä¸éœ€è¦ç›¸åŒ</strong>ã€‚å¦‚å›¾ä¸‹ï¼š</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-fac481c6ec3efacce0ec3f3c7d127db0_720w.jpg" alt="img" style="zoom:33%;" />

<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-de19abe0e27b1660e3474bd11aaf8d61_720w.jpg" alt="img" style="zoom: 50%;" />

<p>æ¢å¥è¯è¯´ï¼š<strong>ä¸€ä¸ªåˆ—æ—ä¸‹å¯ä»¥ä»»æ„æ·»åŠ åˆ—ï¼Œä¸å—ä»»ä½•é™åˆ¶</strong></p>
<p><strong>æ•°æ®å†™åˆ°HBaseçš„æ—¶å€™éƒ½ä¼šè¢«è®°å½•ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¿™ä¸ªæ—¶é—´æˆ³è¢«æˆ‘ä»¬å½“åšä¸€ä¸ªç‰ˆæœ¬ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬ä¿®æ”¹æˆ–è€…åˆ é™¤æŸä¸€æ¡çš„æ—¶å€™ï¼Œæœ¬è´¨ä¸Šæ˜¯å¾€é‡Œè¾¹æ–°å¢ä¸€æ¡æ•°æ®ï¼Œè®°å½•çš„ç‰ˆæœ¬åŠ ä¸€äº†è€Œå·²ã€‚</strong></p>
<p>æ¯”å¦‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸€æ¡è®°å½•ï¼š</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-433053cc5a4dfe5a9d26f9231cdaca5e_720w.jpg" alt="img" style="zoom: 50%;" />

<p>ç°åœ¨è¦æŠŠè¿™æ¡è®°å½•çš„å€¼æ”¹ä¸º40ï¼Œå®é™…ä¸Šå°±æ˜¯å¤šæ·»åŠ ä¸€æ¡è®°å½•ï¼Œåœ¨è¯»çš„æ—¶å€™æŒ‰ç…§æ—¶é—´æˆ³<strong>è¯»æœ€æ–°</strong>çš„è®°å½•ã€‚åœ¨å¤–ç•Œã€Œçœ‹èµ·æ¥ã€å°±æ˜¯æŠŠè¿™æ¡è®°å½•æ”¹äº†ã€‚</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-a08e56a695e366a580c12514ffe09a21_720w.jpg" alt="img" style="zoom:50%;" />

<h2 id="3-HBaseçš„Key-Valueç»“æ„"><a href="#3-HBaseçš„Key-Valueç»“æ„" class="headerlink" title="3. HBaseçš„Key-Valueç»“æ„"></a>3. HBaseçš„Key-Valueç»“æ„</h2><p>HBaseçš„Key-Valueç»“æ„å›¾ï¼š</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-5c2c05489dc0c4af823d26641dc0e477_720w.jpg" alt="v2-5c2c05489dc0c4af823d26641dc0e477_720w" style="zoom: 50%;" />

<blockquote>
<p>Key = Row Key + Column Family + Column Qualifier + Time stamp + Key Type</p>
<p>Valueæ˜¯å®é™…çš„å­—æ®µå€¼</p>
</blockquote>
<h2 id="4-HBaseæ¶æ„"><a href="#4-HBaseæ¶æ„" class="headerlink" title="4. HBaseæ¶æ„"></a>4. HBaseæ¶æ„</h2><p>æ¶æ„å›¾ï¼š</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-f9029a2beaf2b07d9ae949013ddca351_720w.jpg" alt="v2-f9029a2beaf2b07d9ae949013ddca351_720w" style="zoom: 67%;" />

<p>1ã€<strong>Client</strong>å®¢æˆ·ç«¯ï¼Œå®ƒæä¾›äº†è®¿é—®HBaseçš„æ¥å£ï¼Œå¹¶ä¸”ç»´æŠ¤äº†å¯¹åº”çš„cacheæ¥åŠ é€ŸHBaseçš„è®¿é—®ã€‚</p>
<p>2ã€<strong>Zookeeper</strong>å­˜å‚¨HBaseçš„å…ƒæ•°æ®ï¼ˆmetaè¡¨ï¼‰ï¼Œæ— è®ºæ˜¯è¯»è¿˜æ˜¯å†™æ•°æ®ï¼Œéƒ½æ˜¯å»Zookeeperé‡Œè¾¹æ‹¿åˆ°metaå…ƒæ•°æ®<strong>å‘Šè¯‰ç»™å®¢æˆ·ç«¯å»å“ªå°æœºå™¨è¯»å†™æ•°æ®</strong></p>
<p>3ã€<strong>HRegionServer</strong>å®ƒæ˜¯å¤„ç†å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ï¼Œè´Ÿè´£ä¸HDFSåº•å±‚äº¤äº’ï¼Œæ˜¯çœŸæ­£å¹²æ´»çš„èŠ‚ç‚¹ã€‚</p>
<p>4ã€HMasterå¤„ç† HRegion çš„åˆ†é…æˆ–è½¬ç§»ã€‚å¦‚æœæˆ‘ä»¬HRegionçš„æ•°æ®é‡å¤ªå¤§çš„è¯ï¼ŒHMasterä¼šå¯¹æ‹†åˆ†åçš„Region<strong>é‡æ–°åˆ†é…RegionServer</strong>ã€‚HMasterä¼šå¤„ç†å…ƒæ•°æ®çš„å˜æ›´å’Œç›‘æ§RegionServerçš„çŠ¶æ€ã€‚</p>
<p>æ€»ç»“å¤§è‡´çš„æµç¨‹å°±æ˜¯ï¼š<strong>clientè¯·æ±‚åˆ°Zookeeperï¼Œç„¶åZookeeperè¿”å›HRegionServeråœ°å€ç»™clientï¼Œclientå¾—åˆ°Zookeeperè¿”å›çš„åœ°å€å»è¯·æ±‚HRegionServerï¼ŒHRegionServerè¯»å†™æ•°æ®åè¿”å›ç»™clientã€‚</strong></p>
<p>HRegionServerå†…éƒ¨ç»“æ„å›¾ï¼š</p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/v2-a2bb5cd2216cb2b98d181d5eac1ca87f_720w.jpg" alt="v2-a2bb5cd2216cb2b98d181d5eac1ca87f_720w" style="zoom:80%;" />

<ul>
<li>ä¸€å¼ hbaseè¡¨æŒ‰ç…§RowKeyè¿›è¡Œæ¨ªå‘åˆ‡å‰²ï¼Œæ¯ä¸ªHRegionServerä¸­åŒ…å«å¤šä¸ª<code>HRegion</code>ï¼Œæ¯ä¸ªHRegionå­˜å‚¨æ¨ªå‘åˆ‡å‰²åçš„ä¸€éƒ¨åˆ†æ•°æ®ã€‚</li>
<li>æ¯ä¸ªHRegionä¸­åŒ…å«å¤šä¸ª<code>store</code>ï¼Œå­˜å‚¨ä¸åŒçš„åˆ—æ—ã€‚åˆ—æ˜¯åœ¨åˆ—æ—ä¹‹ä¸‹çš„ï¼Œåˆ—å¯ä»¥éšæ„æ·»åŠ ã€‚</li>
<li>HBaseåœ¨å†™æ•°æ®çš„æ—¶å€™ï¼Œä¼šå…ˆå†™åˆ°<code>Mem Store</code>ï¼Œå½“MemStoreè¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼Œå°±ä¼šå°†å†…å­˜ä¸­çš„æ•°æ®åˆ·å†™åˆ°ç¡¬ç›˜ä¸Šï¼Œå½¢æˆStoreFileï¼Œè€Œ<code>StoreFile</code>åº•å±‚æ˜¯ä»¥HFileçš„æ ¼å¼ä¿å­˜ï¼ŒHFileæ˜¯HBaseä¸­KeyValueæ•°æ®çš„å­˜å‚¨æ ¼å¼ã€‚Mem Storeæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå†…å­˜ bufferï¼ŒHFileæ˜¯HBaseå®é™…å­˜å‚¨çš„æ•°æ®æ ¼å¼ï¼Œè€ŒStoreFileåªæ˜¯HBaseé‡Œçš„ä¸€ä¸ªåå­—ã€‚</li>
<li>ä¸ºäº†é˜²æ­¢æœºå™¨å®•æœºï¼Œå†…å­˜çš„æ•°æ®æ²¡åˆ·åˆ°ç£ç›˜ä¸­å°±æŒ‚äº†ã€‚æˆ‘ä»¬åœ¨å†™Mem storeçš„æ—¶å€™è¿˜ä¼šå†™ä¸€ä»½<code>HLog</code>ã€‚</li>
</ul>
<h1 id="å››ã€HBaseå®é™…æ“ä½œ"><a href="#å››ã€HBaseå®é™…æ“ä½œ" class="headerlink" title="å››ã€HBaseå®é™…æ“ä½œ"></a>å››ã€HBaseå®é™…æ“ä½œ</h1><p>å®éªŒç¯å¢ƒä¸­å·²ç»åŸºäºdockerå®‰è£…äº†Hbaseç¯å¢ƒã€‚<code>docker exec</code> å‘½ä»¤ç›´æ¥è¿›å…¥å®¹å™¨ã€‚<code>jps</code> å‘½ä»¤æŸ¥çœ‹è¿è¡Œè¿›ç¨‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@bigdata-12 /]# jps</span><br><span class="line">34851 Jps</span><br><span class="line">37 HMaster</span><br><span class="line">123 HRegionServer</span><br><span class="line">269 RESTServer</span><br></pre></td></tr></table></figure>
<h2 id="1-HBase-shellæ“ä½œ"><a href="#1-HBase-shellæ“ä½œ" class="headerlink" title="1. HBase shellæ“ä½œ"></a>1. HBase shellæ“ä½œ</h2><p><code>hbase shell</code> å‘½ä»¤è¿›å…¥å‘½ä»¤è¡Œï¼ŒæŸ¥çœ‹è¡¨æ ¼:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hbase(main):001:0&gt; list</span><br><span class="line">TABLE</span><br><span class="line">aaa</span><br><span class="line">bucket-0915</span><br><span class="line">entity_cert_serial</span><br><span class="line">entity_client_ip</span><br><span class="line">entity_file</span><br><span class="line">entity_fqdn</span><br><span class="line">entity_mail</span><br><span class="line">entity_qq_account</span><br><span class="line">entity_server_ip</span><br><span class="line">entity_user_id</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºè¡¨ï¼Œè¡¨åhbase_1102ï¼ŒHBaseè¡¨æ˜¯ç”±Key-Valueç»„æˆçš„ï¼Œæ­¤è¡¨ä¸­Keyä¸ºNAME </p>
<img data-src="/images/HBase%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/726151-20170227162331001-824551785.png" alt="img" style="zoom:75%;" />

<p>æ­¤è¡¨æœ‰ä¸¤ä¸ªåˆ—æ—ï¼ŒCF1å’ŒCF2ï¼Œå…¶ä¸­CF1å’ŒCF2ä¸‹åˆ†åˆ«æœ‰ä¸¤ä¸ªåˆ—nameå’Œgenderï¼ŒChineseå’ŒMath<br>åˆ›å»ºè¡¨hbase_1102æœ‰ä¸¤ä¸ªåˆ—æ—CF1å’ŒCF2</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">hbase(main):<span class="number">041</span>:<span class="number">0</span>&gt; <span class="keyword">create</span> <span class="string">&#x27;hbase_1102&#x27;</span>,  &#123;<span class="type">NAME</span>=&gt;<span class="string">&#x27;cf1&#x27;</span>&#125;, &#123;<span class="type">NAME</span>=&gt;<span class="string">&#x27;cf2&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>å‘è¡¨ä¸­æ·»åŠ æ•°æ®ï¼Œåœ¨æƒ³HBaseçš„è¡¨ä¸­æ·»åŠ æ•°æ®çš„æ—¶å€™ï¼Œåªèƒ½ä¸€åˆ—ä¸€åˆ—çš„æ·»åŠ ï¼Œä¸èƒ½åŒæ—¶æ·»åŠ å¤šåˆ—ã€‚</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">hbase</span><span class="params">(main)</span></span>:<span class="number">042</span>:<span class="number">0</span>&gt; put<span class="string">&#x27;hbase_1102&#x27;</span>, <span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;cf1:name&#x27;</span>,<span class="string">&#x27;Tom&#x27;</span></span><br><span class="line"><span class="function"><span class="title">hbase</span><span class="params">(main)</span></span>:<span class="number">043</span>:<span class="number">0</span>&gt; put<span class="string">&#x27;hbase_1102&#x27;</span>, <span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;cf1:gender&#x27;</span>,<span class="string">&#x27;man&#x27;</span></span><br><span class="line"><span class="function"><span class="title">hbase</span><span class="params">(main)</span></span>:<span class="number">044</span>:<span class="number">0</span>&gt; put<span class="string">&#x27;hbase_1102&#x27;</span>, <span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;cf2:chinese&#x27;</span>,<span class="string">&#x27;90&#x27;</span></span><br><span class="line"><span class="function"><span class="title">hbase</span><span class="params">(main)</span></span>:<span class="number">045</span>:<span class="number">0</span>&gt; put<span class="string">&#x27;hbase_1102&#x27;</span>, <span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;cf2:math&#x27;</span>,<span class="string">&#x27;91&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·è¡¨ç»“æ„å°±èµ·æ¥äº†ï¼Œå…¶å®æ¯”è¾ƒè‡ªç”±ï¼Œåˆ—æ—é‡Œè¾¹å¯ä»¥è‡ªç”±æ·»åŠ å­åˆ—å¾ˆæ–¹ä¾¿ã€‚å¦‚æœåˆ—æ—ä¸‹æ²¡æœ‰å­åˆ—ï¼ŒåŠ ä¸åŠ å†’å·éƒ½æ˜¯å¯ä»¥çš„ã€‚</p>
<p>å¦‚æœåœ¨æ·»åŠ æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦æ‰‹åŠ¨çš„è®¾ç½®æ—¶é—´æˆ³ï¼Œåˆ™åœ¨putå‘½ä»¤çš„æœ€ååŠ ä¸Šç›¸åº”çš„æ—¶é—´æˆ³ï¼Œæ—¶é—´æˆ³æ˜¯longç±»å‹çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦åŠ å¼•å·</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hbase</span>(main):<span class="number">045</span>:<span class="number">0</span>&gt; put&#x27;hbase_<span class="number">1102</span>&#x27;, &#x27;<span class="number">001</span>&#x27;,&#x27;cf<span class="number">2</span>:math&#x27;,&#x27;<span class="number">91</span>&#x27;ï¼Œ<span class="number">1478053832459</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">hbase(main):046:0&gt; scan <span class="string">&#x27;hbase_1102&#x27;</span></span><br><span class="line">ROW   COLUMN+CELL                                                             </span><br><span class="line"> 001  <span class="attribute">column</span>=cf1:gender, <span class="attribute">timestamp</span>=1478053832459, <span class="attribute">value</span>=man                   </span><br><span class="line"> 001  <span class="attribute">column</span>=cf1:name, <span class="attribute">timestamp</span>=1478053787178, <span class="attribute">value</span>=Tom                     </span><br><span class="line"> 001  <span class="attribute">column</span>=cf2:chinese, <span class="attribute">timestamp</span>=1478053848225, <span class="attribute">value</span>=90001  <span class="attribute">column</span>=cf2:math, <span class="attribute">timestamp</span>=1478053858144, <span class="attribute">value</span>=911 row(s) in0.0140seconds</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å…¶ä¸­æŸä¸€ä¸ªKeyçš„æ•°æ®</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">hbase(main):048:0&gt; get<span class="string">&#x27;hbase_1102&#x27;</span>,<span class="string">&#x27;001&#x27;</span></span><br><span class="line">COLUMN                    CELL                                                                    </span><br><span class="line"> cf1:gender               <span class="attribute">timestamp</span>=1478053832459, <span class="attribute">value</span>=man                                      </span><br><span class="line"> cf1:name                 <span class="attribute">timestamp</span>=1478053787178, <span class="attribute">value</span>=Tom                                      </span><br><span class="line"> cf2:chinese              <span class="attribute">timestamp</span>=1478053848225, <span class="attribute">value</span>=90                                       </span><br><span class="line"> cf2:math                 <span class="attribute">timestamp</span>=1478053858144, <span class="attribute">value</span>=914 row(s) in0.0290seconds</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ ä¸€ä¸ªåˆ—æ—</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">alter &#x27;member&#x27;, &#x27;id&#x27;</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤ä¸€ä¸ªåˆ—æ—</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">alter &#x27;member&#x27;, &#123;NAME =&gt; &#x27;member_id&#x27;, METHOD =&gt; &#x27;deleteâ€™&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>bigdata</category>
      </categories>
      <tags>
        <tag>HBase</tag>
      </tags>
  </entry>
  <entry>
    <title>Macä¸‹hadoopéƒ¨ç½²ä¸æ“ä½œ</title>
    <url>/2021/03/30/Mac%E4%B8%8Bhadoop%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<p>ç”±äºè¯¾ç¨‹éœ€è¦å’Œå·¥å…·é™åˆ¶ï¼Œéœ€è¦åœ¨macä¸Šå®‰è£…Hadoopï¼Œå‚è€ƒäº†ç½‘ä¸Šçš„æ•™ç¨‹ï¼Œé»˜è®¤macçš„terminalå·²ç»å®‰è£…äº†homebrewè½¯ä»¶ç®¡ç†å·¥å…·ã€JDKç¯å¢ƒï¼Œå¦‚æœæ²¡å®‰è£…homebrewã€JDKç¯å¢ƒçš„å°ä¼™ä¼´è¯·è‡ªè¡Œæœç´¢macç»ˆç«¯å®‰è£…homebrewã€JDKæ•™ç¨‹ã€‚ä¸‹é¢æ˜¯éƒ¨ç½²ä¸æ“ä½œè®°å½•ã€‚</p>
<a id="more"></a>

<p>éƒ¨ç½²ï¼š</p>
<p><span class="exturl" data-url="aHR0cDovL2NvZGluZ3hpYXh3LmNuLzIwMTYvMTIvMDYvNTktbWFjLWhhZG9vcC8=">http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/<i class="fa fa-external-link-alt"></i></span></p>
<p>å…¶ä»–é—®é¢˜ï¼š</p>
<p>1ï¼‰ hadoopä¸‹è½½é€Ÿåº¦å¤ªæ…¢ï¼Œåˆ‡æ¢å›½å†…é•œåƒæ— æ•ˆã€‚<br>é‡‡ç”¨æ‰‹åŠ¨ä¸‹è½½æ–¹å¼ <span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xMDc0NjkzNzg=">https://zhuanlan.zhihu.com/p/107469378<i class="fa fa-external-link-alt"></i></span></p>
<p>2ï¼‰ å¯åŠ¨hadoopæƒé™é—®é¢˜ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">(base) MacBook-Pro:sbin joy$ ./start-dfs.sh </span><br><span class="line">Starting namenodes on [localhost]</span><br><span class="line">localhost: joy@localhost: Permission denied (publickey,password,keyboard-interactive).</span><br><span class="line">Starting datanodes</span><br><span class="line">localhost: joy@localhost: Permission denied (publickey,password,keyboard-interactive).</span><br><span class="line">Starting secondary namenodes [account.jetbrains.com]</span><br><span class="line">account.jetbrains.com: Warning: Permanently added &#x27;account.jetbrains.com,0.0.0.0&#x27; (ECDSA) to the list of known hosts.</span><br><span class="line">account.jetbrains.com: joy@account.jetbrains.com: Permission denied (publickey,password,keyboard-interactive).</span><br><span class="line">2021-03-30 18:38:31,682 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br></pre></td></tr></table></figure>
<p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3poYW5ndmFsdWUvYXJ0aWNsZS9kZXRhaWxzLzEwMzc0ODQzOA==">https://blog.csdn.net/zhangvalue/article/details/103748438<i class="fa fa-external-link-alt"></i></span></p>
<p>3ï¼‰æŒ‰ç…§<span class="exturl" data-url="aHR0cDovL2NvZGluZ3hpYXh3LmNuLzIwMTYvMTIvMDcvNjAtbWFjLXNwYXJrLyVFNSU4NiU4NSVFNSVBRSVCOSVFOCVCRiU5QiVFOCVBMSU4Q3NwYXJrJUU1JUFFJTg5JUU4JUEzJTg1JUU2JTk3JUI2JUVGJUJDJThDJUU3JTk0JUIxJUU0JUJBJThFJUU0JUI4JThCJUU4JUJEJUJEJUU5JTgwJTlGJUU1JUJBJUE2JUU5JTk3JUFFJUU5JUEyJTk4JUVGJUJDJThDJUU2JTg5JThCJUU1JThBJUE4JUU0JUI4JThCJUU4JUJEJUJEJUU1JUFFJTg5JUU4JUEzJTg1JUU1JThDJTg1JUU4JUJGJTlCJUU4JUExJThDJUU1JUFFJTg5JUU4JUEzJTg1JUVGJUJDJThDJUU1JThGJTkxJUU3JThFJUIwc2NhbGElRTQlQkQlQkYlRTclOTQlQTglRTYlQUQlQTMlRTUlQjglQjglRUYlQkMlOENzcGFyayVFNSU5MSVCRCVFNCVCQiVBNCVFNiU5NyVBMCVFNiVCMyU5NSVFNiVBRCVBMyVFNSVCOCVCOCVFOCVCRiU5MCVFOCVBMSU4QyVFRiVCQyU5QQ==">http://codingxiaxw.cn/2016/12/07/60-mac-spark/å†…å®¹è¿›è¡Œsparkå®‰è£…æ—¶ï¼Œç”±äºä¸‹è½½é€Ÿåº¦é—®é¢˜ï¼Œæ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…è¿›è¡Œå®‰è£…ï¼Œå‘ç°scalaä½¿ç”¨æ­£å¸¸ï¼Œsparkå‘½ä»¤æ— æ³•æ­£å¸¸è¿è¡Œï¼š<i class="fa fa-external-link-alt"></i></span></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">MacBook-Pro:conf joy$ scala</span><br><span class="line">Welcome to Scala 2.13.5 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_271).</span><br><span class="line">Type in expressions for evaluation. Or try :help.</span><br><span class="line"></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> </span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">(base) MacBook-Pro:conf joy$ spark-shell</span><br><span class="line">-bash: spark-shell: command not found</span><br></pre></td></tr></table></figure>
<p><strong>é—®é¢˜æ’æŸ¥ï¼šä¸»è¦åŸå› åœ¨äºscalaä¸‹è½½åç”¨homebrewå®‰è£…ï¼Œsparkæ²¡æœ‰ç»è¿‡brewå®‰è£…ï¼Œå»ºç«‹è½¯è¿æ¥</strong></p>
<p>homebrewè¿›è¡ŒScalaå®‰è£…æ—¶ï¼Œæ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…ä¹‹åï¼ŒæŒ‰ç…§2ï¼‰è§£å†³æ–¹æ¡ˆè¿›è¡Œåç»­å®‰è£…æ“ä½œï¼Œbrewå°†scalaè‡ªåŠ¨å®‰è£…åœ¨/usr/local/Cellarä¸‹ï¼Œç„¶åè‡ªåŠ¨å»ºç«‹è½¯è¿æ¥åˆ°/usr/local/bin/ç›®å½•ä¸‹ï¼ˆå®‰è£…æ—¶ä½¿ç”¨-vå‘½ä»¤å¯æŸ¥çœ‹è¯¦ç»†è¿‡ç¨‹ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">(base) MacBook-Pro:~ joy$ brew reinstall scala -v</span><br><span class="line">rm /usr/local/bin/fsc</span><br><span class="line">rm /usr/local/bin/scala</span><br><span class="line">rm /usr/local/bin/scalac</span><br><span class="line">rm /usr/local/bin/scaladoc</span><br><span class="line">rm /usr/local/bin/scalap</span><br><span class="line">rm /usr/local/share/doc/scala</span><br><span class="line">rm /usr/local/share/man/man1/fsc.1</span><br><span class="line">rm /usr/local/share/man/man1/scala.1</span><br><span class="line">rm /usr/local/share/man/man1/scalac.1</span><br><span class="line">rm /usr/local/share/man/man1/scaladoc.1</span><br><span class="line">rm /usr/local/share/man/man1/scalap.1</span><br><span class="line">==&gt; Downloading https://downloads.lightbend.com/scala/2.13.5/scala-2.13.5.tgz</span><br><span class="line">/usr/bin/curl --disable --globoff --show-error --user-agent Homebrew/3.0.10-42-ge5bda4e\ \(Macintosh\;\ Intel\ Mac\ OS\ X\ 10.15.7\)\ curl/7.64.1 --header Accept-Language:\ en --retry 3 --location --silent --head --request GET https://downloads.lightbend.com/scala/2.13.5/scala-2.13.5.tgz</span><br><span class="line">Already downloaded: /Users/joy/Library/Caches/Homebrew/downloads/f0d485510e9c8d56e9ed6b020888e122c1ef09fff596c0c93ca946952b4624c2--scala-2.13.5.tgz</span><br><span class="line">==&gt; Verifying checksum for &#x27;f0d485510e9c8d56e9ed6b020888e122c1ef09fff596c0c93ca946952b4624c2--scala-2.13.5.tgz&#x27;</span><br><span class="line">==&gt; Reinstalling scala </span><br><span class="line">/usr/bin/sandbox-exec -f /private/tmp/homebrew20210331-48919-1kaua9k.sb nice ruby -W1 -- /usr/local/Homebrew/Library/Homebrew/build.rb /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core/Formula/scala.rb --verbose</span><br><span class="line">tar xof /Users/joy/Library/Caches/Homebrew/downloads/f0d485510e9c8d56e9ed6b020888e122c1ef09fff596c0c93ca946952b4624c2--scala-2.13.5.tgz -C /private/tmp/d20210331-48920-5yc016</span><br><span class="line">cp -pR /private/tmp/d20210331-48920-5yc016/scala-2.13.5/. /private/tmp/scala-20210331-48920-3r6y9a/scala-2.13.5</span><br><span class="line">chmod -Rf +w /private/tmp/d20210331-48920-5yc016</span><br><span class="line">==&gt; Cleaning</span><br><span class="line">==&gt; Finishing up</span><br><span class="line">ln -s ../Cellar/scala/2.13.5/bin/fsc fsc</span><br><span class="line">ln -s ../Cellar/scala/2.13.5/bin/scala scala</span><br><span class="line">ln -s ../Cellar/scala/2.13.5/bin/scalac scalac</span><br><span class="line">ln -s ../Cellar/scala/2.13.5/bin/scaladoc scaladoc</span><br><span class="line">ln -s ../Cellar/scala/2.13.5/bin/scalap scalap</span><br><span class="line">ln -s ../../Cellar/scala/2.13.5/share/doc/scala scala</span><br><span class="line">ln -s ../../../Cellar/scala/2.13.5/share/man/man1/fsc.1 fsc.1</span><br><span class="line">ln -s ../../../Cellar/scala/2.13.5/share/man/man1/scala.1 scala.1</span><br><span class="line">ln -s ../../../Cellar/scala/2.13.5/share/man/man1/scalac.1 scalac.1</span><br><span class="line">ln -s ../../../Cellar/scala/2.13.5/share/man/man1/scaladoc.1 scaladoc.1</span><br><span class="line">ln -s ../../../Cellar/scala/2.13.5/share/man/man1/scalap.1 scalap.1</span><br><span class="line">/usr/bin/sandbox-exec -f /private/tmp/homebrew20210331-48976-3t2vk6.sb nice ruby -W1 -I $LOAD_PATH -- /usr/local/Homebrew/Library/Homebrew/postinstall.rb /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core/Formula/scala.rb</span><br><span class="line">==&gt; Caveats</span><br><span class="line">To use with IntelliJ, set the Scala home to:</span><br><span class="line">  /usr/local/opt/scala/idea</span><br><span class="line">==&gt; Summary</span><br><span class="line">ğŸº  /usr/local/Cellar/scala/2.13.5: 43 files, 23.4MB, built in 14 seconds</span><br></pre></td></tr></table></figure>
<p>è€Œhomebrewæ— æ³•ä¸‹è½½æ­£ç¡®ç‰ˆæœ¬çš„sparkï¼Œå› æ­¤æ‰‹åŠ¨ä¸‹è½½åï¼Œå®‰è£…åšå®¢æ­¥éª¤è¿›è¡Œå®‰è£…ï¼Œæ‰‹åŠ¨è§£å‹å®‰è£…åœ¨/usr/loacalï¼Œé…ç½®æ—¶æ— è„‘copy</p>
<img data-src="/images/Mac%E4%B8%8Bhadoop%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%93%8D%E4%BD%9C/image-20210331150851400.png" alt="image-20210331150851400" style="zoom:80%;" />

<p>å…¶ä¸­scala_homeè·¯å¾„åº”è¯¥ä¸ºå®é™…è·¯å¾„ï¼šbrewè‡ªåŠ¨å®‰è£…åå»ºç«‹è½¯è¿æ¥çš„ <code>/usr/local/scala/bin</code> è€Œä¸æ˜¯ <code>/usr/local/scala</code>ã€‚</p>
<p><strong>è§£å†³ä¸€ï¼š</strong>ä¿æŒsparkaå®‰è£…åœ¨/usr/localç›®å½•ä¸‹ï¼Œä¿®æ”¹confä¸­çš„scala homeè·¯å¾„</p>
<p>ä¸Šå›¾ä¿®æ”¹ä¸ºå¦‚ä¸‹åï¼Œé‡æ–°è¿è¡Œspark-shellå‘½ä»¤æˆåŠŸã€‚</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">SCALA_HOME</span>=/usr/local/bin/scala</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">SPARK_MASTER_IP</span>=localhost</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">SPARK_WORKER_MEMORY</span>=4g</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">MacBook-Pro:conf joy$ spark-shell</span><br><span class="line">21/03/31 15:00:37 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">Using Spark&#x27;s default log4j profile: org/apache/spark/log4j-defaults.properties</span><br><span class="line">Setting default log level to &quot;WARN&quot;.</span><br><span class="line">To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).</span><br><span class="line">Spark context Web UI available at http://192.168.36.116:4040</span><br><span class="line">Spark context available as &#x27;sc&#x27; (master = local[*], app id = local-1617174045126).</span><br><span class="line">Spark session available as &#x27;spark&#x27;.</span><br><span class="line">Welcome to</span><br><span class="line">      ____              __</span><br><span class="line">     / __/__  ___ _____/ /__</span><br><span class="line">    _\ \/ _ \/ _ `/ __/  &#x27;_/</span><br><span class="line">   /___/ .__/\_,_/_/ /_/\_\   version 3.1.1</span><br><span class="line">      /_/</span><br><span class="line">         </span><br><span class="line">Using Scala version 2.12.10 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_271)</span><br><span class="line">Type in expressions to have them evaluated.</span><br><span class="line">Type :help for more information.</span><br><span class="line"></span><br><span class="line"><span class="meta">scala&gt;</span><span class="bash"> </span></span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³äºŒï¼ˆç†è®ºä¸Šå¯è¡Œï¼‰ï¼š</strong>æƒ³è¦å’Œbrewå®‰è£…æ–¹å¼å¯¹é½ï¼Œå°†sparkç§»åŠ¨åˆ°/usr/local/Cellarä¸‹ï¼ŒæŒ‰brewå®‰è£…çš„æ–¹å¼é‡æ–°å»ºç«‹è½¯è¿æ¥è‡³/usr/local/bin</p>
<p>é¦–å…ˆï¼Œå°†è§£å‹åçš„sparkåŒ…ç§»åŠ¨åˆ°Cellarç›®å½•ä¸‹ï¼Œä¿®æ”¹æ–‡ä»¶æ ¼å¼ï¼Œå’Œå…¶ä»–å®‰è£…åŒ…ä¿æŒä¸€è‡´ï¼Œå³Cellar/spark/3.1.1/</p>
<p>ç„¶å<code>brew link spark</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Error: Could not symlink sbin/start-all.sh</span><br><span class="line">Target /usr/local/sbin/start-all.sh</span><br><span class="line">is a symlink belonging to hadoop. You can unlink it:</span><br><span class="line">  brew unlink hadoop</span><br></pre></td></tr></table></figure>
<p>æç¤º/usr/local/biné‡Œå·²ç»æœ‰ä¸€ä¸ªåä¸º â€™start-all.shâ€˜ çš„åŒåè„šæœ¬äº†ã€‚ä¹Ÿå°±æ˜¯hadoopå’Œsparké‡Œæœ‰è„šæœ¬åé‡å¤äº†ï¼Œæ‰€ä»¥æ–¹ä¾¿èµ·è§ï¼Œé‡‡ç”¨äº†ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸ºäº†/usr/localç›®å½•çš„æ•´æ´æ€§ï¼Œå¦‚æœå¯ä»¥ï¼Œè¿˜æ˜¯ä¼˜å…ˆç”¨brewå®‰è£…ï¼Œæˆ–è€…é é½å®‰è£…ç›®å½•æ ¼å¼æ¯”è¾ƒå¥½ã€‚</p>
]]></content>
      <categories>
        <category>bigdata</category>
      </categories>
      <tags>
        <tag>hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>LinuxæœåŠ¡å™¨å®‰è£…Python3</title>
    <url>/2021/04/20/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85Python3/</url>
    <content><![CDATA[<p>æœåŠ¡å™¨Linuxä¸‹é»˜è®¤ç³»ç»Ÿè‡ªå¸¦python2.6çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬è¢«ç³»ç»Ÿå¾ˆå¤šç¨‹åºæ‰€ä¾èµ–ï¼Œæ‰€ä»¥ä¸å»ºè®®åˆ é™¤ã€‚å¦‚æœä½¿ç”¨æœ€æ–°çš„Python3é‚£ä¹ˆæˆ‘ä»¬çŸ¥é“ç¼–è¯‘å®‰è£…æºç åŒ…å’Œç³»ç»Ÿé»˜è®¤åŒ…ä¹‹é—´æ˜¯æ²¡æœ‰ä»»ä½•å½±å“çš„ã€‚æ ¹æ®å·¥ä½œéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…python3ç¯å¢ƒï¼Œç›¸å…³æ“ä½œæ­¥éª¤è®°å½•ã€‚</p>
<a id="more"></a>

<h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p>ç”±äºcentos7åŸæœ¬å°±å®‰è£…äº†Python2ï¼Œè€Œä¸”è¿™ä¸ªPython2ä¸èƒ½è¢«åˆ é™¤ï¼Œå› ä¸ºæœ‰å¾ˆå¤šç³»ç»Ÿå‘½ä»¤ï¼Œæ¯”å¦‚yuméƒ½è¦ç”¨åˆ°ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">[<span class="meta">root@iZuf6ititjgl7x9tgf1cyiZ ~</span>]<span class="meta"># python</span></span><br><span class="line">Python <span class="number">2.6</span><span class="number">.6</span> (r266:<span class="number">84292</span>, Aug <span class="number">18</span> <span class="number">2016</span>, <span class="number">15</span>:<span class="number">13</span>:<span class="number">37</span>) </span><br><span class="line">[<span class="meta">GCC 4.4.7 20120313 (Red Hat 4.4.7-17)</span>] <span class="keyword">on</span> linux2</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> <span class="keyword">or</span> <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥Pythonå‘½ä»¤ï¼ŒæŸ¥çœ‹å¯ä»¥å¾—çŸ¥æ˜¯Python2.6.6ç‰ˆæœ¬</p>
<p>è¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">which</span> python</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥æŸ¥çœ‹ä½ç½®ï¼Œä¸€èˆ¬æ˜¯ä½äº/usr/bin/pythonç›®å½•ä¸‹ã€‚</p>
<p>ä¸‹é¢ä»‹ç»å®‰è£…Python3çš„æ–¹æ³•</p>
<p>é¦–å…ˆå®‰è£…ä¾èµ–åŒ…</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">yum</span> -y groupinstall <span class="string">&quot;Development tools&quot;</span></span><br><span class="line"><span class="attribute">yum</span> -y install zlib-devel bzip<span class="number">2</span>-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db<span class="number">4</span>-devel libpcap-devel xz-devel</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ ¹æ®è‡ªå·±éœ€æ±‚ä¸‹è½½ä¸åŒç‰ˆæœ¬çš„Python3ï¼Œæˆ‘ä¸‹è½½çš„æ˜¯Python3.7.4</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">https</span>://www.python.org/ftp/python/<span class="number">3</span>.<span class="number">7</span>,<span class="number">4</span>/Python-<span class="number">3</span>.<span class="number">7</span>.<span class="number">4</span>.tar.xz</span><br></pre></td></tr></table></figure>
<p>å¦‚æœé€Ÿåº¦ä¸å¤Ÿå¿«ï¼Œå¯ä»¥ç›´æ¥å»å®˜ç½‘ä¸‹è½½ï¼Œåˆ©ç”¨WinSCPç­‰è½¯ä»¶ä¼ åˆ°æœåŠ¡å™¨ä¸ŠæŒ‡å®šä½ç½®ï¼Œæˆ‘çš„å­˜æ”¾ç›®å½•æ˜¯/usr/local/python3ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">mkdir <span class="regexp">/usr/</span>local/python3 </span><br></pre></td></tr></table></figure>
<p>å»ºç«‹ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹</p>
<p>ç„¶åè§£å‹å‹ç¼©åŒ…ï¼Œè¿›å…¥è¯¥ç›®å½•ï¼Œå®‰è£…Python3</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">tar -xvJf  Python-<span class="number">3.7</span>.<span class="number">4</span>.tar.xz</span><br><span class="line">cd Python-<span class="number">3.7</span>.<span class="number">4</span></span><br><span class="line">.<span class="regexp">/configure --prefix=/u</span>sr<span class="regexp">/local/</span>python3</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>æœ€ååˆ›å»ºè½¯é“¾æ¥</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">ln -s <span class="regexp">/usr/</span>local<span class="regexp">/python3/</span>bin<span class="regexp">/python3 /u</span>sr<span class="regexp">/bin/</span>python3</span><br><span class="line">ln -s <span class="regexp">/usr/</span>local<span class="regexp">/python3/</span>bin<span class="regexp">/pip3 /u</span>sr<span class="regexp">/bin/</span>pip3</span><br></pre></td></tr></table></figure>
<p>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥python3æµ‹è¯•</p>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ul>
<li><p>ä¾èµ–åŒ…æŸ¥æ‰¾å¤±è´¥</p>
<p>ç¼–è¯‘makeçš„æ—¶å€™ä¼šå‡ºç°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Python build finished successfully!</span><br><span class="line">The necessary bits to build these optional modules were not found:</span><br><span class="line">_curses               _curses_panel         _lzma</span><br><span class="line">_tkinter              _uuid                 readline</span><br><span class="line">To find the necessary bits, look in setup.py in detect_modules() for the module&#x27;s name.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">The following modules found by detect_modules() in setup.py, have been</span><br><span class="line">built by the Makefile instead, as configured by the Setup files:</span><br><span class="line">_abc                  atexit                pwd</span><br><span class="line">time</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æƒ…å†µä¸‹å®‰è£…pythonå‘½ä»¤å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼Œä½†æ˜¯æœ‰äº›ä»»åŠ¡ä¼šimport æŠ¥é”™ï¼Œå®‰è£…supersetæ—¶å°±é™¤äº†é—®é¢˜</p>
<p><strong>è§£å†³ï¼š</strong></p>
<ul>
<li><p>_sqlite: </p>
<p><span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTIxMDY2NC9uby1tb2R1bGUtbmFtZWQtc3FsaXRlMw==">https://stackoverflow.com/questions/1210664/no-module-named-sqlite3<i class="fa fa-external-link-alt"></i></span></p>
<p><code>yum install sqlite-devel</code></p>
<p>ç„¶åé‡æ–°ç¼–è¯‘å®‰è£…python3</p>
</li>
<li><p>_lzma:</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3VsdHJhbHl0aWNzL3lvbG92NS9pc3N1ZXMvMTI5OA==">https://github.com/ultralytics/yolov5/issues/1298<i class="fa fa-external-link-alt"></i></span></p>
</li>
</ul>
</li>
</ul>
<p>å‚è€ƒï¼š<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2EyMDk5OTQ4NzY4L2FydGljbGUvZGV0YWlscy84MTUzMTc3NA==">https://blog.csdn.net/a2099948768/article/details/81531774<i class="fa fa-external-link-alt"></i></span></p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>VMwareä¸‰ç§è”ç½‘æ–¹å¼åŠåŸç†</title>
    <url>/2021/07/03/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<p>è™šæ‹ŸæœºæŠ€æœ¯åœ¨æœ€è¿‘çš„å‡ å¹´ä¸­å¾—åˆ°äº†å¹¿æ³›çš„å‘å±•ï¼Œä¸€äº›å¤§å‹ç½‘ç»œæœåŠ¡å•†éƒ½å¼€å§‹é‡‡ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼Œä¸ä»…èŠ‚çœäº†æŠ•èµ„æˆæœ¬ï¼Œæ›´èŠ‚çº¦äº†èƒ½æºçš„æ¶ˆè€—ã€‚æˆ‘ä»¬çŸ¥é“VMwareä¹Ÿåˆ†å‡ ç§ç‰ˆæœ¬ï¼Œæ™®é€šç”¨æˆ·æœ€å¸¸ç”¨çš„å°±æ˜¯Workstationï¼Œä½†æ˜¯ä¸ç®¡ä½¿ç”¨å“ªç§ç‰ˆæœ¬ï¼Œæˆ‘ä»¬éƒ½èƒ½å‘ç°åœ¨å®‰è£…è¿‡ç¨‹ä¸­è®©æˆ‘ä»¬é€‰æ‹©ç½‘ç»œæ¨¡å¼ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šé€‰ä¸­æ¡¥æ¥æ¨¡å¼ï¼Œä½†æœ‰ç”¨æˆ·ä¼šé—®å…¶ä»–æ¨¡å¼æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Ÿæœ‰æ—¶å€™é€‰æ‹©äº†å…¶ä»–æ¨¡å¼ä¹‹åå°±ä¸èƒ½ä¸Šç½‘äº†ã€‚å­¦ä¹ sparkçš„standaloneæ¨¡å¼æ—¶ï¼Œéœ€è¦åŸºäºè™šæ‹Ÿæœºè¿›è¡Œæ¨¡æ‹Ÿé›†ç¾¤æ­å»ºã€‚æ‰€ä»¥è¯¦ç»†è®°å½•ç›¸å…³æ“ä½œç»éªŒåŠåŸç†å¤‡å¿˜ã€‚</p>
<a id="more"></a>

<h2 id="1-VMwareä¸‰ç§è”ç½‘æ–¹å¼åŠåŸç†"><a href="#1-VMwareä¸‰ç§è”ç½‘æ–¹å¼åŠåŸç†" class="headerlink" title="1. VMwareä¸‰ç§è”ç½‘æ–¹å¼åŠåŸç†"></a>1. VMwareä¸‰ç§è”ç½‘æ–¹å¼åŠåŸç†</h2><p>vmwareæä¾›ä¸‰ç§è™šæ‹Ÿæœºè”ç½‘æ–¹æ³•ï¼šbridgeæ¡¥æ¥æ¨¡å¼ï¼ŒNATç½‘ç»œåœ°å€è½¬æ¢æ¨¡å¼ï¼ŒHost-onlyä»…ä¸»æœºæ¨¡å¼ã€‚</p>
<ul>
<li><p>æ¡¥æ¥æ¨¡å¼</p>
<blockquote>
<p><strong>é¦–å…ˆç†è§£â€œæ¡¥æ¥â€çš„æ¦‚å¿µã€‚</strong></p>
<p>è·¯ç”±å™¨ä¸Šä¸€èˆ¬æœ‰å¤šä¸ªLANå£ï¼Œä¸åŒLANå£ä¹‹é—´å°±æ˜¯æ¡¥æ¥å…³ç³»ã€‚è¿™ä¸ªè·¯ç”±å™¨å°±æ˜¯â€œæ¡¥â€ã€‚ä¸€ä¸ªæ¡¥è®¾å¤‡ä¸Šæœ‰å¤šå—ç½‘å¡ï¼Œåˆ†åˆ«å¤„äºå¤šä¸ªå±€åŸŸç½‘ä¸­ã€‚æ¡¥è®¾å¤‡çš„ä½œç”¨å°±æ˜¯å­¦ä¹ ä¸åŒç½‘å£è¿æ¥çš„macåœ°å€ï¼Œå¹¶åœ¨è½¬å‘å¸§çš„æ—¶å€™æŸ¥è¯¢macåœ°å€å’ŒLANå£çš„ç»‘å®šå…³ç³»ã€‚</p>
</blockquote>
<p>VMwareçš„æ¡¥ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼Œé‡‡ç”¨æ¡¥æ¥æ¨¡å¼æ—¶ï¼ŒVMwareä¼šè™šæ‹Ÿå‡ºä¸€å—ç½‘å¡å’ŒçœŸæ­£çš„ç‰©ç†ç½‘å¡è¿›è¡Œæ¡¥æ¥ï¼Œè¿™æ ·å‘åˆ°ç‰©ç†ç½‘å¡çš„æ‰€æœ‰æ•°æ®åŒ…éƒ½åˆ°äº†VMwareè™šæ‹Ÿæœºï¼Œç”±è™šæ‹Ÿæœºå‘å‡ºçš„æ•°æ®åŒ…ä¹Ÿä¼šé€šè¿‡æ¡¥ä»ç‰©ç†ç½‘å¡é‚£ç«¯å‘å‡ºã€‚VMwareçš„è™šæ‹Ÿæœºå°±åƒå±€åŸŸç½‘ä¸­ä¸€å°ç‹¬ç«‹çš„ä¸»æœºï¼Œå¯ä»¥è®¿é—®å±€åŸŸç½‘å†…ä»»æ„ä¸€å°æœºå™¨ã€‚</p>
</li>
<li><p>NATæ¨¡å¼</p>
<p>VMwareçš„NATæ˜¯åœ¨ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´ç”¨è½¯ä»¶ä¼ªé€ å‡ºä¸€å—ç½‘å¡ï¼Œè¿™å—ç½‘å¡å’Œè™šæ‹Ÿæœºçš„ipå¤„äºåŒä¸€ä¸ªåœ°å€æ®µï¼ŒåŒæ—¶å’Œä¸»æœºçš„ç½‘ç»œæ¥å£ä¹‹é—´è¿›è¡ŒNATã€‚è™šæ‹Ÿæœºç›¸å½“äºä¸€å°å†…ç½‘è®¾å¤‡ï¼Œèƒ½å¤Ÿpingåˆ°ä¸»æœºIPã€‚</p>
</li>
<li><p>HostOnlyæ¨¡å¼</p>
<p>HostOnlyæ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿç½‘ç»œæ˜¯ä¸€ä¸ªå…¨å°é—­çš„ç½‘ç»œï¼Œå”¯ä¸€èƒ½è®¿é—®çš„å°±æ˜¯ä¸»æœºã€‚</p>
</li>
</ul>
<h2 id="2-ä¸åŒæ–¹å¼çš„è®¾ç½®åŠå…¶ä»–æ“ä½œ"><a href="#2-ä¸åŒæ–¹å¼çš„è®¾ç½®åŠå…¶ä»–æ“ä½œ" class="headerlink" title="2. ä¸åŒæ–¹å¼çš„è®¾ç½®åŠå…¶ä»–æ“ä½œ"></a>2. ä¸åŒæ–¹å¼çš„è®¾ç½®åŠå…¶ä»–æ“ä½œ</h2><p>å®‰è£…å®Œè™šæ‹Ÿæœºä¹‹åï¼Œä¼šåœ¨æ§åˆ¶é¢æ¿-&gt; ç½‘ç»œå’Œå…±äº«ä¸­å¿ƒ -&gt; æ›´æ”¹é€‚é…å™¨è®¾ç½® ä¸­ï¼Œæ–°å¢ä¸¤å—è™šæ‹Ÿç½‘å¡ï¼š</p>
<img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/image-20210703102545051.png" alt="image-20210703102545051" style="zoom:50%;" />

<p>VMware Network Adepter VMnet1ï¼šHostç”¨äºä¸Host-Onlyè™šæ‹Ÿç½‘ç»œè¿›è¡Œé€šä¿¡çš„è™šæ‹Ÿç½‘å¡<br>VMware Network Adepter VMnet8ï¼šHostç”¨äºä¸NATè™šæ‹Ÿç½‘ç»œè¿›è¡Œé€šä¿¡çš„è™šæ‹Ÿç½‘å¡</p>
<h3 id="æ¡¥æ¥æ¨¡å¼è®¾ç½®"><a href="#æ¡¥æ¥æ¨¡å¼è®¾ç½®" class="headerlink" title="æ¡¥æ¥æ¨¡å¼è®¾ç½®"></a>æ¡¥æ¥æ¨¡å¼è®¾ç½®</h3><p>è¿™ç§æ¨¡å¼ä¸‹ï¼Œéœ€è¦æ‰‹å·¥è®¾ç½®è™šæ‹Ÿæœºçš„IPåœ°å€ã€å­ç½‘æ©ç ï¼Œå¿…é¡»ä¿æŒå’Œå®¿ä¸»æœºå¤„äºåŒä¸€ä¸ªç½‘æ®µï¼Œè¿™æ ·è™šæ‹Ÿæœºæ‰èƒ½å’Œå®¿ä¸»æœºé€šä¿¡ï¼ˆæˆ‘ç†è§£ç›¸å½“äºé€šè¿‡è®¾ç½®ä¸ºåŒä¸€ç½‘æ®µï¼Œä½¿å…·å¤‡æ¡¥è®¾å¤‡çš„æ¡¥æ¥åŠŸèƒ½ï¼‰</p>
<ul>
<li><p>é¦–å…ˆç¡®å®šä¸»æœºipè®¾ç½®ï¼Œipconfig</p>
<p><img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/image-20210703110322533.png" alt="image-20210703110322533"></p>
<p>å°†è‡ªåŠ¨è·å–IPåœ°å€ä¿®æ”¹ä¸ºæŒ‡å®šip</p>
<p><img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/image-20210703110405014.png" alt="image-20210703110405014"></p>
</li>
<li><p>åœ¨VMware-&gt;edit-&gt;è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ä¸­ä¿®æ”¹è®¾ç½®VMnet</p>
<img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/20180415183840256" alt="img" style="zoom:50%;" />

<img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/20180415183903429" alt="img" style="zoom:50%;" />

<p>é€‰æ‹© æ¡¥æ¥æ¨¡å¼ï¼Œç„¶åç‚¹å‡» è¿˜åŸé»˜è®¤è®¾ç½®ï¼Œç„¶åå†é‡æ–°è¿›æ¥ï¼Œä¸æ‰“å¼€è™šæ‹Ÿæœºï¼Œè¿›å…¥è®¾ç½®é¡¹ï¼Œè®¾ç½®ä¸ºæ¡¥æ¥æ¨¡å¼ã€‚</p>
<p><img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/20180415183958794" alt="img"></p>
<p>æ‰“å¼€è™šæ‹Ÿæœºï¼Œè¿›å…¥settingsï¼Œç„¶åè®¾ç½®ipv4ç½‘ç»œ</p>
<img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/image-20210703115033366.png" alt="image-20210703115033366" style="zoom:50%;" />

<p><img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/image-20210703213335139.png" alt="image-20210703213335139"></p>
<p>è¿™é‡Œçš„192.168.124.7æ˜¯å’Œä¸»æœºipåœ¨ç»Ÿä¸€ç½‘æ®µçš„ã€‚é‡æ–°å¼€å¯ç½‘ç»œå°±å¯ä»¥çœ‹åˆ°é…ç½®å·²ç»æˆåŠŸã€‚</p>
<p><img data-src="/images/Vmware%E4%B8%89%E7%A7%8D%E8%81%94%E7%BD%91%E6%96%B9%E5%BC%8F%E5%8F%8A%E5%8E%9F%E7%90%86/image-20210703213435546.png" alt="image-20210703213435546"></p>
</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è™šæ‹Ÿæœº</tag>
      </tags>
  </entry>
  <entry>
    <title>nginx+Ngrokåœ¨macä¸‹å®ç°å†…ç½‘ç©¿é€</title>
    <url>/2021/01/09/nginx+Ngrok%E5%9C%A8mac%E4%B8%8B%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/</url>
    <content><![CDATA[<p>ä½¿ç”¨maltegoäº§å“ï¼Œç”¨å…¬å¸æ•°æ®åšå…³ç³»æ¢ç´¢æ¼”ç¤ºã€‚æœåŠ¡éƒ¨ç½²åœ¨å†…ç½‘ç¯å¢ƒä¸­ï¼Œå’Œäº§å“äº‘æœåŠ¡å¹³å°äº¤äº’éœ€è¦å®ç°å†…ç½‘ç©¿é€ã€‚ç®€å•äº†è§£ä¸‹ç›¸å…³æµç¨‹ã€‚</p>
<a id="more"></a>

<h1 id="Nginxä»‹ç»"><a href="#Nginxä»‹ç»" class="headerlink" title="Nginxä»‹ç»"></a>Nginxä»‹ç»</h1><h2 id="äº§ç”Ÿ"><a href="#äº§ç”Ÿ" class="headerlink" title="äº§ç”Ÿ"></a>äº§ç”Ÿ</h2><p>Nginxå’ŒApacheä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ç§<strong>webæœåŠ¡å™¨è½¯ä»¶</strong>ã€‚åŸºäºRESTæ¶æ„é£æ ¼ï¼Œä»¥ç»Ÿä¸€URIæˆ–URLä½œä¸ºæ²Ÿé€šä¾æ®ï¼Œé€šè¿‡HTTPåè®®æä¾›å„ç§ç½‘ç»œæœåŠ¡ã€‚ä½†<strong>Apche</strong>å‘å±•è¾ƒæ—©ï¼Œè™½ç„¶ä½œä¸ºä¸–ç•Œç¬¬ä¸€å¤§æœåŠ¡å™¨è½¯ä»¶ï¼Œå…·æœ‰<strong>ç¨³å®šã€å¼€æºã€è·¨å¹³å°</strong>çš„ä¼˜ç‚¹ï¼Œä½†æ˜¯ä»–è¢«è®¾è®¡ä¸ºä¸€ä¸ª<strong>é‡é‡çº§çš„ä¸æ”¯æŒé«˜å¹¶å‘çš„æœåŠ¡å™¨</strong>ã€‚æ•°ä»¥ä¸‡è®¡çš„å¹¶å‘è®¿é—®ä¼šå¯¼è‡´æœåŠ¡å™¨æ¶ˆè€—å¤§é‡å†…å­˜ã€‚æ“ä½œç³»ç»Ÿå¯¹å…¶è¿›è¡Œè¿›ç¨‹æˆ–çº¿ç¨‹é—´çš„åˆ‡æ¢ä¹Ÿæ¶ˆè€—äº†å¤§é‡çš„CPUèµ„æºï¼Œå¯¼è‡´HTTPè¯·æ±‚çš„å¹³å‡å“åº”é€Ÿåº¦é™ä½ã€‚</p>
<p><strong>å› æ­¤è½»é‡çº§é«˜å¹¶å‘çš„æœåŠ¡å™¨Nginxåº”è¿è€Œç”Ÿã€‚</strong></p>
<p>Nginxç”±ä¿„ç½—æ–¯å·¥ç¨‹å¸ˆé‡‡ç”¨Cè¯­è¨€å¼€å‘ï¼Œå…·æœ‰ä»¥ä¸‹<strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ol>
<li>Nginxä½¿ç”¨åŸºäº<strong>äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ï¼Œä½¿å¾—å…¶å¯ä»¥æ”¯æŒæ•°ä»¥ç™¾ä¸‡çº§åˆ«çš„TCPè¿æ¥<br>ï¼ˆ<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIuaWJtLmNvbS96aC90ZWNobm9sb2dpZXMvbWVzc2FnaW5nL2FydGljbGVzL2FkdmFudGFnZXMtb2YtYW4tZXZlbnQtZHJpdmVuLWFyY2hpdGVjdHVyZS8=">äº‹ä»¶é©±åŠ¨æ¶æ„<i class="fa fa-external-link-alt"></i></span>ï¼šæ˜¯æŒ‡<strong>æ¾æ•£è€¦åˆ</strong>çš„<strong>å¾®æœåŠ¡ç³»ç»Ÿ</strong>ï¼‰</li>
<li>é«˜åº¦çš„æ¨¡å—åŒ–å’Œè‡ªç”±è½¯ä»¶è®¸å¯è¯ä½¿å¾—ç¬¬ä¸‰æ–¹æ¨¡å—å±‚å‡ºä¸ç©·</li>
<li>è·¨å¹³å°æœåŠ¡å™¨ï¼Œå¯ä»¥è¿è¡Œåœ¨Linuxï¼ŒWindowsï¼ŒFreeBSDï¼ŒSolarisï¼ŒAIXï¼ŒMac OSç­‰æ“ä½œç³»ç»Ÿä¸Š</li>
<li>æå¤§çš„ç¨³å®šæ€§</li>
</ol>
<h1 id="Nginx-å®‰è£…ä¸é…ç½®"><a href="#Nginx-å®‰è£…ä¸é…ç½®" class="headerlink" title="Nginx å®‰è£…ä¸é…ç½®"></a>Nginx å®‰è£…ä¸é…ç½®</h1><ul>
<li><p>å®‰è£…</p>
<p><code> yum install nginx</code></p>
</li>
<li><p>é…ç½®æ–‡ä»¶è§£è¯» <span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC83NDI1Njk0Ng==">https://zhuanlan.zhihu.com/p/74256946<i class="fa fa-external-link-alt"></i></span></p>
<ul>
<li>æ–‡ä»¶ç»“æ„ï¼š</li>
</ul>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line">events &#123;</span><br><span class="line">        <span class="string">...</span></span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    server &#123;</span><br><span class="line">        <span class="string">....</span></span><br><span class="line">        location &#123;</span><br><span class="line">            root html;</span><br><span class="line">            <span class="string">...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>nginxé…ç½®æŒ‡ä»¤åˆ†ä¸º<strong>æŒ‡ä»¤å—</strong>å’Œ<strong>å•ä¸ªæŒ‡ä»¤</strong>ï¼ˆå¦‚root htmlï¼‰</p>
<ul>
<li>å…¨å±€é…ç½®</li>
</ul>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">user nginx;</span><br><span class="line">worker_processes auto;</span><br><span class="line">error_log <span class="regexp">/var/</span>log<span class="regexp">/nginx/</span>error.log;</span><br><span class="line">pid <span class="regexp">/run/</span>nginx.pid;</span><br><span class="line"></span><br><span class="line"># Load dynamic modules. See <span class="regexp">/usr/</span>share<span class="regexp">/doc/</span>nginx/README.dynamic.</span><br><span class="line"><span class="keyword">include</span> <span class="regexp">/usr/</span>share<span class="regexp">/nginx/m</span>odules<span class="comment">/*.conf;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">events &#123;</span></span><br><span class="line"><span class="comment">    worker_connections 1024;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br></pre></td></tr></table></figure>
<p><code>user</code>ï¼šæŒ‡å®šnginxçš„å·¥ä½œè¿›ç¨‹çš„ç”¨æˆ·åŠç”¨æˆ·ç»„ï¼Œé»˜è®¤æ˜¯nobodyç”¨æˆ·<br><code>worker_processes</code>:æŒ‡å®šå·¥ä½œè¿›ç¨‹çš„ä¸ªæ•°ï¼Œé»˜è®¤æ˜¯1ä¸ªã€‚å…·ä½“å¯ä»¥æ ¹æ®æœåŠ¡å™¨cpuæ•°é‡è¿›è¡Œè®¾ç½®ï¼Œæ¯”å¦‚cpuæœ‰4ä¸ªï¼Œå¯ä»¥è®¾ç½®ä¸º4ã€‚å¦‚æœä¸çŸ¥é“cpuçš„æ•°é‡ï¼Œå¯ä»¥è®¾ç½®ä¸ºautoã€‚nginxä¼šè‡ªåŠ¨åˆ¤æ–­æœåŠ¡å™¨çš„cpuä¸ªæ•°ï¼Œå¹¶è®¾ç½®ç›¸åº”çš„è¿›ç¨‹æ•°ã€‚<br><code>error_log</code>:è®¾ç½®nginxçš„é”™è¯¯æ—¥å¿—è·¯å¾„ï¼Œå¹¶è®¾ç½®ç›¸åº”çš„è¾“å‡ºçº§åˆ«ã€‚å¦‚æœç¼–è¯‘æ—¶æ²¡æœ‰æŒ‡å®šç¼–è¯‘è°ƒè¯•æ¨¡å—ï¼Œé‚£ä¹ˆ infoå°±æ˜¯æœ€è¯¦ç»†çš„è¾“å‡ºæ¨¡å¼äº†ã€‚å¦‚æœæœ‰ç¼–è¯‘debugæ¨¡å—ï¼Œé‚£ä¹ˆdebugæ—¶æœ€ä¸ºè¯¦ç»†çš„è¾“å‡ºæ¨¡å¼ã€‚è¿™é‡Œè®¾ç½®ä¸ºé»˜è®¤å°±å¥½äº†ã€‚<br><code>pid</code>: æŒ‡å®šnginxè¿›ç¨‹pidçš„æ–‡ä»¶è·¯å¾„ã€‚<br><code>events </code> :è¿™ä¸ªæŒ‡ä»¤å—ç”¨æ¥è®¾ç½®å·¥ä½œè¿›ç¨‹çš„å·¥ä½œæ¨¡å¼ä»¥åŠæ¯ä¸ªè¿›ç¨‹çš„è¿æ¥ä¸Šé™ã€‚<br>-<code>use</code> :ç”¨æ¥æŒ‡å®šnginxçš„å·¥ä½œæ¨¡å¼ï¼Œé€šå¸¸é€‰æ‹©epollï¼Œé™¤äº†epollï¼Œè¿˜æœ‰select,pollã€‚<br>-<code>worker_connections</code>:å®šä¹‰æ¯ä¸ªå·¥ä½œè¿›ç¨‹çš„æœ€å¤§è¿æ¥æ•°ï¼Œé»˜è®¤æ˜¯1024ã€‚å®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•°ï¼Œå°±è¦è€ƒè™‘æœ‰å‡ ä¸ªå·¥ä½œè¿›ç¨‹äº†ï¼Œä¸¤è€…ç›¸ä¹˜å°±æ˜¯çš„ã€‚å½“nginxä½œåå‘ä»£ç†æ—¶ï¼Œéœ€è¦é™¤ä»¥2.</p>
</li>
<li><p>ä¿®æ”¹ç«¯å£å·å’Œhtmlç›®å½•</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>       <span class="number">128</span> default_server;</span><br><span class="line">    <span class="attribute">listen</span>       [::]:<span class="number">128</span> default_server;</span><br><span class="line">    <span class="attribute">server_name</span>  _;</span><br><span class="line">    <span class="comment"># root         /usr/share/nginx/html;</span></span><br><span class="line">    <span class="attribute">root</span>         /root/CyberNarrator/ShowCyberNarrator;</span><br><span class="line">  </span><br><span class="line">    <span class="comment"># Load configuration files for the default server block.</span></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/default.d/<span class="regexp">*.conf</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">autoindex</span> <span class="literal">on</span>; <span class="comment"># æ˜¾ç¤ºç›®å½•</span></span><br><span class="line">        <span class="attribute">autoindex_exact_size</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">autoindex_localtime</span> <span class="literal">on</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">404</span> /<span class="number">404</span>.html;</span><br><span class="line">    <span class="attribute">location</span> = /<span class="number">404</span>.html &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /50x.html;</span><br><span class="line">    <span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡å¯nginxæœåŠ¡<code>nginx service start</code> åï¼Œè®¿é—®192.168.40.154:128å‡ºç°403 forbedden</p>
<p>åŸå› ï¼šWebç›®å½•/root/CyberNarrator/ShowCyberNarratoræƒé™é—®é¢˜ï¼Œä¿®æ”¹ä¸º777ä¹Ÿæ²¡æœ‰è§£å†³ã€‚å°†webç›®å½•æ”¹ä¸ºhomeä¸‹ç›®å½•/home/cyber_narrator/show_maltegoæˆåŠŸã€‚</p>
<h2 id="åŸºäºNginxåœ¨macä¸Šæ­å»ºæœ¬åœ°æ–‡ä»¶æœåŠ¡å™¨"><a href="#åŸºäºNginxåœ¨macä¸Šæ­å»ºæœ¬åœ°æ–‡ä»¶æœåŠ¡å™¨" class="headerlink" title="åŸºäºNginxåœ¨macä¸Šæ­å»ºæœ¬åœ°æ–‡ä»¶æœåŠ¡å™¨"></a>åŸºäºNginxåœ¨macä¸Šæ­å»ºæœ¬åœ°æ–‡ä»¶æœåŠ¡å™¨</h2><p>åœ¨æœåŠ¡å™¨ä¸Šå°è¯•æˆåŠŸåï¼Œå®ç°åœ¨macä¸Šæ­å»ºæ–‡ä»¶æœåŠ¡å™¨</p>
</li>
<li><p><code>brew install nginx</code> å®‰è£…nginxï¼Œå‘ç°å·²ç»å®‰è£…è¿‡ï¼Œä¸çŸ¥é“å•¥æ—¶å€™å®‰è£…çš„ã€‚</p>
</li>
<li><p>è¿è¡Œnginx <code>nginx</code> æç¤ºç«¯å£è¢«å ç”¨</p>
</li>
<li><p>æŸ¥çœ‹ç«¯å£ å ç”¨æƒ…å†µ <code>lsof -i: 8080</code></p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">COMMAND</span>   PID USER   FD   TYPE             DEVICE SIZE/<span class="literal">OFF</span> NODE NAME</span><br><span class="line"><span class="attribute">nginx</span>   <span class="number">40125</span>  joy    <span class="number">6</span>u  IPv<span class="number">4</span> <span class="number">0</span>xd<span class="number">9490</span>f<span class="number">7</span>db<span class="number">5</span>cbf<span class="number">449</span>      <span class="number">0</span>t<span class="number">0</span>  TCP *:http-alt (LISTEN)</span><br><span class="line"><span class="attribute">nginx</span>   <span class="number">40126</span>  joy    <span class="number">6</span>u  IPv<span class="number">4</span> <span class="number">0</span>xd<span class="number">9490</span>f<span class="number">7</span>db<span class="number">5</span>cbf<span class="number">449</span>      <span class="number">0</span>t<span class="number">0</span>  TCP *:http-alt (LISTEN)</span><br></pre></td></tr></table></figure></li>
<li><p>å¦‚æœéœ€è¦æ€æ‰è¿›ç¨‹ï¼Œè¾“å…¥ <code>kill -9 pid </code> æˆ– <code>kill-9 name</code></p>
</li>
<li><p>ä¿®æ”¹nginx.conf</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">     <span class="attribute">listen</span>       <span class="number">8080</span>;</span><br><span class="line">     <span class="attribute">server_name</span>  localhost;</span><br><span class="line">     <span class="attribute">root</span> /Users/joy/work/iie/project/cyber_narrator/MALTEGO/html;</span><br><span class="line">     <span class="attribute">location</span> / &#123;</span><br><span class="line">         <span class="attribute">autoindex</span> <span class="literal">on</span>; </span><br><span class="line">         <span class="attribute">autoindex_exact_size</span> <span class="literal">on</span>;</span><br><span class="line">         <span class="attribute">autoindex_localtime</span> <span class="literal">on</span>;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿å­˜é…ç½®æ–‡ä»¶ï¼Œ<code>nginx</code> è¿è¡Œï¼Œ<code>nginx -s reload</code> é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</p>
</li>
<li><p>è®¿é—® <span class="exturl" data-url="aHR0cDovL2xvY2FsaG9zdDo4MDgwL3RyYW5zZm9ybXMv">http://localhost:8080/transforms/<i class="fa fa-external-link-alt"></i></span> å³å‡ºç°web rootç›®å½•ä¸‹transformæ–‡ä»¶å¤¹çš„æ–‡ä»¶ã€‚</p>
</li>
</ul>
<h2 id="Ngrokå®ç°å†…ç½‘ç©¿é€"><a href="#Ngrokå®ç°å†…ç½‘ç©¿é€" class="headerlink" title="Ngrokå®ç°å†…ç½‘ç©¿é€"></a>Ngrokå®ç°å†…ç½‘ç©¿é€</h2><p><span class="exturl" data-url="aHR0cHM6Ly9sZWFybmt1LmNvbS9hcnRpY2xlcy8zNjEyOQ==">Ngrok<i class="fa fa-external-link-alt"></i></span>æ˜¯ä¸€ä¸ª<strong>åå‘ä»£ç†</strong>ï¼Œå†…ç½‘ç©¿é€å·¥å…·</p>
<ul>
<li><p>æ³¨å†Œè´¦å· </p>
</li>
<li><p>ä¸‹è½½å®‰è£…åŒ…</p>
</li>
<li><p><span class="exturl" data-url="aHR0cHM6Ly9kYXNoYm9hcmQubmdyb2suY29tL2dldC1zdGFydGVkL3NldHVw">é…ç½®authtoken<i class="fa fa-external-link-alt"></i></span></p>
<p><code>./ngrok authtoken 1muCRyfXzexS8Ui5RWIi4pvUNvR_2rGsMdvDwQpKcwS1iTpAo</code></p>
</li>
<li><p>è¿è¡Œå‘½ä»¤</p>
<p>ngrok http -host-header=shop.test -region us 8080</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Session</span> Status                online                                                                                  </span><br><span class="line"><span class="attribute">Account</span>                       yinjiangyi (Plan: Free)                                                                 </span><br><span class="line"><span class="attribute">Version</span>                       <span class="number">2</span>.<span class="number">3</span>.<span class="number">35</span>                                                                                  </span><br><span class="line"><span class="attribute">Region</span>                        United States (us)                                                                      </span><br><span class="line"><span class="attribute">Web</span> Interface                 http://<span class="number">127.0.0.1:4040</span>                                                                   </span><br><span class="line"><span class="attribute">Forwarding</span>                    http://<span class="number">08112</span>e<span class="number">20</span>c<span class="number">814</span>.ngrok.io -&gt; http://localhost:<span class="number">8080</span>                                   </span><br><span class="line"><span class="attribute">Forwarding</span>                    https://<span class="number">08112</span>e<span class="number">20</span>c<span class="number">814</span>.ngrok.io -&gt; http://localhost:<span class="number">8080</span>                                  </span><br><span class="line">                                                                                                                      </span><br><span class="line"><span class="attribute">Connections</span>                   ttl     opn     rt<span class="number">1</span>     rt<span class="number">5</span>     p<span class="number">50</span>     p<span class="number">90</span>                                             </span><br><span class="line">                              <span class="attribute">3</span>       <span class="number">0</span>       <span class="number">0</span>.<span class="number">00</span>    <span class="number">0</span>.<span class="number">00</span>    <span class="number">0</span>.<span class="number">00</span>    <span class="number">0</span>.<span class="number">01</span>  </span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œforwardingè¡¨ç¤ºåˆ†é…çš„åŸŸåï¼Œ<strong>å…è´¹è´¦å·æ¯æ¬¡åˆ†é…çš„åŸŸåæ— æ³•å›ºå®šï¼Œå…³é—­åå†æ¬¡è¿è¡Œä»£ç†æœåŠ¡ååŸŸåæ”¹å˜</strong>ã€‚é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥å®ç°å¤–ç½‘è®¿é—®æœåŠ¡ã€‚</p>
</li>
</ul>
<hr>
<p>ä»¥ä¸‹è®°å½•æˆ‘åœ¨æœåŠ¡å™¨ä¸Šåšäº†ä»€ä¹ˆï¼Œä»¥é˜²åç»­äº§ç”Ÿé—®é¢˜æœ‰è¿¹å¯å¾ªï¼šï¼š</p>
<ul>
<li>å®‰è£…nginxï¼Œæ­å»ºæ–‡ä»¶æœåŠ¡å™¨ï¼Œwebç›®å½•ä¸º/home/cyber_narrator/show_maltego</li>
<li>æ·»åŠ python3ç¯å¢ƒï¼Œ<ul>
<li>homeç›®å½•ä¸‹æ–°å»ºyjyç›®å½•</li>
<li>å®‰è£…ç›®å½•/usr/local/python3  <strong>æ²¡æœ‰åŠ¨ç°æœ‰çš„python2ç¯å¢ƒ</strong></li>
</ul>
</li>
</ul>
<p>å‚è€ƒï¼š<br><span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vd2N3bmluYS9wLzg3MjgzOTEuaHRtbA==">https://www.cnblogs.com/wcwnina/p/8728391.html<i class="fa fa-external-link-alt"></i></span></p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>webæœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>Flinkä»å…¥é—¨åˆ°æ”¾å¼ƒ01â€”â€”Flinkç®€ä»‹</title>
    <url>/2021/12/08/Flink%E4%BB%8E0%E5%88%B01%EF%BC%9A01-Flink%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<p>Apache Flinkæ˜¯ä¸€ä¸ªé¢å‘æ•°æ®æµå¤„ç†å’Œæ‰¹é‡æ•°æ®å¤„ç†çš„å¯åˆ†å¸ƒå¼çš„å¼€æºè®¡ç®—æ¡†æ¶ï¼Œå®ƒåŸºäºåŒä¸€ä¸ªFlinkæµå¼æ‰§è¡Œæ¨¡å‹ï¼ˆstreaming execution modelï¼‰ï¼Œèƒ½å¤Ÿæ”¯æŒæµå¤„ç†å’Œæ‰¹å¤„ç†ä¸¤ç§åº”ç”¨ç±»å‹ã€‚ç”±äºæµå¤„ç†å’Œæ‰¹å¤„ç†æ‰€æä¾›çš„SLA(æœåŠ¡ç­‰çº§åè®®)æ˜¯å®Œå…¨ä¸ç›¸åŒï¼Œ æµå¤„ç†ä¸€èˆ¬éœ€è¦æ”¯æŒä½å»¶è¿Ÿã€Exactly-onceä¿è¯ï¼Œè€Œæ‰¹å¤„ç†éœ€è¦æ”¯æŒé«˜ååã€é«˜æ•ˆå¤„ç†ï¼Œæ‰€ä»¥åœ¨å®ç°çš„æ—¶å€™é€šå¸¸æ˜¯åˆ†åˆ«ç»™å‡ºä¸¤å¥—å®ç°æ–¹æ³•ï¼Œæˆ–è€…é€šè¿‡ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºæ¡†æ¶æ¥å®ç°å…¶ä¸­æ¯ä¸€ç§å¤„ç†æ–¹æ¡ˆã€‚</p>
<a id="more"></a>

<h1 id="Flinkæ˜¯ä»€ä¹ˆ"><a href="#Flinkæ˜¯ä»€ä¹ˆ" class="headerlink" title="Flinkæ˜¯ä»€ä¹ˆ"></a>Flinkæ˜¯ä»€ä¹ˆ</h1><p>Apache flinkå‰èº«æ˜¯æŸæ—ç†å·¥å¤§å­¦ä¸€ä¸ªç ”ç©¶æ€§é¡¹ç›®ï¼Œ åœ¨ 2014 è¢« Apache å­µåŒ–å™¨æ¥æ”¶ï¼Œç„¶åè¿…é€Ÿåœ°æˆä¸ºäº†Apache Software Foundationçš„é¡¶çº§é¡¹ç›®ä¹‹ä¸€ã€‚</p>
<blockquote>
<p>Apache Flink is a framework and <em><strong>distributed</strong></em> processing engine for <em><strong>stateful</strong></em> computations over <em><strong>unbounded and bounded</strong></em> data <em><strong>streams</strong></em>.</p>
</blockquote>
<h1 id="ä¸ºä»€ä¹ˆé€‰æ‹©Flink"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©Flink" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©Flink"></a>ä¸ºä»€ä¹ˆé€‰æ‹©Flink</h1><h2 id="ä¼ ç»Ÿæ•°æ®å¤„ç†æ¶æ„"><a href="#ä¼ ç»Ÿæ•°æ®å¤„ç†æ¶æ„" class="headerlink" title="ä¼ ç»Ÿæ•°æ®å¤„ç†æ¶æ„"></a>ä¼ ç»Ÿæ•°æ®å¤„ç†æ¶æ„</h2><p>å¤§å¤šæ•°ä¼ä¸šå®æ–½çš„ä¼ ç»Ÿæ¶æ„åŒºåˆ†äº†ä¸¤ç§ç±»å‹çš„æ•°æ®å¤„ç†æ¨¡å¼ï¼šæ•°æ®äº‹åŠ¡å¤„ç†å’Œæ•°æ®åˆ†æå¤„ç†ã€‚ä¸¤ç§æ¶æ„åˆ†åˆ«é¢å‘ä¸åŒçš„åŠŸèƒ½éœ€æ±‚ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼Œå…·æœ‰å„è‡ªçš„ä¼˜åŠ¿å’Œå±€é™</p>
<h3 id="äº‹åŠ¡å¤„ç†æ¶æ„"><a href="#äº‹åŠ¡å¤„ç†æ¶æ„" class="headerlink" title="äº‹åŠ¡å¤„ç†æ¶æ„"></a>äº‹åŠ¡å¤„ç†æ¶æ„</h3><p>äº‹åŠ¡å¤„ç†æ¶æ„ä¸­ï¼Œå„ç§åº”ç”¨ç¨‹åºåˆ†åˆ«ç”±å•ç‹¬çš„å±‚ç¼–å†™ï¼Œå¦‚ç”¨æˆ·å…³ç³»å…³ç³»CRMã€è®¢å•ç³»ç»Ÿã€webåº”ç”¨ã€‚åº”ç”¨ç¨‹åºé€šå¸¸è¿æ¥åˆ°å¤–éƒ¨æœåŠ¡æˆ–ç›´æ¥é¢å‘ç”¨æˆ·ï¼Œå¹¶æŒç»­å¤„ç†ä¼ å…¥çš„äº‹ä»¶ï¼Œå¦‚ç½‘ç«™ä¸Šçš„è®¢å•ï¼Œç”µå­é‚®ä»¶æˆ–ç‚¹å‡»ã€‚å¤„ç†äº‹ä»¶æ—¶ï¼Œ<strong>åº”ç”¨ç¨‹åºå°†ä¼šè¯»å–è¿œç¨‹æ•°æ®åº“çš„çŠ¶æ€ï¼Œæˆ–è€…é€šè¿‡è¿è¡Œäº‹åŠ¡æ¥æ›´æ–°å®ƒ</strong>ã€‚é€šå¸¸ï¼Œä¸€ä¸ªæ•°æ®åº“ç³»ç»Ÿè¢«å¤šä¸ªåº”ç”¨ç¨‹åºå…±ç”¨ã€‚</p>
<p>è¿™ç§æ¶æ„çš„ä¼˜åŠ¿æ˜¯ï¼Œå¯¹äºç”¨æˆ·äº§ç”Ÿçš„äº‹ä»¶å¯ä»¥è¿›è¡Œå¿«é€Ÿçš„å“åº”ï¼Œäº‹ä»¶æ¥ä¸€ä¸ªå¤„ç†ä¸€ä¸ªï¼Œ<strong>ä½æ—¶å»¶</strong>ï¼Œä½†æ˜¯ç”±äºåå°å…±ç”¨ä¸€ä¸ªè¿œç¨‹æ•°æ®åº“ï¼Œ<strong>å½“æ•°æ®è¶Šæ¥è¶Šåºå¤§çš„æ—¶å€™ä»£ä»·ä¼šå¾ˆé«˜ï¼Œå¹¶ä¸”æ‰©å±•æ€§ä¸å¥½</strong>ã€‚åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡åˆ†å¸ƒå¼å¤„ç†æ¥è§£å†³ï¼Œä½†æ˜¯å¯¹äºéœ€è¦ç»¼åˆæ•°æ®å®ç°åˆ†æç±»åŠŸèƒ½æ—¶ï¼Œå…³ç³»å‹æ•°æ®åº“çš„è”è¡¨æŸ¥è¯¢ä¼šå‡ºé—®é¢˜ã€‚</p>
<img data-src="/images/Flink%E4%BB%8E0%E5%88%B01%EF%BC%9A01-Flink%E7%AE%80%E4%BB%8B/spaf_0101.png" alt="img" style="zoom:50%;" />

<h3 id="åˆ†æå¤„ç†æ¶æ„"><a href="#åˆ†æå¤„ç†æ¶æ„" class="headerlink" title="åˆ†æå¤„ç†æ¶æ„"></a>åˆ†æå¤„ç†æ¶æ„</h3><p>äº‹åŠ¡æ•°æ®é€šå¸¸åˆ†å¸ƒåœ¨å¤šä¸ªæ•°æ®åº“ä¸­ï¼Œå¾€å¾€æ±‡æ€»èµ·æ¥è”åˆåˆ†ææ—¶æ›´æœ‰ä»·å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥åœ¨äº‹åŠ¡æ•°æ®åº“ä¸Šè¿è¡Œåˆ†ææŸ¥è¯¢ï¼Œè€Œæ˜¯å¤åˆ¶æ•°æ®åˆ°æ•°æ®ä»“åº“ã€‚æ•°æ®ä»“åº“æ˜¯å¯¹å·¥ä½œè´Ÿè½½è¿›è¡Œåˆ†æå’ŒæŸ¥è¯¢çš„ä¸“ç”¨æ•°æ®å­˜å‚¨ã€‚ä¸ºäº†å¡«å……æ•°æ®ä»“åº“ï¼Œéœ€è¦å°†äº‹åŠ¡æ•°æ®åº“ç³»ç»Ÿç®¡ç†çš„æ•°æ®å¤åˆ¶è¿‡æ¥ã€‚<strong>å°†æ•°æ®å¤åˆ¶åˆ°æ•°æ®ä»“åº“çš„è¿‡ç¨‹ç§°ä¸ºextract-transform-loadï¼ˆETLï¼‰</strong>ã€‚ ETLè¿‡ç¨‹ä»äº‹åŠ¡æ•°æ®åº“ä¸­æå–æ•°æ®ï¼Œå°†å…¶è½¬æ¢ä¸ºæŸç§é€šç”¨çš„ç»“æ„è¡¨ç¤ºï¼Œå¯èƒ½åŒ…æ‹¬éªŒè¯ï¼Œå€¼çš„è§„èŒƒåŒ–ï¼Œç¼–ç ï¼Œé‡å¤æ•°æ®åˆ é™¤ï¼ˆå»é‡ï¼‰å’Œæ¨¡å¼è½¬æ¢ï¼Œæœ€åå°†å…¶åŠ è½½åˆ°åˆ†ææ•°æ®åº“ä¸­ã€‚ ETLè¿‡ç¨‹å¯èƒ½éå¸¸å¤æ‚ï¼Œå¹¶ä¸”é€šå¸¸éœ€è¦æŠ€æœ¯å¤æ‚çš„è§£å†³æ–¹æ¡ˆæ¥æ»¡è¶³æ€§èƒ½è¦æ±‚ã€‚ ETLè¿‡ç¨‹éœ€è¦å®šæœŸè¿è¡Œä»¥ä¿æŒæ•°æ®ä»“åº“ä¸­çš„æ•°æ®åŒæ­¥ã€‚</p>
<p>æ•°æ®ä»“åº“ä¸Šçš„æŸ¥è¯¢ç±»å‹æœ‰ä¸¤ç§ï¼š<strong>ç¬¬ä¸€ç§ç±»å‹æ˜¯å®šæœŸæŠ¥å‘ŠæŸ¥è¯¢</strong>ï¼Œç”¨äºè®¡ç®—ä¸ä¸šåŠ¡ç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯ã€‚<strong>ç¬¬äºŒç§ç±»å‹æ˜¯å³å¸­æŸ¥è¯¢</strong>ï¼Œæ—¨åœ¨æä¾›ç‰¹å®šé—®é¢˜çš„ç­”æ¡ˆå¹¶æ”¯æŒå…³é”®ä¸šåŠ¡å†³ç­–ã€‚ä¸¤ç§æŸ¥è¯¢ç”±æ‰¹å¤„ç†æ–¹å¼ç”±æ•°æ®ä»“åº“æ‰§è¡Œã€‚</p>
<p>è¿™ç§æ¶æ„çš„é—®é¢˜å¾ˆæ˜æ˜¾ï¼Œ<strong>å®æ—¶æ€§è¾ƒå·®</strong>ï¼Œä¸é€‚ç”¨äºå»¶è¿Ÿè¦æ±‚ä½çš„äº‹åŠ¡å¤„ç†è¦æ±‚ã€‚</p>
<img data-src="https://confucianzuoyuan.github.io/flink-tutorial/book/images/spaf_0103.png" alt="img" style="zoom: 50%;" />

<h2 id="æµå¤„ç†æ¶æ„"><a href="#æµå¤„ç†æ¶æ„" class="headerlink" title="æµå¤„ç†æ¶æ„"></a>æµå¤„ç†æ¶æ„</h2><p>æµå¤„ç†çš„ç›®æ ‡å°±æ˜¯æ¨¡æ‹ŸçœŸå®æƒ…å†µä¸‹çš„æ•°æ®ç‰¹ç‚¹ï¼ŒåŒæ—¶æ»¡è¶³ä½å»¶è¿Ÿã€é«˜ååçš„æ•°æ®å¤„ç†è¦æ±‚ã€‚</p>
<h3 id="æœ‰çŠ¶æ€çš„æµå¤„ç†"><a href="#æœ‰çŠ¶æ€çš„æµå¤„ç†" class="headerlink" title="æœ‰çŠ¶æ€çš„æµå¤„ç†"></a>æœ‰çŠ¶æ€çš„æµå¤„ç†</h3><p>æœ‰çŠ¶æ€çš„æµå¤„ç†æ–¹å¼å°†æ•°æ®çš„ä¸­é—´çŠ¶æ€ç›´æ¥å­˜å‚¨åœ¨å†…å­˜å½“ä¸­ï¼Œå¤„ç†è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦è¿›è¡Œåå¤å†™å…¥å’Œæ›´æ–°è¿œç¨‹æ•°æ®åº“ï¼Œè€Œç›´æ¥åŸºäºå†…å­˜å­˜å‚¨çŠ¶æ€å®Œæˆè®¡ç®—ã€‚ç”±äºä¿å­˜åœ¨å†…å­˜ä¸­çš„çŠ¶æ€ï¼ˆlocal stateï¼‰å®¹æ˜“ä¸¢å¤±ï¼Œå¯ä»¥ä¾é å®šæœŸå°†åº”ç”¨ç¨‹åºçŠ¶æ€çš„ä¸€è‡´æ€§æ£€æŸ¥ç‚¹ï¼ˆcheck pointï¼‰å†™å…¥è¿œç¨‹ä¸”æŒä¹…çš„å­˜å‚¨ã€‚å› æ­¤åŒæ—¶å…·å¤‡<strong>é«˜ååã€ä½å»¶è¿Ÿã€å¯é </strong>çš„ç‰¹å®šã€‚</p>
<img data-src="https://confucianzuoyuan.github.io/flink-tutorial/book/images/spaf_0104.png" alt="img" style="zoom:50%;" />

<h3 id="lambdaæ¶æ„"><a href="#lambdaæ¶æ„" class="headerlink" title="lambdaæ¶æ„"></a>lambdaæ¶æ„</h3><p>åŸºäºæœ‰çŠ¶æ€æµå¤„ç†æ–¹æ¡ˆè®¾è®¡çš„ç¬¬ä¸€ä»£åˆ†å¸ƒå¼å¼€æºæµå¤„ç†å™¨ï¼ˆ2011ï¼‰ï¼Œä¸“æ³¨äºå…·æœ‰æ¯«ç§’å»¶è¿Ÿçš„äº‹ä»¶å¤„ç†ï¼Œå¹¶æä¾›äº†åœ¨å‘ç”Ÿæ•…éšœæ—¶é˜²æ­¢äº‹ä»¶ä¸¢å¤±çš„ä¿è¯ã€‚è¿™äº›ç³»ç»Ÿå…·æœ‰ç›¸å½“ä½çº§çš„APIï¼Œå¹¶ä¸”å¯¹äºæµåº”ç”¨ç¨‹åºçš„å‡†ç¡®æ€§å’Œç»“æœçš„ä¸€è‡´æ€§ï¼Œä¸æä¾›å†…ç½®æ”¯æŒï¼Œå› ä¸ºç»“æœä¼šå–å†³äºåˆ°è¾¾äº‹ä»¶çš„æ—¶é—´å’Œé¡ºåºã€‚å¦å¤–ï¼Œå³ä½¿äº‹ä»¶æ²¡æœ‰ä¸¢å¤±ï¼Œä¹Ÿå¯èƒ½ä¸æ­¢ä¸€æ¬¡åœ°å¤„ç†å®ƒä»¬ã€‚<strong>ä¸æ‰¹å¤„ç†å™¨ç›¸æ¯”ï¼Œç¬¬ä¸€ä»£å¼€æºæµå¤„ç†å™¨ç‰ºç‰²äº†ç»“æœå‡†ç¡®æ€§ï¼Œç”¨æ¥è·å¾—æ›´ä½çš„å»¶è¿Ÿ</strong>ã€‚ä¸ºäº†è®©å½“æ—¶çš„æ•°æ®å¤„ç†ç³»ç»Ÿï¼Œå¯ä»¥åŒæ—¶æä¾›å¿«é€Ÿå’Œå‡†ç¡®çš„ç»“æœï¼Œè®¾è®¡äº†lambdaæ¶æ„ã€‚</p>
<img data-src="https://confucianzuoyuan.github.io/flink-tutorial/book/images/spaf_0107.png" alt="img" style="zoom:50%;" />

<p>æ‰¹å¤„ç†å™¨å®šæœŸå¤„ç†æ‰¹é‡å­˜å‚¨ä¸­çš„æ•°æ®ï¼Œå°†å‡†ç¡®çš„ç»“æœå†™å…¥æ‰¹å¤„ç†è¡¨ï¼Œå¹¶ä»é€Ÿåº¦è¡¨ä¸­åˆ é™¤ç›¸åº”çš„ä¸å‡†ç¡®ç»“æœã€‚åº”ç”¨ç¨‹åºä¼šåˆå¹¶å¿«é€Ÿè¡¨ä¸­çš„è¿‘ä¼¼ç»“æœå’Œæ‰¹å¤„ç†è¡¨ä¸­çš„å‡†ç¡®ç»“æœï¼Œç„¶åæ¶ˆè´¹æœ€ç»ˆçš„ç»“æœã€‚</p>
<p>è¿™ç§æ¶æ„çš„é—®é¢˜åœ¨äºï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½éœ€è¦å®ç°ä¸¤ä¸ªç‹¬ç«‹çš„ã€å…·æœ‰ä¸åŒAPIçš„å¤„ç†ç³»ç»Ÿï¼Œéš¾ä»¥å»ºç«‹å’Œç»´æŠ¤ã€‚</p>
<h2 id="flinkæ¶æ„ç‰¹ç‚¹"><a href="#flinkæ¶æ„ç‰¹ç‚¹" class="headerlink" title="flinkæ¶æ„ç‰¹ç‚¹"></a>flinkæ¶æ„ç‰¹ç‚¹</h2><h3 id="ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸»è¦ç‰¹ç‚¹"></a>ä¸»è¦ç‰¹ç‚¹</h3><ul>
<li><p>äº‹ä»¶é©±åŠ¨ Event-drive</p>
<p><strong>äº‹ä»¶é©±åŠ¨çš„åº”ç”¨ç¨‹åº</strong>æ˜¯æœ‰çŠ¶æ€çš„åº”ç”¨ç¨‹åºï¼Œå®ƒä»ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶ä¸­æå–äº‹ä»¶ï¼Œå¹¶é€šè¿‡è§¦å‘è®¡ç®—ï¼ŒçŠ¶æ€æ›´æ–°æˆ–å¤–éƒ¨æ“ä½œæ¥å¯¹ä¼ å…¥çš„äº‹ä»¶åšå‡ºååº”ã€‚</p>
<img data-src="/images/Flink%E4%BB%8E0%E5%88%B01%EF%BC%9A01-Flink%E7%AE%80%E4%BB%8B/image-20211208142135187.png" alt="image-20211208142135187" style="zoom: 67%;" /></li>
<li><p>åŸºäºæµçš„ä¸–ç•Œè§‚</p>
<p>ä¸€åˆ‡éƒ½æ˜¯ç”±æµç»„æˆçš„ï¼Œ<strong>ç¦»çº¿æ•°æ®æ˜¯æœ‰ç•Œçš„æµ;å®æ—¶æ•°æ®æ˜¯ä¸€ä¸ªæ²¡æœ‰ç•Œé™çš„æµ</strong></p>
</li>
<li><p>åˆ†å±‚API</p>
<ul>
<li>è¶Šé¡¶å±‚è¶ŠæŠ½è±¡ï¼Œè¡¨è¾¾å«ä¹‰è¶Šç®€æ˜ï¼Œä½¿ç”¨è¶Šæ–¹ä¾¿</li>
<li>è¶Šåº•å±‚è¶Šå…·ä½“ï¼Œè¡¨è¾¾èƒ½åŠ›è¶Šä¸°å¯Œï¼Œä½¿ç”¨è¶Šçµæ´»</li>
</ul>
<img data-src="/images/Flink%E4%BB%8E0%E5%88%B01%EF%BC%9A01-Flink%E7%AE%80%E4%BB%8B/image-20211208142557976.png" alt="image-20211208142557976" style="zoom:50%;" /></li>
</ul>
<h3 id="å…¶ä»–ç‰¹ç‚¹"><a href="#å…¶ä»–ç‰¹ç‚¹" class="headerlink" title="å…¶ä»–ç‰¹ç‚¹"></a>å…¶ä»–ç‰¹ç‚¹</h3><ul>
<li><p>æ”¯æŒäº‹ä»¶æ—¶é—´ï¼ˆevent-timeï¼‰å’Œå¤„ç†æ—¶é—´(processing-time)è¯­ä¹‰</p>
<ul>
<li><p><strong><code>Processing Time</code>(å¤„ç†æ—¶é—´)æ˜¯æŒ‡æ‰§è¡Œç›¸åº”æ“ä½œçš„æœºå™¨ç³»ç»Ÿæ—¶é—´</strong>ï¼Œæ˜¯æ“ä½œç®—å­åœ¨è®¡ç®—è¿‡ç¨‹ä¸­è·å–åˆ°çš„æ‰€åœ¨ä¸»æœºçš„ç³»ç»Ÿæ—¶é—´ã€‚å½“ç”¨æˆ·é€‰æ‹©ä½¿ç”¨å¤„ç†æ—¶é—´æ—¶ï¼Œæ‰€æœ‰å’Œæ—¶é—´ç›¸å…³çš„ç®—å­ï¼Œä¾‹å¦‚ Windows è®¡ç®—ï¼Œåœ¨å½“å‰ä»»åŠ¡ä¸­æ‰€æœ‰çš„ç®—å­ç›´æ¥ä½¿ç”¨æ‰€åœ¨ä¸»æœºçš„ç³»ç»Ÿæ—¶é—´ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªåŸºäºå¤„ç†æ—¶é—´æŒ‰æ¯å°æ—¶è¿›è¡Œå¤„ç†çš„æ—¶é—´çª—å£å°†å¤„ç†ä¸€ä¸ªå°æ—¶å†…ï¼ˆä»¥ç³»ç»Ÿæ—¶é—´ä¸ºæ ‡å‡†ï¼‰åˆ°è¾¾æŒ‡å®šç®—å­çš„æ‰€æœ‰çš„è®°å½•ã€‚</p>
<p>å¤„ç†æ—¶é—´æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªæ—¶é—´æ¦‚å¿µï¼Œä¸éœ€è¦åœ¨æ•°æ®æµå’Œæœºå™¨ä¹‹é—´è¿›è¡Œåè°ƒã€‚å…·æœ‰æœ€å¥½çš„æ€§èƒ½å’Œæœ€ä½çš„å»¶è¿Ÿã€‚ç„¶è€Œï¼Œåœ¨åˆ†å¸ƒå¼æˆ–è€…å¼‚æ­¥ç¯å¢ƒä¸­ï¼Œå¤„ç†æ—¶é—´å…·æœ‰ä¸ç¡®å®šæ€§ï¼Œå› ä¸ºå®¹æ˜“å—åˆ°è®°å½•åˆ°è¾¾ç³»ç»Ÿé€Ÿåº¦çš„å½±å“(ä¾‹å¦‚ï¼Œä»æ¶ˆæ¯é˜Ÿåˆ—åˆ°è¾¾çš„è®°å½•)ï¼Œè¿˜ä¼šå—åˆ°ç³»ç»Ÿå†…è®°å½•åœ¨ä¸åŒç®—å­ä¹‹é—´çš„æµåŠ¨é€Ÿåº¦çš„å½±å“ã€‚å¯¹æ•°æ®ä¹±åºçš„å¤„ç†ï¼Œå¤„ç†æ—¶é—´ä¸æ˜¯ä¸€ç§æœ€ä¼˜çš„é€‰æ‹©ã€‚æ€»ä¹‹ï¼Œ<strong>å¤„ç†æ—¶é—´é€‚ç”¨äºæ—¶é—´è®¡ç®—ç²¾åº¦è¦æ±‚ä¸æ˜¯ç‰¹åˆ«é«˜çš„è®¡ç®—åœºæ™¯</strong>ã€‚</p>
</li>
<li><p>**<code>Event Time</code>(äº‹ä»¶æ—¶é—´)æ˜¯æ¯ä¸ªäº‹ä»¶åœ¨äº§ç”Ÿå®ƒçš„è®¾å¤‡ä¸Šå‘ç”Ÿçš„æ—¶é—´ã€‚****åœ¨è¿›å…¥ Flink ä¹‹å‰ï¼Œäº‹ä»¶æ—¶é—´é€šå¸¸è¦åµŒå…¥åˆ°è®°å½•ä¸­ï¼Œå¹¶ä¸”äº‹ä»¶æ—¶é—´ä¹Ÿå¯ä»¥ä»è®°å½•ä¸­æå–å‡ºæ¥ã€‚å¯¹äºäº‹ä»¶æ—¶é—´ï¼Œæ—¶é—´çš„è¿›åº¦å–å†³äºæ•°æ®ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿæ—¶é’Ÿã€‚åŸºäºäº‹ä»¶æ—¶é—´çš„ç¨‹åºå¿…é¡»æŒ‡å®šå¦‚ä½•ç”Ÿæˆäº‹ä»¶æ—¶é—´çš„<code>Watermarks</code>ï¼Œè¿™æ˜¯è¡¨ç¤ºäº‹ä»¶æ—¶é—´è¿›åº¦çš„æœºåˆ¶ã€‚</p>
<p>åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œäº‹ä»¶æ—¶é—´å¤„ç†å°†äº§ç”Ÿå®Œå…¨ä¸€è‡´ä¸”ç¡®å®šçš„ç»“æœï¼Œæ— è®ºäº‹ä»¶ä½•æ—¶åˆ°è¾¾ä»¥åŠä»¥ä»€ä¹ˆæ ·çš„é¡ºåºåˆ°è¾¾ã€‚ä½†æ˜¯ï¼Œé™¤éå·²çŸ¥äº‹ä»¶æ˜¯æŒ‰é¡ºåºï¼ˆæŒ‰æ—¶é—´æˆ³ï¼‰åˆ°è¾¾ï¼Œå¦åˆ™äº‹ä»¶æ—¶é—´å¤„ç†åœ¨ç­‰å¾…æ— åºäº‹ä»¶æ—¶äº§ç”Ÿä¸€å®šçš„å»¶è¿Ÿã€‚ç”±äºåªèƒ½ç­‰å¾…æœ‰é™çš„æ—¶é—´ï¼Œå› æ­¤è¿™é™åˆ¶äº†äº‹ä»¶æ—¶é—´åº”ç”¨ç¨‹åºçš„ç¡®å®šæ€§ã€‚</p>
<p>å‡å®šæ‰€æœ‰æ•°æ®éƒ½å·²åˆ°è¾¾ï¼Œäº‹ä»¶æ—¶é—´ç®—å­å°†æŒ‰é¢„æœŸæ–¹å¼è¿è¡Œï¼Œå³ä½¿åœ¨å¤„ç†æ— åºã€è¿Ÿåˆ°äº‹ä»¶æˆ–é‡æ–°å¤„ç†å†å²æ•°æ®æ—¶ï¼Œä¹Ÿä¼šäº§ç”Ÿæ­£ç¡®ä¸”ä¸€è‡´çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œæ¯å°æ—¶äº‹ä»¶æ—¶é—´çª—å£å°†å°†å¤„ç†äº‹ä»¶æ—¶é—´åœ¨è¿™ä¸€å°æ—¶ä¹‹å†…æ‰€æœ‰çš„è®°å½•ï¼Œä¸ç®¡å®ƒä»¬ä½•æ—¶åˆ°è¾¾ï¼Œä»¥åŠå®ƒä»¬ä»¥ä»€ä¹ˆé¡ºåºåˆ°è¾¾ã€‚</p>
<p><strong>æŒ‰äº‹ä»¶æ—¶é—´å¤„ç†å¾€å¾€ä¼šå¯¼è‡´ä¸€å®šçš„å»¶è¿Ÿï¼Œå› ä¸ºå®ƒè¦ç­‰å¾…å»¶è¿Ÿäº‹ä»¶å’Œæ— åºäº‹ä»¶ä¸€æ®µæ—¶é—´ã€‚å› æ­¤ï¼Œäº‹ä»¶æ—¶é—´ç¨‹åºé€šå¸¸ä¸å¤„ç†æ—¶é—´æ“ä½œç›¸ç»“åˆä½¿ç”¨ã€‚</strong></p>
</li>
</ul>
</li>
<li><p>ç²¾ç¡®ä¸€æ¬¡(exactly-once)çš„çŠ¶æ€ä¸€è‡´æ€§ä¿è¯</p>
<ul>
<li><strong>çŠ¶æ€</strong>ï¼šä¸ºäº†äº§ç”Ÿä¸€ä¸ªç»“æœï¼Œå‡½æ•°ä¸€èˆ¬ä¼šèšåˆæŸä¸ªæ—¶é—´æ®µå†…ï¼ˆæˆ–æ˜¯ä¸€å®šæ•°é‡çš„ï¼‰eventsçš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¾‹å¦‚è®¡ç®—èšåˆå€¼ï¼Œæˆ–æ˜¯å‘ç°ä¸€ä¸ªæ¨¡å¼ï¼‰ï¼Œæœ‰çŠ¶æ€çš„ operatorsä½¿ç”¨æµçš„è¾“å…¥äº‹ä»¶ä»¥åŠå†…éƒ¨çŠ¶æ€ï¼Œè®¡ç®—å‡ºå®ƒä»¬çš„è¾“å‡ºã€‚<strong>ä¾‹å¦‚ï¼Œä¸€ä¸ªæ»šåŠ¨èšåˆoperatorè¾“å‡ºå½“å‰å®ƒè¯»å…¥çš„æ‰€æœ‰çš„eventsçš„æ€»å’Œã€‚Operator æŒæœ‰å½“å‰sumçš„å€¼ä½œä¸ºå®ƒçš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨æ¯æ¬¡è¯»å…¥æ–°å€¼æ—¶å¯¹å®ƒåšæ›´æ–°ã€‚</strong></li>
<li><strong>exactly-once</strong>ï¼šæµå¤„ç†ç³»ç»Ÿé€šè¿‡æä¾›ç»“æœä¿éšœï¼ˆresult guaranteesï¼‰å®šä¹‰ä»»åŠ¡åœ¨æ•…éšœå‘ç”Ÿæ—¶çš„è¡Œä¸ºã€‚ä¸»æµæµå¤„ç†å™¨æä¾›çš„ä¿éšœï¼ˆguaranteesï¼‰åŒ…æ‹¬<strong>è‡³å¤šä¸€æ¬¡at-most-onceã€è‡³å°‘ä¸€æ¬¡ï¼ˆAT-LEAST-ONCEï¼‰ã€ç²¾ç¡®ä¸€æ¬¡ï¼ˆEXACTLY-ONCEï¼‰</strong>ç­‰ã€‚exactly-onceæ˜¯æœ€ä¸¥ä¸ªä¿éšœã€‚</li>
</ul>
</li>
<li><p>ä½å»¶è¿Ÿï¼Œæ¯ç§’å¤„ç†æ•°ç™¾ä¸‡ä¸ªäº‹ä»¶ï¼Œæ¯«ç§’çº§å»¶è¿Ÿ</p>
</li>
<li><p>ä¸ä¼—å¤šå¸¸ç”¨å­˜å‚¨ç³»ç»Ÿçš„è¿æ¥</p>
</li>
<li><p>é«˜å¯ç”¨ï¼ŒåŠ¨æ€æ‰©å±•ï¼Œå®ç°7*24å°æ—¶å…¨å¤©å€™è¿è¡Œ</p>
</li>
</ul>
<h3 id="Flink-amp-Spark-streaming"><a href="#Flink-amp-Spark-streaming" class="headerlink" title="Flink &amp; Spark streaming"></a>Flink &amp; Spark streaming</h3><ul>
<li>spark streaming æœ¬è´¨æ˜¯å¾®æ‰¹å¤„ç†ï¼Œflinkæ˜¯çœŸæ­£çš„æµå¤„ç†å¹³å°</li>
<li>sparké‡‡ç”¨RDD(å¼¹æ€§åˆ†å¸ƒå¼ç®—å­)ï¼ŒflinkåŸºæœ¬æ•°æ®æ¨¡å‹æ˜¯æ•°æ®æµ</li>
<li>sparkæ˜¯æ‰¹è®¡ç®—ï¼Œå°†DAGåˆ’åˆ†æˆä¸åŒçš„stageï¼Œï¼ˆä¸€ä¸ªå•ä½çš„ï¼‰æ‰€æœ‰æ•°æ®å®Œæˆä¸€ä¸ªstageæ‰èƒ½å¼€å§‹ä¸‹ä¸€ä¸ªï¼Œæœ‰ä¸€å®šçš„å»¶è¿Ÿï¼›flinkä¸€ä¸ªäº‹ä»¶åœ¨ä¸€ä¸ªèŠ‚ç‚¹å¤„ç†å®Œæˆåå¯ä»¥ç›´æ¥å‘å¾€ä¸‹ä¸€ä¸ª</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>ä¼ ç»Ÿæ¶æ„æ¼”è¿› <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dhbm51b2dlNDc2Ni9hcnRpY2xlL2RldGFpbHMvOTQ0ODQyNjM=">https://blog.csdn.net/wannuoge4766/article/details/94484263<i class="fa fa-external-link-alt"></i></span><br>æ•™ç¨‹è§†é¢‘ <span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMXF5NHkxcTcyOD9wPTQ=">https://www.bilibili.com/video/BV1qy4y1q728?p=4<i class="fa fa-external-link-alt"></i></span><br>flinkæ•™ç¨‹æ–‡æ¡£ <span class="exturl" data-url="aHR0cHM6Ly9jb25mdWNpYW56dW95dWFuLmdpdGh1Yi5pby9mbGluay10dXRvcmlhbC9ib29rLw==">https://confucianzuoyuan.github.io/flink-tutorial/book/<i class="fa fa-external-link-alt"></i></span><br>æ—¶é—´æ—¶é—´ <span class="exturl" data-url="aHR0cDovL3NtYXJ0c2kuY2x1Yi9mbGluay1zdHJlYW0tZXZlbnQtdGltZS1hbmQtcHJvY2Vzc2luZy10aW1lLmh0bWw=">http://smartsi.club/flink-stream-event-time-and-processing-time.html<i class="fa fa-external-link-alt"></i></span><br>çŠ¶æ€ä¸€è‡´ <span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vemFja3N0YW5nL3AvMTA4NTAwMjMuaHRtbA==">https://www.cnblogs.com/zackstang/p/10850023.html<i class="fa fa-external-link-alt"></i></span></p>
]]></content>
      <categories>
        <category>BigData</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>å†…ç½‘å®ç°maltego-TDS-transform</title>
    <url>/2021/01/11/%E5%86%85%E7%BD%91%E5%AE%9E%E7%8E%B0maltego-TDS-transform/</url>
    <content><![CDATA[<p>å°†æœ¬åœ°æ•°æ®åº“ä¸­å®ä½“å…³ç³»é€šè¿‡maltegoäº§å“ç•Œé¢è¿›è¡Œç”»å¸ƒæ¢ç´¢å±•ç¤ºã€‚maltegoäº§å“æ”¯æŒè‡ªå®šä¹‰local transformï¼ˆåŸºäºç»™å®šèŠ‚ç‚¹è¿›è¡Œå…³è”èŠ‚ç‚¹çš„æ¢ç´¢è¿‡ç¨‹ï¼‰ï¼Œä½†æ˜¯localæ–¹å¼çš„å®ç°éœ€è¦ç”¨æˆ·æ ¹æ®è®¾å¤‡çš„å…·ä½“æƒ…å†µï¼Œå¯¹pythonç¼–è¯‘å™¨ç­‰è¿›è¡Œé…ç½®ï¼Œä¸æ–¹ä¾¿åŠŸèƒ½å…±äº«å’Œå±•ç¤ºã€‚TDS-transformç»“åˆå†…ç½‘ç©¿é€å¯ä»¥è§£å†³åˆ†å¸ƒå¼æ“ä½œéœ€æ±‚ã€‚</p>
<a id="more"></a>

<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å·¥ä½œä»»åŠ¡ï¼š</p>
<p>å°†æœ¬åœ°æ•°æ®åº“ä¸­å®ä½“å…³ç³»é€šè¿‡maltegoäº§å“ç•Œé¢è¿›è¡Œç”»å¸ƒæ¢ç´¢å±•ç¤ºã€‚maltegoäº§å“æ”¯æŒè‡ªå®šä¹‰local transformï¼ˆåŸºäºç»™å®šèŠ‚ç‚¹è¿›è¡Œå…³è”èŠ‚ç‚¹çš„æ¢ç´¢è¿‡ç¨‹ï¼‰ï¼Œä½†æ˜¯localæ–¹å¼çš„å®ç°éœ€è¦ç”¨æˆ·æ ¹æ®è®¾å¤‡çš„å…·ä½“æƒ…å†µï¼Œå¯¹pythonç¼–è¯‘å™¨ç­‰è¿›è¡Œé…ç½®ï¼Œä¸æ–¹ä¾¿åŠŸèƒ½å…±äº«å’Œå±•ç¤ºã€‚</p>
<p>maltegoçš„å¦ä¸€ç§transformå½¢å¼ä¸ºTransform Distribution Serverï¼ˆTDSï¼‰ï¼Œè¿™ç§æ–¹å¼å°±æ˜¯ä¸ºäº†è§£å†³å¤šäººåä½œæƒ…å†µä¸‹çš„transformå¼€å‘é—®é¢˜ã€‚ç”¨æˆ·é€šè¿‡ç®€å•é…ç½®åœ¨maltegoå®¢æˆ·ç«¯é›†æˆTDS transformç»„ã€‚å½“æ‰§è¡Œå…¶ä¸­çš„TDS transformæ—¶ï¼Œå®¢æˆ·ç«¯å‘é€å¿…è¦ä¿¡æ¯ï¼ˆseed, transform name, input entityï¼‰è¯·æ±‚TDSï¼ŒTDSæ‰§è¡Œä»£ç†è§’è‰²ï¼ŒæŸ¥è¯¢å¯¹åº”çš„transformé…ç½®ä¿¡æ¯ï¼Œå®šä½åˆ°transformä»£ç çœŸæ­£éƒ¨ç½²çš„webæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
<p>Maltegoçš„å…¬å…±TDSæœåŠ¡å™¨<span class="exturl" data-url="aHR0cHM6Ly9jZXRhcy5wYXRlcnZhLmNvbS9URFMvJUVGJUJDJThDJUU2JUIzJUE4JUU1JTg2JThDJUU3JTk5JUJCJUU1JUJEJTk1JUU1JThEJUIzJUU1JThGJUFGJUU0JUJEJUJGJUU3JTk0JUE4JUUzJTgwJTgyJUU1JUFFJUEyJUU2JTg4JUI3JUU3JUFCJUFGJUU5JTg1JThEJUU3JUJEJUFFJUU2JTk3JUI2JUU0JUJCJTg1JUU5JTlDJTgwJUU4JUE2JTgxJUU2JUI3JUJCJUU1JThBJUEwc2VlZCVFNCVCRiVBMSVFNiU4MSVBRiVFMyU4MCU4MiVFNSU5QyVBOCVFOCU4NyVBQSVFNSVBRSU5QSVFNCVCOSU4OXRyYW5zZm9ybSVFNiU5NyVCNiVFOSU5QyU4MCVFOCVBNiU4MSVFNSVBMSVBQiVFNSU4NiU5OXRyYW5zZm9ybSVFNCVCQiVBMyVFNyVBMCU4MSVFNiU4OSU4MCVFNSU5QyVBOCVFNyU5QSU4NHNlcnZlciVFNSU5QyVCMCVFNSU5RCU4MCVFMyU4MCU4Mg==">https://cetas.paterva.com/TDS/ï¼Œæ³¨å†Œç™»å½•å³å¯ä½¿ç”¨ã€‚å®¢æˆ·ç«¯é…ç½®æ—¶ä»…éœ€è¦æ·»åŠ seedä¿¡æ¯ã€‚åœ¨è‡ªå®šä¹‰transformæ—¶éœ€è¦å¡«å†™transformä»£ç æ‰€åœ¨çš„serveråœ°å€ã€‚<i class="fa fa-external-link-alt"></i></span></p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111171505571.png" alt="image-20210111171505571" style="zoom:50%;" />



<p><strong>éœ€è¦è§£å†³çš„é—®é¢˜</strong>ï¼šmaltegoæä¾›å…¬å…±TDSçš„ä½¿ç”¨ï¼Œpythonç¬¬ä¸‰æ–¹åº“maltego-trxæä¾›äº†transformå¼€å‘å·¥å…·åŒ…å’Œè¿è¡Œtransform serverçš„æ¨¡æ¿ã€‚å› æ­¤å”¯ä¸€éœ€è¦è§£å†³çš„å°±æ˜¯TDSå’Œtransform serveré—´é€šä¿¡ã€‚éœ€è¦ä¸€å°å…¬ç½‘å¯è®¿é—®çš„webæœåŠ¡å™¨è¿è¡Œtransform serverã€‚</p>
<p><strong>æ–¹æ³•</strong>ï¼šåŸºäºngrokå®ç°å†…ç½‘ç©¿é€ã€‚<a href="https://yinjiangyi.github.io/2021/01/09/nginx+Ngrok%E5%9C%A8mac%E4%B8%8B%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">Ngrokåœ¨macä¸‹å®ç°å†…ç½‘ç©¿é€</a></p>
<h2 id="å…·ä½“æ­¥éª¤"><a href="#å…·ä½“æ­¥éª¤" class="headerlink" title="å…·ä½“æ­¥éª¤"></a>å…·ä½“æ­¥éª¤</h2><p>ä¸»è¦æ­¥éª¤ï¼š</p>
<ul>
<li><p>ç¯å¢ƒï¼špythonï¼Œmaltego-trxï¼Œclickhouse</p>
</li>
<li><p>å¼€å‘transformä»£ç </p>
<ul>
<li><p>éœ€è¦åœ¨maltigo-trxä»£ç ä¸­æ·»åŠ æ–°å¢å®ä½“</p>
<p><img data-src="/images/%E5%86%85%E7%BD%91%E5%AE%9E%E7%8E%B0maltego-TDS-transform/image-20210111165020200.png" alt="image-20210111165020200"></p>
</li>
<li><p><code>python project.py list</code> æµ‹è¯•ä»£ç </p>
</li>
<li><p><code>python project.py runserver</code></p>
</li>
</ul>
</li>
<li><p>å†…ç½‘ç©¿é€</p>
<ul>
<li>å®‰è£…ngrokï¼Œä¿®æ”¹ç«¯å£ï¼Œè¿è¡Œæ˜ å°„</li>
</ul>
</li>
<li><p>é…ç½®TDS</p>
</li>
</ul>
<h3 id="1-å¼€å‘transformä»£ç "><a href="#1-å¼€å‘transformä»£ç " class="headerlink" title="1. å¼€å‘transformä»£ç "></a>1. å¼€å‘transformä»£ç </h3><ul>
<li><p>å®‰è£…ç¬¬ä¸‰æ–¹pythonåº“ <code>pip install  maltego-trx</code></p>
</li>
<li><p>åœ¨è‡ªå®šè·¯å¾„ä¸­æ–°å»ºå·¥ç¨‹ç›®å½• <code>maltego-trx start your_project_name</code>ï¼Œç”Ÿæˆç›®å½•ä¸­åŒ…æ‹¬project.pyæ–‡ä»¶å’Œtransformæ–‡ä»¶å¤¹ã€‚</p>
</li>
<li><p>åœ¨transformæ–‡ä»¶å¤¹ä¸­æ–°å»ºpyæ–‡ä»¶å¼€å‘transformä»£ç ã€‚</p>
<ul>
<li>è¿‡ç¨‹ä¸­å¦‚æœéœ€è¦å®šä¹‰å…¶ä»–ç±»åˆ«å®ä½“ï¼Œå¦‚å®¢æˆ·ç«¯ipï¼Œéœ€è¦åœ¨ä¿®æ”¹maltego-trxä¸­entites.pyï¼Œæ·»åŠ å®ä½“åå’Œipã€‚æ·»åŠ åå³å¯æ­£å¸¸è¿è¡Œã€‚</li>
<li>åœ¨å®¢æˆ·ç«¯ä¸­åˆ›å»ºå®ä½“é›†åˆsetï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ï¼‰ï¼Œåœ¨é›†åˆä¸­æ·»åŠ å®ä½“ï¼Œå®šä¹‰å®ä½“logoç­‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-é…ç½®TDS"><a href="#2-é…ç½®TDS" class="headerlink" title="2. é…ç½®TDS"></a>2. é…ç½®TDS</h3><ul>
<li><p>public TDS[åœ°å€]ï¼Œæ³¨å†Œã€ç™»å½•ã€‚</p>
</li>
<li><p>æ·»åŠ transform</p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111164025867.png" alt="image-20210111164025867"  />

<ul>
<li><p>è‡ªå®šä¹‰nameå’ŒUI Display</p>
</li>
<li><p>Transform URL</p>
<p>cdè¿›é¡¹ç›®ç›®å½•ï¼Œè¿è¡Œ <code>python project.py runserver</code></p>
<p><img data-src="/images/%E5%86%85%E7%BD%91%E5%AE%9E%E7%8E%B0maltego-TDS-transform/image-20210111164604629.png" alt="image-20210111164604629"></p>
<p>è¿™é‡Œåˆ—å‡ºçš„å°±æ˜¯å·²ç»å¼€å‘å¥½çš„transformsã€‚</p>
<p>åœ¨transformé…ç½®çš„å›¾ä¸­ï¼ŒURLä¸º <span class="exturl" data-url="aHR0cDovLzA4MTEyZTIwYzgxNC5uZ3Jvay5pby9ydW4vbWFpbHRvbWFpbCVFRiVCQyU4QyVFNSU4NSVCNiVFNCVCOCVBRGh0dHA6Ly8wODExMmUyMGM4MTQubmdyb2suaW8=">http://08112e20c814.ngrok.io/run/mailtomailï¼Œå…¶ä¸­http://08112e20c814.ngrok.io<i class="fa fa-external-link-alt"></i></span> æ˜¯ngrokåˆ†é…çš„åŸŸåï¼Œå¦‚æœæ˜¯æœªç»è¿‡ç©¿é€ç›´æ¥å¯è®¿é—®çš„å…¬ç½‘serverï¼Œè¿™é‡Œä¸º<span class="exturl" data-url="aHR0cDovL3NlcnZlcl9pcDpwb3J077yMYC9ydW4vbWFpbHRvbWFpbGA=">http://server_ip:portï¼Œ`/run/mailtomail`<i class="fa fa-external-link-alt"></i></span> æŒ‰transform server urlsåˆ—è¡¨ä¸­æ·»åŠ ã€‚</p>
</li>
<li><p>é€‰æ‹©input entityã€‚å¦‚æœæ˜¯è‡ªå®šä¹‰ï¼ŒæŒ‰ç…§ä»£ç ä¸­æ·»åŠ çš„å®ä½“IDè¿›è¡Œæ·»åŠ ï¼ˆcybernarrator.ClientIPï¼‰ï¼š</p>
<p><img data-src="/images/%E5%86%85%E7%BD%91%E5%AE%9E%E7%8E%B0maltego-TDS-transform/image-20210111165020200.png" alt="image-20210111165020200"></p>
</li>
<li><p>transformæ·»åŠ æˆåŠŸã€‚</p>
</li>
<li><p>seedsé€‰æ‹©é»˜è®¤å³å¯ã€‚</p>
</li>
</ul>
</li>
<li><p>å®¢æˆ·ç«¯é…ç½®</p>
<ul>
<li><p>è‡ªå®šä¹‰ä»£ç ä¸­æ·»åŠ çš„å®ä½“ç±»åˆ«ã€‚</p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111165329645.png" alt="image-20210111165329645" style="zoom:67%;" />

<p>è¿™é‡Œçš„unique type nameå¿…é¡»å’Œä»£ç ä¸­çš„idä¸€è‡´ã€‚å¯ä»¥æ·»åŠ ä¸€ä¸ªåˆé€‚iconï¼Œä¾¿äºåŒºåˆ†ã€‚æˆ–è€…ç›´æ¥è¿›è¡Œå¯¼å…¥ã€‚</p>
</li>
<li><p>TDS seedæ·»åŠ åˆ°å®¢æˆ·ç«¯</p>
<p>TDS web interfaceä¸­ï¼Œç‚¹å‡»seedsï¼Œå¤åˆ¶url</p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111170025189.png" alt="image-20210111165941925" style="zoom:50%;" />

<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111170050676.png" alt="image-20210111170050676" style="zoom:50%;" />

<p>è¿›å…¥maltegoå®¢æˆ·ç«¯ï¼Œç‚¹å‡»transform-&gt;transform hubï¼Œæ·»åŠ tranformã€‚è‡ªå®šä¹‰IDå’Œnameï¼Œå°†å¤åˆ¶çš„seed urlç²˜è´´è¿‡æ¥ï¼Œè¡¥å……å…¶ä»–æè¿°å†…å®¹ï¼ŒOKã€‚</p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111170455362.png" alt="image-20210111170455362" style="zoom:67%;" />

<p>å®Œæˆæ·»åŠ åï¼Œinstallå®‰è£…ã€‚</p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111170553250.png" alt="image-20210111170553250" style="zoom: 67%;" />

<p>å®‰è£…å®Œæˆåï¼ŒæŸ¥çœ‹transform-&gt;transform manager -&gt; transform Server -&gt; defaultï¼Œå¼€å‘çš„transformå·²ç»æ·»åŠ å®Œæˆ</p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111170907163.png" alt="image-20210111170907163" style="zoom:67%;" /></li>
</ul>
</li>
</ul>
<h3 id="3-ä½¿ç”¨"><a href="#3-ä½¿ç”¨" class="headerlink" title="3 ä½¿ç”¨"></a>3 ä½¿ç”¨</h3><p>å®¢æˆ·ç«¯ç‚¹å‡»åˆ›å»ºgraphå›¾æ ‡ï¼Œå³å¯è¿›è¡Œå®ä½“æ·»åŠ å’Œtransformè¿è¡Œã€‚</p>
<p><img data-src="/images/%E5%86%85%E7%BD%91%E5%AE%9E%E7%8E%B0maltego-TDS-transform/image-20210111171002971.png" alt="image-20210111171002971"></p>
<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111171140927.png" alt="image-20210111171140927" style="zoom:67%;" />

<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111171224959.png" alt="image-20210111171224959" style="zoom:67%;" />

<img data-src="/images/å†…ç½‘å®ç°maltego-TDS-transform/image-20210111171316270.png" alt="image-20210111171316270" style="zoom:67%;" />]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>HTTPæœåŠ¡</tag>
        <tag>OSNIT</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯»ä¹¦ç¬”è®°-ç¾ä¸½æ–°ä¸–ç•Œ</title>
    <url>/2021/01/13/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%BE%8E%E4%B8%BD%E6%96%B0%E4%B8%96%E7%95%8C/</url>
    <content><![CDATA[<p>äººä»¬å¿§å¿ƒå¿¡å¿¡çš„1984å¹¶æ²¡æœ‰å¦‚æœŸè€Œè‡³ï¼Œè€Œèµ«èƒ¥é»æ‰€é¢„è¨€çš„ç¾ä¸½æ–°ä¸–ç•Œå´åœ¨æ—¥ç›Šæˆä¸ºç°å®ã€‚â€”â€”Neil Postman ï¼Œã€Šå¨±ä¹è‡³æ­»ã€‹</p>
<p>å¦‚æœè¯´å¥¥å¨å°”çš„ã€Š1984ã€‹é‡Œï¼Œäººä»¬ä¸ºå¤±å»è‡ªç”±è€Œç—›è‹¦ï¼Œé‚£ä¹ˆèµ«èƒ¥é»çš„ã€Šç¾ä¸½æ–°ä¸–ç•Œã€‹é‡Œï¼Œäººä»¬åˆ™ä¸ºäº†æ‘†è„±è‡ªç”±çš„é‡è´Ÿè€Œç‹‚å–œã€‚â€”â€”ã€Šç¾ä¸½æ–°ä¸–ç•Œã€‹ä»£åº</p>
<a id="more"></a>

<img data-src="/images/è¯»ä¹¦ç¬”è®°-ç¾ä¸½æ–°ä¸–ç•Œ/ZHznkAiIOd91uy.jpg!l" alt="ç¾ä¸½æ–°ä¸–ç•Œã€ä¸‹è½½åœ¨çº¿é˜…è¯»ä¹¦è¯„ã€‘" style="zoom:50%;" />

<p>ã€Šç¾ä¸½æ–°ä¸–ç•Œã€‹æ˜¯ä¸–ç•Œä¸‰å¤§åä¹Œæ‰˜é‚¦å°è¯´ä¹‹ä¸€ã€‚ã€Šç¾ä¸½æ–°ä¸–ç•Œã€‹ä¸ºä¸–äººæ‰€çŸ¥ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå½’åŠŸäºå°¼å°”æ³¢ç‰¹æ›¼çš„ç•…é”€ä¹¦ã€Šå¨±ä¹è‡³æ­»ã€‹ã€‚</p>
<p>ä¹¦ä¸­æå†™çš„æ˜¯ä¸€ä¸ªç§‘æŠ€é«˜åº¦å‘è¾¾çš„ç¤¾ä¼šï¼Œç‰©è´¨äº«å—æå…¶ä¸°å¯Œã€‚åŸºå› åŸ¹å…»æŠ€æœ¯æ›¿ä»£ä¼ ç»Ÿç”Ÿè‚²æ–¹å¼æ‰¹é‡â€œç”Ÿäº§â€æ–°ç”Ÿå‘½ã€‚å…¬æ°‘è¢«æŒ‰ç…§ä¸¥æ ¼æ¯”ä¾‹è¿›è¡Œç­‰çº§åˆ’åˆ†ï¼Œå¹¶ä¸”ç»è¿‡æµç¨‹åŒ–çš„æ´—è„‘å’Œæ•™è‚²å®ç°â€œå¹¸ç¦é’¢å°â€ã€‚æ‰€æœ‰çš„è´Ÿé¢æƒ…ç»ªï¼ŒåŒ…æ‹¬å«‰å¦’ã€ææƒ§ã€æ„¤æ€’ï¼Œéƒ½å¯ä»¥é€šè¿‡åé£Ÿâ€œSomaâ€ï¼Œä¸€ç§è‡´å¹»æ¯’å“ï¼Œè½»æ˜“è¢«æ¶ˆé™¤ã€‚ä¹ŸåŒæ ·ä¸ºäº†é¿å…è´Ÿé¢æƒ…ç»ªå¯èƒ½å¸¦æ¥çš„ç¤¾ä¼šåŠ¨è¡ï¼Œä¸€åˆ‡å¯èƒ½äº§ç”Ÿå†²åŠ¨çš„çƒ­çˆ±â€”â€”çˆ±æƒ…ã€äº²æƒ…ã€å†å²ã€è‰ºæœ¯ã€å¯¹çœŸç†çš„æ¢ç´¢ã€å¯¹æ­»äº¡çš„ææƒ§ï¼Œéƒ½è¢«æ¶ˆé™¤ã€‚æ‰€æœ‰äººè¢«å¯„äºˆæ— é™çš„â€œå¹¸ç¦â€ï¼Œå½“ç„¶â€œå¹¸ç¦â€çš„æ ‡å‡†ä¹Ÿæ˜¯è¢«è§„å®šå¥½çš„ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå…³äº<strong>æˆä¸ºç—›è‹¦çš„è‹æ ¼æ‹‰åº•è¿˜æ˜¯ä¸€å¤´å¿«ä¹çš„çŒª</strong>ï¼Œç»Ÿæ²»è€…ä¸ºæ‰€æœ‰äººåšå‡ºäº†é€‰æ‹©ã€‚</p>
<p>ä¸»äººå…¬Johnæ˜¯ä¸€ä¸ªåœ¨ä¿ç•™åŒºé•¿å¤§çš„â€œé‡è›®äººâ€ï¼Œä»–æ¥è§¦äº†èå£«æ¯”äºšå¹¶çƒ­çˆ±æ–‡å­¦ï¼Œä¿¡ä»°ä¸Šå¸ã€‚åœ¨æ¥åˆ°äº†æ–‡æ˜çš„åŸå¸‚ä¹‹åï¼Œæ— æ³•æ¥å—æ‰€è°“æ–‡æ˜å¯„äºˆäººçš„å»‰ä»·çš„å¹¸ç¦ï¼Œåšå®šçš„ä¸ºè‡ªå·±äº‰å–ç»å†è‹¦éš¾çš„æƒåˆ©ï¼Œåœ¨å‘ç°è‡ªå·±å¯¹è´å¡”åˆ—å®å¨œäº§ç”Ÿäº†éš¾ä»¥æ§åˆ¶çš„è‚‰æ¬²ä¹‹åï¼Œé€‰æ‹©è¢«æµæ”¾ï¼Œé€šè¿‡é­æ‰“å¯¹è‡ªå·±å‡€åŒ–å’Œæ•‘èµã€‚ä½†æœ€ç»ˆå‘ç°ä»æ—§æ— æ³•é€ƒç¦»å†…å¿ƒçš„æ¬²æœ›ï¼Œç»æœ›çš„é€‰æ‹©è‡ªæ€ã€‚</p>
<p>æˆ‘æœ€çˆ±çš„éƒ¨åˆ†æ˜¯Johnæµæ”¾å‰å’Œæ€»ç®¡ç©†æ–¯å¡”æ³•çš„äº¤æµã€‚ç©†æ–¯å¡”æ³•ä»å“²å­¦å®¶çš„æ¢¦æƒ³è°ˆèµ·ï¼ˆâ€œå¤©åœ°ä¹‹é—´ä¸‡äº‹ä¸‡ç‰©ï¼Œè€Œå“²å­¦å®¶æ¢¦æƒ³çš„ä¸œè¥¿å´å¯¥å¯¥æ— å‡ â€ï¼‰ï¼Œé˜è¿°ä¸–ç•Œçš„è‡ªæ´½ä¹‹å¤„ã€‚è¯»ã€Š1984ã€‹çš„æ—¶å€™ï¼Œææƒ§æ„Ÿéå¸¸çœŸå®ï¼Œä½†æ˜¯æ¸©æ–¯é¡¿è§‰é†’ä¹‹åçš„äºŒæ¬¡åŒåŒ–æˆ‘å¹¶ä¸èƒ½å®Œå…¨æ„ŸåŒèº«å—ã€‚æˆ‘å§‹ç»ˆè®¤ä¸ºææƒ§æ— æ³•è®©ä¸€ä¸ªçµé­‚å®Œå…¨å±ˆæœã€‚ç›¸åâ€œç¾ä¸½æ–°ä¸–ç•Œâ€ä¼¼ä¹æ›´å…·æœ‰è¯´æœåŠ›ã€‚</p>
<p>æˆ‘èƒ½çœ‹åˆ°é‚£ä¸ªä¸–ç•Œçš„ç”³è¯·åœ¨ç°å®ç”Ÿæ´»ä¸­é€æ¸æ¸…æ™°ã€‚<strong>å½“æ²¡æœ‰ä»·å€¼çš„å¨±ä¹å æ»¡æˆ‘ç”Ÿæ´»ä¸­çš„æ‰€æœ‰ç¼éš™çš„æ—¶å€™ï¼Œå½“ç°å®çš„å‹åŠ›ç¢¾ç¢äº†æ‰€æœ‰çš„çƒ­çˆ±å’Œæ¢¦æƒ³çš„æ—¶å€™ï¼Œä»·å€¼æ˜¯å¦è¿˜æ˜¯ä»·å€¼æœ¬èº«ï¼Œæˆ‘æ˜¯å¦èƒ½å¤Ÿåšå®šåœ°æ‹’ç»å‘åŠ£å»‰ä»·çš„å¹¸ç¦ï¼Œå—å°½è‹¦éš¾å»æ‹¥æŠ¤ç€äººç”Ÿçš„é‚£ä»½åŠ¨è¡ï¼Œé‚£ä»½å®ä¼Ÿå£®è§‚ã€‚</strong></p>
]]></content>
      <categories>
        <category>è¯»ä¹¦</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>åä¹Œæ‰˜é‚¦</tag>
      </tags>
  </entry>
  <entry>
    <title>DDosæ”»å‡»ä¸ä¿æŠ¤</title>
    <url>/2021/07/12/DDos%E6%94%BB%E5%87%BB%E4%B8%8E%E4%BF%9D%E6%8A%A4/</url>
    <content><![CDATA[<p>DoSæ˜¯Denial of Serviceçš„ç®€ç§°ï¼Œå³æ‹’ç»æœåŠ¡ï¼Œé€ æˆDoSçš„æ”»å‡»è¡Œä¸ºè¢«ç§°ä¸ºDoSæ”»å‡»ï¼Œå…¶ç›®çš„æ˜¯ä½¿è®¡ç®—æœºæˆ–ç½‘ç»œæ— æ³•æä¾›æ­£å¸¸çš„æœåŠ¡ã€‚æœ€å¸¸è§çš„DoSæ”»å‡»æœ‰è®¡ç®—æœºç½‘ç»œå®½å¸¦æ”»å‡»å’Œè¿é€šæ€§æ”»å‡»ã€‚ DoSæ”»å‡»æ˜¯æŒ‡æ•…æ„çš„æ”»å‡»ç½‘ç»œåè®®å®ç°çš„ç¼ºé™·æˆ–ç›´æ¥é€šè¿‡é‡è›®æ‰‹æ®µæ®‹å¿åœ°è€—å°½è¢«æ”»å‡»å¯¹è±¡çš„èµ„æºï¼Œç›®çš„æ˜¯è®©ä½¿ç›®æ ‡ç³»ç»ŸæœåŠ¡ç³»ç»Ÿåœæ­¢å“åº”ç”šè‡³å´©æºƒã€‚è¿™äº›æœåŠ¡èµ„æºåŒ…æ‹¬ç½‘ç»œå¸¦å®½ï¼Œæ–‡ä»¶ç³»ç»Ÿç©ºé—´å®¹é‡ï¼Œå¼€æ”¾çš„è¿›ç¨‹æˆ–è€…å…è®¸çš„è¿æ¥ã€‚è¿™ç§æ”»å‡»ä¼šå¯¼è‡´èµ„æºçš„åŒ®ä¹ï¼Œæ— è®ºè®¡ç®—æœºçš„å¤„ç†é€Ÿåº¦å¤šå¿«ã€å†…å­˜å®¹é‡å¤šå¤§ã€ç½‘ç»œå¸¦å®½çš„é€Ÿåº¦å¤šå¿«éƒ½æ— æ³•é¿å…è¿™ç§æ”»å‡»å¸¦æ¥çš„åæœã€‚ </p>
<a id="more"></a>

<h2 id="1-ä»€ä¹ˆæ˜¯DDosæ”»å‡»"><a href="#1-ä»€ä¹ˆæ˜¯DDosæ”»å‡»" class="headerlink" title="1. ä»€ä¹ˆæ˜¯DDosæ”»å‡»"></a>1. ä»€ä¹ˆæ˜¯DDosæ”»å‡»</h2><h3 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h3><p>Distribution Denial-of-Service åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ã€‚</p>
<h4 id="å¦‚ä½•è¯†åˆ«"><a href="#å¦‚ä½•è¯†åˆ«" class="headerlink" title="å¦‚ä½•è¯†åˆ«"></a>å¦‚ä½•è¯†åˆ«</h4><p>æ˜æ˜¾è¿¹è±¡ï¼š</p>
<ul>
<li>æ¥è‡ªå•ä¸ª IP åœ°å€æˆ– IP èŒƒå›´çš„å¯ç–‘æµé‡</li>
<li>æ¥è‡ªå…±äº«å•ä¸ªè¡Œä¸ºç‰¹å¾ï¼ˆä¾‹å¦‚è®¾å¤‡ç±»å‹ã€åœ°ç†ä½ç½®æˆ– Web æµè§ˆå™¨ç‰ˆæœ¬ï¼‰çš„ç”¨æˆ·çš„å¤§é‡æµé‡</li>
<li>å¯¹å•ä¸ªé¡µé¢æˆ–ç«¯ç‚¹çš„è¯·æ±‚æ•°é‡å‡ºç°ä¸æ˜åŸå› çš„æ¿€å¢</li>
<li>å¥‡æ€ªçš„æµé‡æ¨¡å¼ï¼Œä¾‹å¦‚ä¸€å¤©ä¸­éå¸¸è§„æ—¶é—´æ®µçš„æ¿€å¢æˆ–çœ‹ä¼¼ä¸è‡ªç„¶çš„æ¨¡å¼ï¼ˆä¾‹å¦‚ï¼Œæ¯ 10 åˆ†é’Ÿå‡ºç°ä¸€æ¬¡æ¿€å¢ï¼‰</li>
<li>DDoS æ”»å‡»è¿˜æœ‰å…¶ä»–æ›´å…·ä½“çš„è¿¹è±¡ï¼Œå…·ä½“å–å†³äºæ”»å‡»çš„ç±»å‹ã€‚</li>
</ul>
<h3 id="å¸¸è§æ”»å‡»ç±»åˆ«ï¼ˆç®€è¦ä»‹ç»ï¼‰"><a href="#å¸¸è§æ”»å‡»ç±»åˆ«ï¼ˆç®€è¦ä»‹ç»ï¼‰" class="headerlink" title="å¸¸è§æ”»å‡»ç±»åˆ«ï¼ˆç®€è¦ä»‹ç»ï¼‰"></a>å¸¸è§æ”»å‡»ç±»åˆ«ï¼ˆç®€è¦ä»‹ç»ï¼‰</h3><img data-src="/images/DDos%E6%94%BB%E5%87%BB%E4%B8%8E%E4%BF%9D%E6%8A%A4/image-20210712180840976.png" alt="image-20210712180840976" style="zoom: 50%;" />

<h4 id="åº”ç”¨å±‚æ”»å‡»"><a href="#åº”ç”¨å±‚æ”»å‡»" class="headerlink" title="åº”ç”¨å±‚æ”»å‡»"></a>åº”ç”¨å±‚æ”»å‡»</h4><p>æ­¤ç±»æ”»å‡»æœ‰æ—¶ç§°ä¸º<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy93aGF0LWlzLWxheWVyLTcv">ç¬¬ 7 å±‚<i class="fa fa-external-link-alt"></i></span> DDoS æ”»å‡»ï¼ˆæŒ‡ OSI æ¨¡å‹ç¬¬ 7 å±‚ï¼‰ï¼Œå…¶ç›®æ ‡æ˜¯è€—å°½ç›®æ ‡èµ„æºã€‚</p>
<p>æ”»å‡»ç›®æ ‡æ˜¯ç”Ÿæˆç½‘é¡µå¹¶ä¼ è¾“ç½‘é¡µå“åº”HTTPè¯·æ±‚çš„æœåŠ¡å™¨åº”ç”¨å±‚ï¼Œåœ¨å®¢æˆ·ç«¯æ‰§è¡ŒHTTPè¯·æ±‚çš„è®¡ç®—æˆæœ¬å¾ˆä½ï¼Œä½†æ˜¯ç›®æ ‡æœåŠ¡å™¨åšå‡ºå“åº”çš„æˆæœ¬å¾ˆé«˜ã€‚é˜²å¾¡éš¾åº¦è¾ƒå¤§ï¼Œå› ä¸ºéš¾ä»¥åŒºåˆ†æ¶æ„æµé‡å’Œåˆæ³•æµé‡ã€‚</p>
<img data-src="/images/DDos%E6%94%BB%E5%87%BB%E4%B8%8E%E4%BF%9D%E6%8A%A4/http-flood-ddos-attack.png" alt="http-flood-ddos-attack" style="zoom:25%;" />

<h5 id="HTTP-flood"><a href="#HTTP-flood" class="headerlink" title="HTTP flood"></a>HTTP flood</h5><p>HTTP æ´ªæ°´æ”»å‡»ç±»ä¼¼äºåŒæ—¶åœ¨å¤§é‡ä¸åŒè®¡ç®—æœºçš„ Web æµè§ˆå™¨ä¸­ä¸€æ¬¡åˆä¸€æ¬¡åœ°æŒ‰ä¸‹åˆ·æ–° â€”â€”å¤§é‡ HTTP è¯·æ±‚æ¶Œå‘æœåŠ¡å™¨ï¼Œå¯¼è‡´æ‹’ç»æœåŠ¡ã€‚</p>
<p>è¿™ç§ç±»å‹çš„æ”»å‡»æœ‰ç®€å•çš„ï¼Œä¹Ÿæœ‰å¤æ‚çš„ã€‚è¾ƒç®€å•çš„å®ç°å¯ä»¥ä½¿ç”¨ç›¸åŒèŒƒå›´çš„æ”»å‡» IP åœ°å€ã€referrer å’Œç”¨æˆ·ä»£ç†è®¿é—®ä¸€ä¸ª URLã€‚å¤æ‚ç‰ˆæœ¬å¯èƒ½ä½¿ç”¨å¤§é‡ IP åœ°å€ï¼Œå¹¶ä½¿ç”¨éšæœº referrer å’Œç”¨æˆ·ä»£ç†æ¥ç»•è¿‡æ£€æµ‹ã€‚</p>
<h4 id="åè®®æ”»å‡»"><a href="#åè®®æ”»å‡»" class="headerlink" title="åè®®æ”»å‡»"></a>åè®®æ”»å‡»</h4><p>åè®®æ”»å‡»ä¹Ÿç§°ä¸ºçŠ¶æ€è€—å°½æ”»å‡»ï¼Œè¿™ç±»æ”»å‡»ä¼šè¿‡åº¦æ¶ˆè€—æœåŠ¡å™¨èµ„æºå’Œ/æˆ–<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvc2VjdXJpdHkvd2hhdC1pcy1hLWZpcmV3YWxsLw==">é˜²ç«å¢™<i class="fa fa-external-link-alt"></i></span>å’Œè´Ÿè½½å¹³è¡¡å™¨ä¹‹ç±»çš„ç½‘ç»œè®¾å¤‡èµ„æºï¼Œä»è€Œå¯¼è‡´æœåŠ¡ä¸­æ–­ã€‚</p>
<p>åè®®æ”»å‡»åˆ©ç”¨åè®®å †æ ˆç¬¬ 3 å±‚å’Œç¬¬ 4 å±‚çš„å¼±ç‚¹è‡´ä½¿ç›®æ ‡æ— æ³•è®¿é—®ã€‚</p>
<img data-src="/images/DDos%E6%94%BB%E5%87%BB%E4%B8%8E%E4%BF%9D%E6%8A%A4/syn-flood-ddos-attack.png" alt="syn-flood-ddos-attack" style="zoom:15%;" />

<h5 id="TCP-SYNæ”»å‡»"><a href="#TCP-SYNæ”»å‡»" class="headerlink" title="TCP SYNæ”»å‡»"></a>TCP SYNæ”»å‡»</h5><p> <span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9zeW4tZmxvb2QtZGRvcy1hdHRhY2sv">SYN æ´ªæ°´<i class="fa fa-external-link-alt"></i></span>å°±å¥½æ¯”è¡¥ç»™å®¤ä¸­çš„å·¥ä½œäººå‘˜ä»å•†åº—çš„æŸœå°æ¥æ”¶è¯·æ±‚ã€‚</p>
<p>å·¥ä½œäººå‘˜æ”¶åˆ°è¯·æ±‚ï¼Œå‰å»å–åŒ…è£¹ï¼Œå†ç­‰å¾…ç¡®è®¤ï¼Œç„¶åå°†åŒ…è£¹é€åˆ°æŸœå°ã€‚å·¥ä½œäººå‘˜æ”¶åˆ°å¤ªå¤šåŒ…è£¹è¯·æ±‚ï¼Œä½†å¾—ä¸åˆ°ç¡®è®¤ï¼Œç›´åˆ°æ— æ³•å¤„ç†æ›´å¤šåŒ…è£¹ï¼Œå®åœ¨ä¸å ªé‡è´Ÿï¼Œè‡´ä½¿æ— äººèƒ½å¯¹è¯·æ±‚åšå‡ºå›åº”ã€‚</p>
<p>æ­¤ç±»æ”»å‡»åˆ©ç”¨ <span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS90Y3AtaXAv">TCP æ¡æ‰‹<i class="fa fa-external-link-alt"></i></span>ï¼ˆä¸¤å°è®¡ç®—æœºå‘èµ·ç½‘ç»œè¿æ¥æ—¶è¦ç»è¿‡çš„ä¸€ç³»åˆ—é€šä¿¡ï¼‰ï¼Œé€šè¿‡å‘ç›®æ ‡å‘é€å¤§é‡å¸¦æœ‰<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS9pcC1zcG9vZmluZy8=">ä¼ªé€ <i class="fa fa-external-link-alt"></i></span>æº IP åœ°å€çš„ TCPâ€œåˆå§‹è¿æ¥è¯·æ±‚â€SYN æ•°æ®åŒ…æ¥å®ç°ã€‚</p>
<p>ç›®æ ‡è®¡ç®—æœºå“åº”æ¯ä¸ªè¿æ¥è¯·æ±‚ï¼Œç„¶åç­‰å¾…æ¡æ‰‹ä¸­çš„æœ€åä¸€æ­¥ï¼Œä½†è¿™ä¸€æ­¥ç¡®æ°¸è¿œä¸ä¼šå‘ç”Ÿï¼Œå› æ­¤åœ¨æ­¤è¿‡ç¨‹ä¸­è€—å°½ç›®æ ‡çš„èµ„æºã€‚</p>
<h4 id="å®¹é‡è€—å°½æ”»å‡»"><a href="#å®¹é‡è€—å°½æ”»å‡»" class="headerlink" title="å®¹é‡è€—å°½æ”»å‡»"></a>å®¹é‡è€—å°½æ”»å‡»</h4><p>Volumetric attacksï¼Œæ­¤ç±»æ”»å‡»è¯•å›¾é€šè¿‡æ¶ˆè€—ç›®æ ‡ä¸è¾ƒå¤§çš„äº’è”ç½‘ä¹‹é—´çš„æ‰€æœ‰å¯ç”¨å¸¦å®½æ¥é€ æˆæ‹¥å¡ã€‚æ”»å‡»è¿ç”¨æŸç§æ”¾å¤§æ”»å‡»æˆ–å…¶ä»–ç”Ÿæˆå¤§é‡æµé‡çš„æ‰‹æ®µï¼ˆå¦‚åƒµå°¸ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œå‘ç›®æ ‡å‘é€å¤§é‡æ•°æ®ã€‚</p>
<img data-src="https://cloudflare.com/img/learning/ddos/what-is-a-ddos-attack/ntp-amplification-botnet-ddos-attack.png" alt="ntp-amplification-botnet-ddos-attack" style="zoom:20%;" />

<h5 id="DNS-æ”¾å¤§"><a href="#DNS-æ”¾å¤§" class="headerlink" title="DNS æ”¾å¤§"></a>DNS æ”¾å¤§</h5><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9kbnMtYW1wbGlmaWNhdGlvbi1kZG9zLWF0dGFjay8=">DNS æ”¾å¤§<i class="fa fa-external-link-alt"></i></span>å°±å¥½æ¯”æœ‰äººæ‰“ç”µè¯ç»™é¤é¦†è¯´â€œæ¯é“èœéƒ½è®¢ä¸€ä»½ï¼Œè¯·ç»™æˆ‘å›ç”µè¯å¤è¿°æ•´ä¸ªè®¢å•â€ï¼Œè€Œæä¾›çš„å›ç”µå·ç å®é™…ä¸Šå±äºå—å®³è€…ã€‚å‡ ä¹ä¸è´¹å¹ç°ä¹‹åŠ›ï¼Œå°±èƒ½äº§ç”Ÿå¾ˆé•¿çš„å“åº”å¹¶å‘é€ç»™å—å®³è€…ã€‚</p>
<p>åˆ©ç”¨ä¼ªé€ çš„ IP åœ°å€ï¼ˆå—å®³è€…çš„ IP åœ°å€ï¼‰å‘å¼€æ”¾å¼ <span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS9kb21haW4tbmFtZS1zeXN0ZW0tZG5zLw==">DNS æœåŠ¡å™¨<i class="fa fa-external-link-alt"></i></span>å‘å‡ºè¯·æ±‚åï¼Œç›®æ ‡ IP åœ°å€å°†æ”¶åˆ°æœåŠ¡å™¨å‘å›çš„å“åº”ã€‚</p>
<h3 id="å¸¸è§é˜²å¾¡æ‰‹æ®µ"><a href="#å¸¸è§é˜²å¾¡æ‰‹æ®µ" class="headerlink" title="å¸¸è§é˜²å¾¡æ‰‹æ®µ"></a>å¸¸è§é˜²å¾¡æ‰‹æ®µ</h3><p>éš¾ç‚¹åœ¨äºåŒºåˆ†çœŸå®å®¢æˆ·æµé‡ä¸æ”»å‡»æµé‡ã€‚</p>
<h4 id="é»‘æ´è·¯ç”±"><a href="#é»‘æ´è·¯ç”±" class="headerlink" title="é»‘æ´è·¯ç”±"></a>é»‘æ´è·¯ç”±</h4><p>æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆå‡ ä¹é€‚ç”¨äºæ‰€æœ‰ç½‘ç»œç®¡ç†å‘˜ï¼šåˆ›å»º<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS9kZG9zLWJsYWNraG9sZS1yb3V0aW5n">é»‘æ´<i class="fa fa-external-link-alt"></i></span>è·¯ç”±ï¼Œå¹¶å°†æµé‡æ±‡å…¥è¯¥è·¯ç”±ã€‚åœ¨æœ€ç®€å•çš„å½¢å¼ä¸‹ï¼Œå½“åœ¨æ²¡æœ‰ç‰¹å®šé™åˆ¶æ¡ä»¶çš„æƒ…å†µä¸‹å®æ–½é»‘æ´è¿‡æ»¤æ—¶ï¼Œåˆæ³•ç½‘ç»œæµé‡å’Œæ¶æ„ç½‘ç»œæµé‡éƒ½å°†è·¯ç”±åˆ°ç©ºè·¯ç”±æˆ–é»‘æ´ï¼Œå¹¶ä»ç½‘ç»œä¸­ä¸¢å¼ƒã€‚</p>
<p>å¦‚æœäº’è”ç½‘è®¾å¤‡é­å— DDoS æ”»å‡»ï¼Œåˆ™è¯¥è®¾å¤‡çš„äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆISPï¼‰å¯èƒ½ä¼šå°†ç«™ç‚¹çš„æ‰€æœ‰æµé‡å‘é€åˆ°é»‘æ´ä¸­ä½œä¸ºé˜²å¾¡ã€‚è¿™ä¸æ˜¯ç†æƒ³çš„è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒç›¸å½“äºè®©æ”»å‡»è€…è¾¾æˆé¢„æœŸçš„ç›®æ ‡ï¼šä½¿ç½‘ç»œæ— æ³•è®¿é—®ã€‚</p>
<h4 id="é€Ÿç‡é™åˆ¶"><a href="#é€Ÿç‡é™åˆ¶" class="headerlink" title="é€Ÿç‡é™åˆ¶"></a>é€Ÿç‡é™åˆ¶</h4><p>é™åˆ¶æœåŠ¡å™¨åœ¨æŸä¸ªæ—¶é—´æ®µæ¥æ”¶çš„è¯·æ±‚æ•°é‡ä¹Ÿæ˜¯é˜²æŠ¤æ‹’ç»æœåŠ¡æ”»å‡»çš„ä¸€ç§æ–¹æ³•ã€‚è™½ç„¶é€Ÿç‡é™åˆ¶å¯¹äºå‡ç¼“ Web çˆ¬è™«çªƒå–å†…å®¹åŠé˜²æŠ¤<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvYm90cy9icnV0ZS1mb3JjZS1hdHRhY2sv">æš´åŠ›ç ´è§£<i class="fa fa-external-link-alt"></i></span>æ”»å‡»å¾ˆæœ‰å¸®åŠ©ï¼Œä½†ä»…é é€Ÿç‡é™åˆ¶å¯èƒ½ä¸è¶³ä»¥æœ‰æ•ˆåº”å¯¹å¤æ‚çš„ DDoS æ”»å‡»ã€‚ç„¶è€Œï¼Œåœ¨é«˜æ•ˆ DDoS é˜²æŠ¤ç­–ç•¥ä¸­ï¼Œé€Ÿç‡é™åˆ¶ä¸å¤±ä¸ºä¸€ç§æœ‰æ•ˆæ‰‹æ®µã€‚</p>
<h4 id="Web-åº”ç”¨ç¨‹åºé˜²ç«å¢™"><a href="#Web-åº”ç”¨ç¨‹åºé˜²ç«å¢™" class="headerlink" title="Web åº”ç”¨ç¨‹åºé˜²ç«å¢™"></a>Web åº”ç”¨ç¨‹åºé˜²ç«å¢™</h4><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS93ZWItYXBwbGljYXRpb24tZmlyZXdhbGwtd2FmLw==">Web åº”ç”¨ç¨‹åºé˜²ç«å¢™ï¼ˆWAFï¼‰<i class="fa fa-external-link-alt"></i></span> æ˜¯ä¸€ç§æœ‰æ•ˆå·¥å…·ï¼Œæœ‰åŠ©äºç¼“è§£ç¬¬ 7 å±‚ DDoS æ”»å‡»ã€‚åœ¨äº’è”ç½‘å’Œæºç«™ä¹‹é—´éƒ¨ç½² WAF åï¼ŒWAF å¯ä»¥å……å½“<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvY2RuL2dsb3NzYXJ5L3JldmVyc2UtcHJveHkv">åå‘ä»£ç†<i class="fa fa-external-link-alt"></i></span>ï¼Œä¿æŠ¤ç›®æ ‡æœåŠ¡å™¨ï¼Œé˜²æ­¢å…¶é­å—ç‰¹å®šç±»å‹çš„æ¶æ„æµé‡å…¥ä¾µã€‚</p>
<p>é€šè¿‡åŸºäºä¸€ç³»åˆ—ç”¨äºè¯†åˆ« DDoS å·¥å…·çš„è§„åˆ™ç­›é€‰è¯·æ±‚ï¼Œå¯ä»¥é˜»æ­¢ç¬¬ 7 å±‚æ”»å‡»ã€‚æœ‰æ•ˆçš„ WAF çš„ä¸€ä¸ªå…³é”®ä»·å€¼æ˜¯èƒ½å¤Ÿå¿«é€Ÿå®æ–½è‡ªå®šä¹‰è§„åˆ™ä»¥åº”å¯¹æ”»å‡»ã€‚</p>
<h4 id="Anycast-ç½‘ç»œæ‰©æ•£"><a href="#Anycast-ç½‘ç»œæ‰©æ•£" class="headerlink" title="Anycast ç½‘ç»œæ‰©æ•£"></a>Anycast ç½‘ç»œæ‰©æ•£</h4><p>æ­¤ç±»ç¼“è§£æ–¹æ³•ä½¿ç”¨ Anycast ç½‘ç»œï¼Œå°†æ”»å‡»æµé‡åˆ†æ•£è‡³åˆ†å¸ƒå¼æœåŠ¡å™¨ç½‘ç»œï¼Œç›´åˆ°ç½‘ç»œå¸æ”¶æµé‡ä¸ºæ­¢ã€‚</p>
<p>è¿™ç§æ–¹æ³•å°±å¥½æ¯”å°†æ¹æ€¥çš„æ²³æµå¼•å…¥è‹¥å¹²ç‹¬ç«‹çš„å°æ°´æ¸ ï¼Œå°†åˆ†å¸ƒå¼æ”»å‡»æµé‡çš„å½±å“åˆ†æ•£åˆ°å¯ä»¥ç®¡ç†çš„ç¨‹åº¦ï¼Œä»è€Œåˆ†æ•£ç ´ååŠ›ã€‚</p>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvY2RuL2dsb3NzYXJ5L2FueWNhc3QtbmV0d29yay8=">Anycast ç½‘ç»œ<i class="fa fa-external-link-alt"></i></span>åœ¨ç¼“è§£ DDoS æ”»å‡»æ–¹é¢çš„å¯é æ€§å–å†³äºæ”»å‡»è§„æ¨¡åŠç½‘ç»œè§„æ¨¡å’Œæ•ˆç‡ã€‚é‡‡ç”¨ Anycast åˆ†å¸ƒå¼ç½‘ç»œæ˜¯ Cloudflare å®æ–½ DDoSé˜²æŠ¤ç­–ç•¥çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
<p>Cloudflare æ‹¥æœ‰ 67 Tbps çš„ç½‘ç»œï¼Œæ¯”æœ‰è®°å½•çš„æœ€å¤§ DDoS æ”»å‡»å¤§ä¸€ä¸ªæ•°é‡çº§ã€‚</p>
<h2 id="2-å¸¸è§æ”»å‡»ç±»åˆ«"><a href="#2-å¸¸è§æ”»å‡»ç±»åˆ«" class="headerlink" title="2. å¸¸è§æ”»å‡»ç±»åˆ«"></a>2. å¸¸è§æ”»å‡»ç±»åˆ«</h2><h3 id="2-1-å†…å­˜ç¼“å­˜-DDoS-æ”»å‡»"><a href="#2-1-å†…å­˜ç¼“å­˜-DDoS-æ”»å‡»" class="headerlink" title="2.1 å†…å­˜ç¼“å­˜ DDoS æ”»å‡»"></a>2.1 å†…å­˜ç¼“å­˜ DDoS æ”»å‡»</h3><p>memcached DDoS attack</p>
<p>å†…å­˜ç¼“å­˜<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy93aGF0LWlzLWEtZGRvcy1hdHRhY2sv">åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ (DDoS) <i class="fa fa-external-link-alt"></i></span>æ”»å‡»æ˜¯ä¸€ç§ç½‘ç»œæ”»å‡»ï¼Œæ”»å‡»è€…è¯•å›¾ä½¿ç›®æ ‡å—å®³è€…çš„ç½‘ç»œæµé‡è¶…è½½ã€‚æ”»å‡»è€…å°†æ¬ºéª—æ€§çš„è¯·æ±‚å‘é€åˆ°æ˜“å—æ”»å‡»çš„UDPå†…å­˜ç¼“å­˜æœåŠ¡å™¨ï¼Œè¯¥æœåŠ¡å™¨éšåå‘ç›®æ ‡å—å®³è€…å‘é€ Internet æµé‡ï¼Œä»è€Œå¯èƒ½ä½¿å—å®³è€…çš„èµ„æºä¸å ªé‡è´Ÿã€‚å½“ç›®æ ‡çš„ Internet åŸºç¡€è®¾æ–½è¿‡è½½æ—¶ï¼Œå°±æ— æ³•å¤„ç†æ–°è¯·æ±‚ï¼Œè€Œå¸¸è§„æµé‡ä¹Ÿæ— æ³•è®¿é—®Internet èµ„æºï¼Œä»è€Œå¯¼è‡´<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS9kZW5pYWwtb2Ytc2VydmljZS8=">æ‹’ç»æœåŠ¡<i class="fa fa-external-link-alt"></i></span>ã€‚</p>
<p>å†…å­˜ç¼“å­˜æ˜¯ç”¨äºåŠ é€Ÿç½‘ç«™å’Œç½‘ç»œçš„æ•°æ®åº“ç¼“å­˜ç³»ç»Ÿã€‚</p>
<h4 id="æ”»å‡»åŸç†"><a href="#æ”»å‡»åŸç†" class="headerlink" title="æ”»å‡»åŸç†"></a>æ”»å‡»åŸç†</h4><p>å†…å­˜ç¼“å­˜æ”»å‡»çš„å·¥ä½œæ–¹å¼ç±»ä¼¼äºæ‰€æœ‰ DDoS æ”¾å¤§æ”»å‡»ï¼Œä¾‹å¦‚<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9udHAtYW1wbGlmaWNhdGlvbi1kZG9zLWF0dGFjay8="> NTP æ”¾å¤§<i class="fa fa-external-link-alt"></i></span>å’Œ<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9kbnMtYW1wbGlmaWNhdGlvbi1kZG9zLWF0dGFjay8="> DNS æ”¾å¤§<i class="fa fa-external-link-alt"></i></span>ã€‚è¿™ç§æ”»å‡»æ¬ºéª—æ€§è¯·æ±‚å‘é€åˆ°æ˜“å—æ”»å‡»çš„æœåŠ¡å™¨ï¼Œè¯¥æœåŠ¡å™¨éšåä¼šå‘å‡ºæ¯”åˆå§‹è¯·æ±‚å¤§çš„æ•°æ®é‡ä½œä¸ºå“åº”ï¼Œå› æ­¤æ”¾å¤§äº†æµé‡ã€‚</p>
<p>å†…å­˜ç¼“å­˜æ”¾å¤§æ”»å‡»å°±å¥½æ¯”æ˜¯ä¸€ä¸ªå¿ƒæ€€æ¶æ„çš„é’å°‘å¹´æ‰“ç”µè¯ç»™ä¸€å®¶é¤å…è¯´â€œæˆ‘è¦èœå•ä¸Šçš„ä¸œè¥¿æ¯æ ·æ¥ä¸€ä»½ï¼Œè¯·ç»™æˆ‘å›ç”µè¯å¹¶å‘Šè¯‰æˆ‘æ•´ä¸ªè®¢å•çš„ä¿¡æ¯â€ã€‚å½“é¤å…è¯¢é—®å›å«å·ç æ—¶ï¼Œä»–å´ç»™å‡ºç›®æ ‡å—å®³è€…çš„ç”µè¯å·ç ã€‚ç„¶åï¼Œç›®æ ‡ä¼šæ”¶åˆ°æ¥è‡ªé¤å…çš„å‘¼å«ï¼Œæ¥åˆ°ä»–ä»¬æœªè¯·æ±‚çš„å¤§é‡ä¿¡æ¯ã€‚</p>
<p><strong>è¿™ç§æ”¾å¤§æ”»å‡»çš„æ–¹æ³•ä¹‹æ‰€ä»¥æˆä¸ºå¯èƒ½ï¼Œå› ä¸ºå†…å­˜ç¼“å­˜æœåŠ¡å™¨å¯ä»¥é€‰æ‹©ä½¿ç”¨ UDP åè®®è¿›è¡Œæ“ä½œã€‚UDPå…è®¸åœ¨ä¸é¦–å…ˆè·å¾—æ‰€è°“æ¡æ‰‹çš„æƒ…å†µä¸‹å‘é€æ•°æ® - æ¡æ‰‹æ˜¯æŒ‡åŒæ–¹éƒ½åŒæ„é€šä¿¡çš„ç½‘ç»œè¿‡ç¨‹ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨ UDPï¼Œæ˜¯å› ä¸ºä¸ç”¨å’¨è¯¢ç›®æ ‡ä¸»æœºæ˜¯å¦æ„¿æ„æ¥æ”¶æ•°æ®ï¼Œæ— éœ€äº‹å…ˆå¾å¾—å®ƒä»¬çš„åŒæ„ï¼Œå°±å¯ä»¥å°†å¤§é‡æ•°æ®å‘é€ç»™ç›®æ ‡ä¸»æœºã€‚</strong></p>
<p><strong>å†…å­˜ç¼“å­˜æ”»å‡»åˆ†ä¸º 4 ä¸ªæ­¥éª¤ï¼š</strong></p>
<ol>
<li>æ”»å‡»è€…å°†å¤§é‡æ•°æ®æœ‰æ•ˆè½½è·*æ¤å…¥æš´éœ²çš„å†…å­˜ç¼“å­˜æœåŠ¡å™¨ä¸Šã€‚</li>
<li>æ¥ä¸‹æ¥ï¼Œæ”»å‡»è€…ä½¿ç”¨ç›®æ ‡å—å®³è€…çš„IP åœ°å€ä¼ªé€ HTTP GETè¯·æ±‚ã€‚</li>
<li>å¸¦æœ‰æ¼æ´çš„å†…å­˜ç¼“å­˜æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ï¼Œè¯•å›¾é€šè¿‡å“åº”æ¥æä¾›å¸®åŠ©ï¼Œå› æ­¤å°†å¤§é‡å“åº”å‘é€åˆ°ç›®æ ‡ã€‚</li>
<li>ç›®æ ‡æœåŠ¡å™¨æˆ–å…¶å‘¨å›´çš„åŸºç¡€è®¾æ–½æ— æ³•å¤„ç†ä»å†…å­˜ç¼“å­˜æœåŠ¡å™¨å‘é€çš„å¤§é‡æ•°æ®ï¼Œå› æ­¤å¯¼è‡´è¿‡è½½å’Œå¯¹æ­£å¸¸è¯·æ±‚æ‹’ç»æœåŠ¡ã€‚</li>
</ol>
<p><strong>å†…å­˜ç¼“å­˜æ”¾å¤§æ”»å‡»çš„è§„æ¨¡å¯ä»¥è¾¾åˆ°å¤šå¤§ï¼Ÿ</strong></p>
<p>è¿™ç§æ”»å‡»çš„æ”¾å¤§å€æ•°ååˆ†æƒŠäººï¼›åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬è§è¿‡é«˜è¾¾ 51,200 å€çš„æ”¾å¤§å€æ•°ï¼è¿™æ„å‘³ç€å¯¹äº 15 å­—èŠ‚çš„è¯·æ±‚ï¼Œå¯ä»¥å‘é€ 750 kB çš„å“åº”ã€‚è¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ”¾å¤§å€æ•°ï¼Œæ— æ³•æ‰¿å—å¦‚æ­¤å¤§é‡æ”»å‡»æµé‡çš„ Web èµ„äº§åˆ™é¢ä¸´å·¨å¤§çš„å®‰å…¨é£é™©ã€‚å·¨å¤§çš„æ”¾å¤§å€æ•°åŠ ä¸Šå¸¦æœ‰æ¼æ´çš„æœåŠ¡å™¨ä½¿å†…å­˜ç¼“å­˜æ”¾å¤§æ”»å‡»æˆä¸ºæ”»å‡»è€…é’ˆå¯¹å„ç§ç›®æ ‡å‘èµ· DDoS æ”»å‡»çš„ä¸»è¦ç”¨ä¾‹ã€‚</p>
<h4 id="å¦‚ä½•é˜²æŠ¤"><a href="#å¦‚ä½•é˜²æŠ¤" class="headerlink" title="å¦‚ä½•é˜²æŠ¤"></a>å¦‚ä½•é˜²æŠ¤</h4><ol>
<li><strong>ç¦ç”¨ UDP</strong> - å¯¹äºå†…å­˜ç¼“å­˜æœåŠ¡å™¨ï¼Œè¯·ç¡®ä¿åœ¨ä¸éœ€è¦æ—¶ç¦ç”¨ UDP æ”¯æŒã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå†…å­˜ç¼“å­˜å¯ç”¨äº† UDP æ”¯æŒï¼Œè¿™å¯èƒ½ä¼šä½¿æœåŠ¡å™¨å®¹æ˜“å—åˆ°æ”»å‡»ã€‚</li>
<li><strong>å¯¹å†…å­˜ç¼“å­˜æœåŠ¡å™¨è¿›è¡Œé˜²ç«å¢™ä¿æŠ¤</strong> - é€šè¿‡åœ¨å†…å­˜ç¼“å­˜æœåŠ¡å™¨å’Œ Internet ä¹‹é—´æ·»åŠ <span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvc2VjdXJpdHkvd2hhdC1pcy1hLWZpcmV3YWxsLw==">é˜²ç«å¢™<i class="fa fa-external-link-alt"></i></span>ä¿æŠ¤ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨ UDPï¼Œè€Œä¸å¿…æš´éœ²äºé£é™©ä¸­ã€‚</li>
<li><strong>é˜²æ­¢ IP æ¬ºéª—</strong> - åªè¦å¯ä»¥ä¼ªé€  IP åœ°å€ï¼ŒDDoS æ”»å‡»å°±å¯ä»¥åˆ©ç”¨æ­¤æ¼æ´å°†æµé‡å®šå‘åˆ°å—å®³è€…çš„ç½‘ç»œã€‚é˜²æ­¢ IP æ¬ºéª—æ˜¯ä¸€ä¸ªè§„æ¨¡è¾ƒå¤§çš„è§£å†³æ–¹æ¡ˆï¼Œæ— æ³•ç”±ç‰¹å®šçš„ç³»ç»Ÿç®¡ç†å‘˜å®æ–½ï¼Œå®ƒè¦æ±‚ä¼ è¾“æä¾›å•†ç¦æ­¢æº IP åœ°å€æºè‡ªç½‘ç»œå¤–éƒ¨çš„ä»»ä½•æ•°æ®åŒ…ç¦»å¼€å…¶ç½‘ç»œã€‚æ¢å¥è¯è¯´ï¼ŒInternet æœåŠ¡æä¾›å•† (ISP) ä¹‹ç±»çš„å…¬å¸å¿…é¡»ç­›é€‰æµé‡ï¼Œä»¥ä½¿ç¦»å¼€å…¶ç½‘ç»œçš„æ•°æ®åŒ…ä¸å¾—å‡è£…æˆæ¥è‡ªå…¶ä»–åœ°æ–¹çš„å…¶ä»–ç½‘ç»œã€‚å¦‚æœæ‰€æœ‰ä¸»è¦çš„ä¼ è¾“æä¾›å•†éƒ½å®æ–½äº†è¿™ç§ç­›é€‰ï¼ŒåŸºäºæ¬ºéª—çš„æ”»å‡»å°†åœ¨ä¸€å¤œä¹‹é—´æ¶ˆå¤±ã€‚</li>
<li><strong>å¼€å‘å…·æœ‰å‡å°‘ UDP å“åº”çš„è½¯ä»¶</strong> - æ¶ˆé™¤æ”¾å¤§æ”»å‡»çš„å¦ä¸€ç§æ–¹æ³•æ˜¯<strong>å»é™¤ä»»ä½•ä¼ å…¥è¯·æ±‚çš„æ”¾å¤§å› ç´ </strong>ï¼›å¦‚æœç”±äº UDP è¯·æ±‚è€Œå‘é€çš„å“åº”æ•°æ®å°äºæˆ–ç­‰äºåˆå§‹è¯·æ±‚ï¼Œåˆ™æ”¾å¤§å°±ä¸å¤å¯èƒ½ã€‚</li>
</ol>
<p>Cloudflare åœ¨ç½‘ç»œè¾¹ç¼˜ç­›é€‰ UDP æµé‡ï¼Œæ¶ˆé™¤äº†è¯¸å¦‚æ­¤ç±»çš„æ”¾å¤§æ”»å‡»å¸¦æ¥çš„é£é™©ã€‚æ¢ç´¢ Cloudflare çš„<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vZGRvcy8=">é«˜çº§ DDoS <i class="fa fa-external-link-alt"></i></span>é˜²æŠ¤ã€‚</p>
<p>è¦æ›´æ·±å…¥åœ°äº†è§£ Cloudflare é‡åˆ°å†…å­˜ç¼“å­˜æ”»å‡»çš„æƒ…å†µä»¥åŠç”¨äºé˜²æŠ¤çš„ç‰¹å®šå‘½ä»¤å’Œè¿‡ç¨‹ï¼Œè¯·æµè§ˆåšå®¢æ–‡ç« <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNsb3VkZmxhcmUuY29tL21lbWNyYXNoZWQtbWFqb3ItYW1wbGlmaWNhdGlvbi1hdHRhY2tzLWZyb20tcG9ydC0xMTIxMS8=">å†…å­˜ç¼“å­˜ - æ¥è‡ª UDP ç«¯å£ 11211 <i class="fa fa-external-link-alt"></i></span>çš„ä¸»è¦æ”¾å¤§æ”»å‡»ã€‚</p>
<h3 id="2-2-SYN-Floodæ”»å‡»"><a href="#2-2-SYN-Floodæ”»å‡»" class="headerlink" title="2.2 SYN Floodæ”»å‡»"></a>2.2 SYN Floodæ”»å‡»</h3><h4 id="æ”»å‡»åŸç†-1"><a href="#æ”»å‡»åŸç†-1" class="headerlink" title="æ”»å‡»åŸç†"></a>æ”»å‡»åŸç†</h4><p>SYN æ´ªæ°´æ”»å‡»åˆ©ç”¨ <span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS90Y3AtaXAv">TCP<i class="fa fa-external-link-alt"></i></span> è¿æ¥çš„æ¡æ‰‹è¿‡ç¨‹å‘åŠ¨æ”»å‡»ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ŒTCP è¿æ¥å°†å®Œæˆä¸‰æ¬¡æ¡æ‰‹ä»¥å»ºç«‹è¿æ¥ã€‚</p>
<ol>
<li>é¦–å…ˆï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ SYN æ•°æ®åŒ…ä»¥å‘èµ·è¿æ¥ã€‚</li>
<li>æ¥ç€ï¼ŒæœåŠ¡å™¨é€šè¿‡ SYN/ACK æ•°æ®åŒ…å¯¹è¯¥åˆå§‹æ•°æ®åŒ…åšå‡ºå“åº”ï¼Œä»¥ä¾¿ç¡®è®¤é€šä¿¡ã€‚</li>
<li>æœ€åï¼Œå®¢æˆ·ç«¯è¿”å› ACK æ•°æ®åŒ…ä»¥ç¡®è®¤æ¥åˆ°æœåŠ¡å™¨å‘å‡ºçš„æ•°æ®åŒ…ã€‚å®Œæˆè¿™ä¸€ç³»åˆ—æ•°æ®åŒ…å‘é€å’Œæ¥æ”¶æ“ä½œåï¼ŒTCP è¿æ¥å°†å¤„äºæ‰“å¼€çŠ¶æ€å¹¶ä¸”èƒ½å¤Ÿå‘é€å’Œæ¥æ”¶æ•°æ®ã€‚</li>
</ol>
<img data-src="/images/DDos%E6%94%BB%E5%87%BB%E4%B8%8E%E4%BF%9D%E6%8A%A4/syn-flood-attack-ddos-attack-diagram-1.png" alt="syn-flood-attack-ddos-attack-diagram-1" style="zoom: 33%;" />

<p>ä¸ºå‘èµ·<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS9kZW5pYWwtb2Ytc2VydmljZS8=">æ‹’ç»æœåŠ¡<i class="fa fa-external-link-alt"></i></span>æ”»å‡»ï¼Œæ”»å‡»è€…éœ€åˆ©ç”¨è¿™æ ·ä¸€é¡¹äº‹å®ï¼šæ”¶åˆ°åˆå§‹ SYN æ•°æ®åŒ…åï¼ŒæœåŠ¡å™¨å°†é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ª SYN/ACK æ•°æ®åŒ…åšå‡ºå›å“ï¼Œç­‰å¾…å®Œæˆæ¡æ‰‹è¿‡ç¨‹çš„æœ€åä¸€æ­¥ã€‚å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ”»å‡»è€…é€šå¸¸ä½¿ç”¨<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9nbG9zc2FyeS9pcC1zcG9vZmluZy8=">ä¼ªé€ çš„<i class="fa fa-external-link-alt"></i></span> IP åœ°å€å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡ SYN æ•°æ®åŒ…ã€‚</li>
<li>ç„¶åï¼ŒæœåŠ¡å™¨åˆ†åˆ«å¯¹æ¯ä¸€é¡¹è¿æ¥è¯·æ±‚åšå‡ºå“åº”ï¼Œå¹¶ç¡®ä¿æ‰“å¼€çš„ç«¯å£åšå¥½æ¥æ”¶å“åº”çš„å‡†å¤‡ã€‚</li>
<li>åœ¨æœåŠ¡å™¨ç­‰å¾…æœ€åä¸€ä¸ª ACK æ•°æ®åŒ…ï¼ˆæ°¸è¿œä¸ä¼šåˆ°è¾¾ï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œæ”»å‡»è€…å°†ç»§ç»­å‘é€æ›´å¤š SYN æ•°æ®åŒ…ã€‚æ¯å½“æœ‰æ–°çš„ SYN æ•°æ®åŒ…åˆ°è¾¾ï¼ŒæœåŠ¡å™¨éƒ½ä¼šä¸´æ—¶æ‰“å¼€ä¸€ä¸ªæ–°çš„ç«¯å£å¹¶åœ¨ä¸€æ®µç‰¹å®šæ—¶é—´å†…ä¿æŒè¿æ¥ï¼›ç”¨éæ‰€æœ‰å¯ç”¨ç«¯å£åï¼ŒæœåŠ¡å™¨å°†æ— æ³•æ­£å¸¸è¿è¡Œã€‚</li>
</ol>
<img data-src="/images/DDos%E6%94%BB%E5%87%BB%E4%B8%8E%E4%BF%9D%E6%8A%A4/syn-flood-attack-ddos-attack-diagram-2.png" alt="syn-flood-attack-ddos-attack-diagram-2" style="zoom:25%;" />

<p>åœ¨ç½‘ç»œä¸­ï¼Œå¦‚æœæœåŠ¡å™¨è¿æ¥å¤„äºæ‰“å¼€çŠ¶æ€ä½†å¦ä¸€ç«¯çš„æœºå™¨è¿æ¥æœªæ‰“å¼€ï¼Œåˆ™è§†ä¸ºåŠå¼€è¿æ¥ã€‚åœ¨æ­¤ç±» DDoS æ”»å‡»ä¸­ï¼Œç›®æ ‡æœåŠ¡å™¨å°†ä½¿è¿æ¥ä¸€ç›´å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œé™å¾…å„ä¸ªè¿æ¥è¶…æ—¶ï¼Œé¿å…å†æ¬¡å¼€æ”¾ç«¯å£ã€‚å› æ­¤ï¼Œæ­¤ç±»æ”»å‡»å¯è§†ä¸º<strong>â€œåŠå¼€è¿æ¥æ”»å‡»â€</strong>ã€‚</p>
<p><strong>æ¶æ„ç”¨æˆ·å¯é€šè¿‡ä¸‰ç§ä¸åŒæ–¹å¼å‘èµ· SYN æ´ªæ°´æ”»å‡»ï¼š</strong></p>
<ol>
<li><strong>ç›´æ¥æ”»å‡»ï¼š</strong>ä¸ä¼ªé€  <span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZG5zL2dsb3NzYXJ5L3doYXQtaXMtbXktaXAtYWRkcmVzcy8=">IP åœ°å€<i class="fa fa-external-link-alt"></i></span>çš„ SYN æ´ªæ°´æ”»å‡»ç§°ä¸ºç›´æ¥æ”»å‡»ã€‚åœ¨æ­¤ç±»æ”»å‡»ä¸­ï¼Œæ”»å‡»è€…å®Œå…¨ä¸å±è”½å…¶ IP åœ°å€ã€‚ç”±äºæ”»å‡»è€…ä½¿ç”¨å…·æœ‰çœŸå® IP åœ°å€çš„å•ä¸€æºè®¾å¤‡å‘èµ·æ”»å‡»ï¼Œå› æ­¤å¾ˆå®¹æ˜“å‘ç°å¹¶æ¸…ç†æ”»å‡»è€…ã€‚ä¸ºä½¿ç›®æ ‡æœºå™¨å‘ˆç°åŠå¼€çŠ¶æ€ï¼Œé»‘å®¢å°†é˜»æ­¢ä¸ªäººæœºå™¨å¯¹æœåŠ¡å™¨çš„ SYN-ACK æ•°æ®åŒ…åšå‡ºå“åº”ã€‚ä¸ºæ­¤ï¼Œé€šå¸¸é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®ç°ï¼šéƒ¨ç½²<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvc2VjdXJpdHkvd2hhdC1pcy1hLWZpcmV3YWxsLw==">é˜²ç«å¢™<i class="fa fa-external-link-alt"></i></span>è§„åˆ™ï¼Œé˜»æ­¢é™¤ SYN æ•°æ®åŒ…ä»¥å¤–çš„å„ç±»ä¼ å‡ºæ•°æ®åŒ…ï¼›æˆ–è€…ï¼Œå¯¹ä¼ å…¥çš„æ‰€æœ‰ SYN-ACK æ•°æ®åŒ…è¿›è¡Œè¿‡æ»¤ï¼Œé˜²æ­¢å…¶åˆ°è¾¾æ¶æ„ç”¨æˆ·æœºå™¨ã€‚è¿™ç§æ–¹æ³•é˜²æŠ¤èµ·æ¥éš¾åº¦è¾ƒå°ï¼Œæ‰€ä»¥å¹¶ä¸å¸¸è§</li>
<li><strong>æ¬ºéª—æ”»å‡»ï¼š</strong>æ¶æ„ç”¨æˆ·è¿˜å¯ä»¥ä¼ªé€ å…¶å‘é€çš„å„ä¸ª SYN æ•°æ®åŒ…çš„ IP åœ°å€ï¼Œä»¥å¢åŠ é˜²æŠ¤éš¾åº¦ã€‚è™½ç„¶æ•°æ®åŒ…å¯èƒ½ç»è¿‡ä¼ªè£…ï¼Œä½†è¿˜æ˜¯å¯ä»¥é€šè¿‡è¿™äº›æ•°æ®åŒ…è¿½æ ¹æº¯æºã€‚</li>
<li><strong>åˆ†å¸ƒå¼æ”»å‡»ï¼ˆDDoSï¼‰ï¼š</strong>å¦‚æœä½¿ç”¨åƒµå°¸ç½‘ç»œå‘èµ·æ”»å‡»ï¼Œåˆ™è¿½æº¯æ”»å‡»æºå¤´çš„å¯èƒ½æ€§å¾ˆä½ã€‚æ”»å‡»è€…å¯èƒ½è¿˜ä¼šå‘½ä»¤æ¯å°åˆ†å¸ƒå¼è®¾å¤‡ä¼ªé€ å…¶å‘é€æ•°æ®åŒ…çš„ IP åœ°å€ã€‚</li>
</ol>
<p>æ¶æ„ç”¨æˆ·å¯ä»¥é€šè¿‡ SYN æ´ªæ°´æ”»å‡»å°è¯•åœ¨ç›®æ ‡è®¾å¤‡æˆ–æœåŠ¡ä¸­åˆ›å»ºæ‹’ç»æœåŠ¡ï¼Œ<strong>å…¶æµé‡è¿œä½äºå…¶ä»– DDoS æ”»å‡»</strong>ã€‚SYN æ”»å‡»ä¸å±äºå®¹é‡è€—å°½æ”»å‡»ï¼Œå…¶ç›®çš„å¹¶éä½¿ç›®æ ‡å‘¨å›´çš„ç½‘ç»œåŸºç¡€è®¾æ–½è¾¾åˆ°é¥±å’Œï¼Œåªéœ€ä¿è¯å¤§äºç›®æ ‡æ“ä½œç³»ç»Ÿçš„å¯ç”¨ç§¯å‹å·¥ä½œå³å¯ã€‚å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿç¡®å®šç§¯å‹å·¥ä½œè§„æ¨¡ä»¥åŠæ¯ä¸ªè¿æ¥ä¿æŒæ‰“å¼€çŠ¶æ€çš„æ—¶é—´é•¿åº¦ï¼ˆè¶…å‡ºæ—¶é—´å°†è¿›å…¥è¶…æ—¶çŠ¶æ€ï¼‰ï¼Œæ”»å‡»è€…å°†å¯ä»¥æ‰¾å‡ºç¦ç”¨ç³»ç»Ÿæ‰€éœ€çš„ç¡®åˆ‡å‚æ•°ï¼Œä»è€Œå°†åˆ›å»ºæ‹’ç»æœåŠ¡æ‰€éœ€çš„æ€»æµé‡é™è‡³æœ€ä½ã€‚</p>
<h4 id="é˜²æŠ¤æ‰‹æ®µ"><a href="#é˜²æŠ¤æ‰‹æ®µ" class="headerlink" title="é˜²æŠ¤æ‰‹æ®µ"></a>é˜²æŠ¤æ‰‹æ®µ</h4><h5 id="æ‰©å±•ç§¯å‹å·¥ä½œé˜Ÿåˆ—"><a href="#æ‰©å±•ç§¯å‹å·¥ä½œé˜Ÿåˆ—" class="headerlink" title="æ‰©å±•ç§¯å‹å·¥ä½œé˜Ÿåˆ—"></a>æ‰©å±•ç§¯å‹å·¥ä½œé˜Ÿåˆ—</h5><p>ç›®æ ‡è®¾å¤‡å®‰è£…çš„æ¯ä¸ªæ“ä½œç³»ç»Ÿéƒ½å…è®¸å…·æœ‰ä¸€å®šæ•°é‡çš„åŠå¼€è¿æ¥ã€‚è‹¥è¦å“åº”å¤§é‡ SYN æ•°æ®åŒ…ï¼Œä¸€ç§æ–¹æ³•æ˜¯å¢åŠ æ“ä½œç³»ç»Ÿå…è®¸çš„æœ€å¤§åŠå¼€è¿æ¥æ•°ç›®ã€‚ä¸ºæˆåŠŸæ‰©å±•æœ€å¤§ç§¯å‹å·¥ä½œï¼Œç³»ç»Ÿå¿…é¡»é¢å¤–é¢„ç•™å†…å­˜èµ„æºä»¥å¤„ç†å„ç±»æ–°è¯·æ±‚ã€‚å¦‚æœç³»ç»Ÿæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œæ— æ³•åº”å¯¹å¢åŠ çš„ç§¯å‹å·¥ä½œé˜Ÿåˆ—è§„æ¨¡ï¼Œå°†å¯¹ç³»ç»Ÿæ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ï¼Œä½†ä»ç„¶å¥½è¿‡æ‹’ç»æœåŠ¡ã€‚</p>
<h5 id="å›æ”¶æœ€å…ˆåˆ›å»ºçš„-TCP-åŠå¼€è¿æ¥"><a href="#å›æ”¶æœ€å…ˆåˆ›å»ºçš„-TCP-åŠå¼€è¿æ¥" class="headerlink" title="å›æ”¶æœ€å…ˆåˆ›å»ºçš„ TCP åŠå¼€è¿æ¥"></a>å›æ”¶æœ€å…ˆåˆ›å»ºçš„ TCP åŠå¼€è¿æ¥</h5><p>å¦ä¸€ç§ç¼“è§£ç­–ç•¥æ˜¯åœ¨å¡«å……ç§¯å‹å·¥ä½œåè¦†ç›–æœ€å…ˆåˆ›å»ºçš„åŠå¼€è¿æ¥ã€‚è¿™é¡¹ç­–ç•¥è¦æ±‚å®Œå…¨å»ºç«‹åˆæ³•è¿æ¥çš„æ—¶é—´ä½äºæ¶æ„ SYN æ•°æ®åŒ…å¡«å……ç§¯å‹å·¥ä½œçš„æ—¶é—´ã€‚å½“æ”»å‡»é‡å¢åŠ æˆ–ç§¯å‹å·¥ä½œè§„æ¨¡å°äºå®é™…éœ€æ±‚æ—¶ï¼Œè¿™é¡¹ç‰¹å®šçš„é˜²å¾¡æªæ–½å°†ä¸å¥æ•ˆã€‚</p>
<h5 id="SYN-Cookie"><a href="#SYN-Cookie" class="headerlink" title="SYN Cookie"></a>SYN Cookie</h5><p>æ­¤ç­–ç•¥è¦æ±‚æœåŠ¡å™¨åˆ›å»º Cookieã€‚ä¸ºé¿å…åœ¨å¡«å……ç§¯å‹å·¥ä½œæ—¶æ–­å¼€è¿æ¥ï¼ŒæœåŠ¡å™¨ä½¿ç”¨ SYN-ACK æ•°æ®åŒ…å“åº”æ¯ä¸€é¡¹è¿æ¥è¯·æ±‚ï¼Œè€Œåä»ç§¯å‹å·¥ä½œä¸­åˆ é™¤ SYN è¯·æ±‚ï¼ŒåŒæ—¶ä»å†…å­˜ä¸­åˆ é™¤è¯·æ±‚ï¼Œä¿è¯ç«¯å£ä¿æŒæ‰“å¼€çŠ¶æ€å¹¶åšå¥½é‡æ–°å»ºç«‹è¿æ¥çš„å‡†å¤‡ã€‚å¦‚æœè¿æ¥æ˜¯åˆæ³•è¯·æ±‚å¹¶ä¸”å·²å°†æœ€åä¸€ä¸ª ACK æ•°æ®åŒ…ä»å®¢æˆ·ç«¯æœºå™¨å‘å›æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°†é‡å»ºï¼ˆå­˜åœ¨ä¸€äº›é™åˆ¶ï¼‰SYN ç§¯å‹å·¥ä½œé˜Ÿåˆ—æ¡ç›®ã€‚è™½ç„¶è¿™é¡¹ç¼“è§£æªæ–½åŠ¿å¿…ä¼šä¸¢å¤±ä¸€äº› TCP è¿æ¥ä¿¡æ¯ï¼Œä½†å¥½è¿‡å› æ­¤å¯¼è‡´å¯¹åˆæ³•ç”¨æˆ·å‘èµ·æ‹’ç»æœåŠ¡æ”»å‡»ã€‚</p>
<h5 id="Cloudflare-å¦‚ä½•ç¼“è§£-SYN-æ´ªæ°´æ”»å‡»ï¼Ÿ"><a href="#Cloudflare-å¦‚ä½•ç¼“è§£-SYN-æ´ªæ°´æ”»å‡»ï¼Ÿ" class="headerlink" title="Cloudflare å¦‚ä½•ç¼“è§£ SYN æ´ªæ°´æ”»å‡»ï¼Ÿ"></a>Cloudflare å¦‚ä½•ç¼“è§£ SYN æ´ªæ°´æ”»å‡»ï¼Ÿ</h5><p>Cloudflare é€šè¿‡éš”ç¦»ç›®æ ‡æœåŠ¡å™¨ä¸ SYN æ´ªæ°´æ”»å‡»æ¥ç¼“è§£æ­¤ç±»æ”»å‡»ã€‚å½“å‘å‡ºåˆå§‹ SYN è¯·æ±‚æ—¶ï¼ŒCloudflare å°†åœ¨äº‘ä¸­å®Œæˆæ¡æ‰‹è¿‡ç¨‹ï¼Œæ‹’ç»ä¸ç›®æ ‡æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œç›´åˆ°å®Œæˆ TCP æ¡æ‰‹è¿‡ç¨‹ã€‚</p>
<img data-src="/images/DDos%E6%94%BB%E5%87%BB%E4%B8%8E%E4%BF%9D%E6%8A%A4/syn-flood-attack-ddos-attack-diagram-3.png" alt="Cloudflare é˜»æ­¢ SYN Flood æ”»å‡»å›¾" style="zoom:25%;" />

<h3 id="2-3-ICMP-Floodæ”»å‡»"><a href="#2-3-ICMP-Floodæ”»å‡»" class="headerlink" title="2.3 ICMP Floodæ”»å‡»"></a>2.3 ICMP Floodæ”»å‡»</h3><p>ä¹Ÿå«Ping Floodæ”»å‡»</p>
<h5 id="æ”»å‡»åŸç†-2"><a href="#æ”»å‡»åŸç†-2" class="headerlink" title="æ”»å‡»åŸç†"></a>æ”»å‡»åŸç†</h5><p>ICMP Floodï¼ˆå³ICMP æ´ªæ°´æ”»å‡»ï¼‰ï¼šå½“ ICMP ping äº§ç”Ÿçš„å¤§é‡å›åº”è¯·æ±‚è¶…å‡ºäº†ç³»ç»Ÿçš„æœ€å¤§é™åº¦ï¼Œä»¥è‡³äºç³»ç»Ÿè€—è´¹æ‰€æœ‰èµ„æºæ¥è¿›è¡Œå“åº”ç›´è‡³å†ä¹Ÿæ— æ³•å¤„ç†æœ‰æ•ˆ çš„ç½‘ç»œä¿¡æ¯æµï¼Œè¿™å°±æ˜¯ ICMP æ´ªæ°´æ”»å‡»ã€‚ç®€å•è¯´æ”»å‡»è€…å‘ä¸€ä¸ªå­ç½‘çš„å¹¿æ’­åœ°å€å‘é€å¤šä¸ªICMP Echoè¯·æ±‚æ•°æ®åŒ…ã€‚å¹¶å°†æºåœ°å€ä¼ªè£…æˆæƒ³è¦æ”»å‡»çš„ç›®æ ‡ä¸»æœºçš„åœ°å€ã€‚ç„¶åè¯¥å­ç½‘ä¸Šçš„æ‰€æœ‰ä¸»æœºå‡ä¼šå¯¹æ­¤ICMP Echoè¯·æ±‚åŒ…ä½œå‡ºç­”å¤ï¼Œå‘è¢«æ”»å‡»çš„ç›®æ ‡ä¸»æœºå‘é€æ•°æ®åŒ…ï¼Œä½¿æ­¤ä¸»æœºå—åˆ°æ”»å‡»ï¼Œå¯¼è‡´ç½‘ç»œé˜»å¡ã€‚ICMP Floodæ”»å‡»ä¸»è¦çš„ç›®çš„ä½¿ç½‘ç»œç˜«ç—ªã€‚</p>
<p>Ping Flood çš„ç ´åæ€§å½±å“ä¸å‘ç›®æ ‡æœåŠ¡å™¨å‘å‡ºçš„è¯·æ±‚æ•°é‡æˆæ­£æ¯”ã€‚ä¸<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9udHAtYW1wbGlmaWNhdGlvbi1kZG9zLWF0dGFjay8=">NTPæ”¾å¤§<i class="fa fa-external-link-alt"></i></span>ã€<span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcvZGRvcy9kbnMtYW1wbGlmaWNhdGlvbi1kZG9zLWF0dGFjay8=">DNSæ”¾å¤§<i class="fa fa-external-link-alt"></i></span>ç­‰åŸºäºåå°„çš„DDoSæ”»å‡»ä¸åŒï¼ŒPing Floodæ”»å‡»æµé‡æ˜¯å¯¹ç§°çš„ï¼›ç›®æ ‡è®¾å¤‡æ¥æ”¶çš„å¸¦å®½é‡åªæ˜¯ä»æ¯ä¸ªæœºå™¨äººå‘é€çš„æ€»æµé‡çš„æ€»å’Œã€‚</p>
<p>å‚è€ƒï¼š</p>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vbGVhcm5pbmcv">https://www.cloudflare.com/learning/<i class="fa fa-external-link-alt"></i></span></p>
]]></content>
      <categories>
        <category>å®‰å…¨</category>
      </categories>
      <tags>
        <tag>DDos</tag>
      </tags>
  </entry>
  <entry>
    <title>Superset ä¸Šæ‰‹è®°å½•</title>
    <url>/2021/04/21/Superset%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>Apache Supersetæ˜¯Airbnbå¼€æºçš„æ•°æ®æŒ–æ˜å¹³å°ã€‚æ”¯æŒä¸°å¯Œçš„æ•°æ®æºè¿æ¥ï¼Œå¤šç§å¯è§†åŒ–æ–¹å¼ï¼Œå¹¶èƒ½å¤Ÿå¯¹ç”¨æˆ·å®ç°ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ã€‚è¯¥å·¥å…·ä¸»è¦ç‰¹ç‚¹æ˜¯å¯è‡ªåŠ©åˆ†æã€è‡ªå®šä¹‰ä»ªè¡¨ç›˜ã€åˆ†æç»“æœå¯è§†åŒ–ï¼ˆå¯¼å‡ºï¼‰ã€ç”¨æˆ·/è§’è‰²æƒé™æ§åˆ¶ï¼Œè¿˜é›†æˆäº†ä¸€ä¸ªSQLç¼–è¾‘å™¨ï¼Œå¯ä»¥è¿›è¡ŒSQLç¼–è¾‘æŸ¥è¯¢ç­‰ã€‚æœ€è¿‘å·¥ä½œä¸­é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åŸºäºå¼€æºsupersetå®ç°ä¸€ä¸ªé¢æ¿ã€‚ä½†æ˜¯å®‰è£…ç¯å¢ƒæ˜¯å†…ç½‘ç¦»çº¿ç¯å¢ƒï¼Œè¸©äº†ä¸å°‘å‘ï¼Œè™½ç„¶æœ€åè¿˜æ˜¯ç”¨dockeræå®šï¼Œè¿™é‡Œè¿˜æ˜¯æŠŠä¹‹å‰è¸©çš„å‘è®°å½•ä¸€ä¸‹ã€‚</p>
<a id="more"></a>

<p><strong>å«æ³ªåœ¨å·é¦–è¡€ä¹¦ï¼š</strong></p>
<p><strong>æœ‰æ–°ä¸ç”¨æ—§å•Šï¼ç‰ˆæœ¬å…¼å®¹é—®é¢˜ä¼šè¢«æåˆ°æ­»ï¼</strong></p>
<h1 id="1-å…³äºå®‰è£…"><a href="#1-å…³äºå®‰è£…" class="headerlink" title="1. å…³äºå®‰è£…"></a>1. å…³äºå®‰è£…</h1><h2 id="Macç³»ç»Ÿè¸©å‘"><a href="#Macç³»ç»Ÿè¸©å‘" class="headerlink" title="Macç³»ç»Ÿè¸©å‘"></a>Macç³»ç»Ÿè¸©å‘</h2><p>å®‰è£…æ–¹å¼ï¼š</p>
<ul>
<li>åŸºäºdockerå®‰è£…ï¼šå¿«é€Ÿæ–¹ä¾¿ï¼Œä½†æ˜¯ä¸é€‚åˆäºŒæ¬¡å¼€å‘ï¼Œåªé€‚åˆå¯¹supersetç›´æ¥è¿›è¡Œä½¿ç”¨</li>
<li>åŸºäºpipå®‰è£…ï¼šå¿«é€Ÿæ–¹ä¾¿ï¼Œä½†æ˜¯æºç éœ€è¦æ‰‹åŠ¨ä¸‹è½½ï¼Œå¹¶ä¸”ç‰ˆæœ¬åˆ‡æ¢å‘æ¯”è¾ƒå¤š</li>
<li>ï¼ˆæ¨èï¼‰åŸºäºæºç å®‰è£…ï¼šgitæ–¹ä¾¿è¿›è¡Œç‰ˆæœ¬åˆ‡æ¢ï¼Œå¯ä»¥æ ¹æ®ç½‘ä¸ŠäºŒæ¬¡å¼€å‘çš„èµ„æ–™å®Œæ•´åº¦checkoutåˆ°åˆé€‚çš„ç‰ˆæœ¬è¿›è¡Œå¼€å‘</li>
</ul>
<h4 id="åŸºäºdockerå®‰è£…"><a href="#åŸºäºdockerå®‰è£…" class="headerlink" title="åŸºäºdockerå®‰è£…"></a>åŸºäºdockerå®‰è£…</h4><p><strong>å®‰è£…docker</strong></p>
<p>å·²å®‰è£…ï¼Œé¡ºä¾¿æ›´æ–°äº†ä¸€ä¸‹</p>
<blockquote>
<p>Once you have Docker for Mac installed, open up the preferences pane for Docker, go to the â€œResourcesâ€ section and increase the allocated memory to 6GB. With only the 2GB of RAM allocated by default, Superset will fail to start.</p>
</blockquote>
<p>ä¿®æ”¹dockerå†…å­˜é…ç½®è‡³6GB</p>
<p><strong>æ‹‰å–superset ä»“åº“</strong></p>
<p><code>git clone https://github.com/apache/superset.git</code> å·¨æ…¢</p>
<p><strong>dockerä¸­å¯åŠ¨superset</strong></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> superset</span><br><span class="line"><span class="variable">$</span> git checkout latest</span><br><span class="line"><span class="variable">$</span> docker<span class="literal">-compose</span> up</span><br></pre></td></tr></table></figure>
<p>ç­‰å¾…å®¹å™¨ä¸‹è½½ã€‚ä¸‹è½½å®Œæ¯•åæ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œæœªè§£å†³â€¦â€¦è½¬è‡³install from scratch</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">superset_tests_worker exited with code 127</span><br><span class="line">superset_init exited with code 127</span><br><span class="line">superset_node exited with code 1</span><br><span class="line">superset_worker exited with code 127</span><br><span class="line">superset_worker          | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_worker          | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_app exited with code 127</span><br><span class="line">superset_app             | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_app             | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_worker exited with code 127</span><br><span class="line">superset_worker          | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_worker          | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_worker          | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_app exited with code 127</span><br><span class="line">superset_app             | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_app             | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_app             | /usr/bin/docker-entrypoint.sh: line 21: /app/docker/docker-bootstrap.sh: No such file or directory</span><br><span class="line">superset_worker exited with code 127</span><br></pre></td></tr></table></figure>
<p>é”™è¯¯åŸå› ï¼šå®˜ç½‘æ­¥éª¤ä¸è¯¦ç»†ï¼Œéœ€è¦ä¸‹è½½superseté•œåƒï¼Œåˆ›å»ºsupersetå®¹å™¨ï¼Œå¯åŠ¨å®¹å™¨</p>
<p>å‚è€ƒ<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L25pa2V5bGVlL2FydGljbGUvZGV0YWlscy8xMTUyNjQ4MTglRTglQTclQTMlRTUlODYlQjMlRUYlQkMlOEMlRTQlQjglQkIlRTglQTYlODElRTYlQUQlQTUlRTklQUElQTQlRUYlQkMlOUE=">https://blog.csdn.net/nikeylee/article/details/115264818è§£å†³ï¼Œä¸»è¦æ­¥éª¤ï¼š<i class="fa fa-external-link-alt"></i></span></p>
<figure class="highlight dsconfig"><table><tr><td class="code"><pre><span class="line"><span class="string">docker</span> <span class="string">search</span> <span class="string">superset</span></span><br><span class="line"><span class="string"></span><span class="comment"># å¯ä»¥è‡ªé€‰ç‰ˆæœ¬</span></span><br><span class="line"><span class="string">docker</span> <span class="string">pull</span> <span class="string">amancevice</span>/<span class="string">superset</span></span><br><span class="line"><span class="string"></span><span class="comment"># æŸ¥çœ‹é•œåƒæ˜¯å¦ä¸‹è½½æˆåŠŸï¼š</span></span><br><span class="line"><span class="string">docker</span> <span class="string">images</span></span><br><span class="line"><span class="string"></span><span class="comment"># åˆ›å»ºSupersetå®¹å™¨</span></span><br><span class="line"><span class="comment"># åˆ›å»ºæŒ‚è½½çš„ç›®å½•ï¼š</span></span><br><span class="line"><span class="string">mkdir</span> /<span class="string">opt</span>/<span class="string">superset</span></span><br><span class="line"><span class="string"></span><span class="comment"># åˆ›å»ºå®¹å™¨</span></span><br><span class="line"><span class="string">docker</span> <span class="string">run</span> <span class="built_in">--name</span> <span class="string">my_superset</span> -<span class="string">d</span> -<span class="string">p</span> <span class="string">8088:8088 </span>-<span class="string">v</span> /<span class="string">opt</span>/<span class="string">superset</span>:/<span class="string">home</span>/<span class="string">superset</span> <span class="string">amancevice</span>/<span class="string">superset</span></span><br><span class="line"><span class="string"></span><span class="comment"># è¿›å…¥dockeré•œåƒ</span></span><br><span class="line"><span class="string">docker</span> <span class="string">exec</span> -<span class="string">it</span> <span class="string">my_superset</span> /<span class="string">bin</span>/<span class="string">bash</span></span><br><span class="line"><span class="string"></span><span class="comment"># superset é…ç½®</span></span><br><span class="line"><span class="string">superset</span> <span class="string">db</span> <span class="string">upgrade</span></span><br><span class="line"><span class="string">superset</span> <span class="string">init</span></span><br><span class="line"><span class="string">export</span> <span class="string">FLASK_APP</span>=<span class="string">superset</span></span><br><span class="line"><span class="string">flask</span> <span class="string">fab</span> <span class="built_in">create-admin</span></span><br><span class="line"><span class="built_in">superset</span> <span class="string">load_examples</span></span><br><span class="line"><span class="string"></span><span class="comment"># å¯åŠ¨supersetå‘½ä»¤</span></span><br><span class="line"><span class="string">superset</span> <span class="string">run</span> -<span class="string">p</span> <span class="string">8088</span></span><br></pre></td></tr></table></figure>


<h4 id="åŸºäºpipå®‰è£…"><a href="#åŸºäºpipå®‰è£…" class="headerlink" title="åŸºäºpipå®‰è£…"></a>åŸºäºpipå®‰è£…</h4><p>å‚è€ƒ<span class="exturl" data-url="aHR0cHM6Ly9zdXBlcnNldC5hcGFjaGUub3JnL2RvY3MvaW5zdGFsbGF0aW9uL2luc3RhbGxpbmctc3VwZXJzZXQtZnJvbS1zY3JhdGNo">https://superset.apache.org/docs/installation/installing-superset-from-scratch<i class="fa fa-external-link-alt"></i></span></p>
<p>é‡åˆ°é—®é¢˜ï¼š</p>
<p>1ï¼‰ å®‰è£…client_driveræ—¶æŠ¥é”™ OSError: mysql_config not found</p>
<p>è§£å†³ï¼š<span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjU0NTkzODYvbWFjLW9zLXgtZW52aXJvbm1lbnRlcnJvci1teXNxbC1jb25maWctbm90LWZvdW5k">https://stackoverflow.com/questions/25459386/mac-os-x-environmenterror-mysql-config-not-found<i class="fa fa-external-link-alt"></i></span></p>
<blockquote>
<p>Ok, well, first of all, let me check if I am on the same page as you:</p>
<ul>
<li>You installed python</li>
<li>You did <code>brew install mysql</code></li>
<li>You did <code>export PATH=$PATH:/usr/local/mysql/bin</code></li>
<li>And finally, you did <code>pip install MySQL-Python</code> (or <code>pip3 install mysqlclient</code> if using python 3)</li>
</ul>
</blockquote>
<h4 id="æºç å®‰è£…"><a href="#æºç å®‰è£…" class="headerlink" title="æºç å®‰è£…"></a>æºç å®‰è£…</h4><p>å‚è€ƒï¼š<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmVyaWM3LnNpdGUvMjAyMC8wMi8yMy9zdXBlcnNldC8=">https://blog.eric7.site/2020/02/23/superset/<i class="fa fa-external-link-alt"></i></span></p>
<p><strong>Anaconda åˆ›å»ºpythonç¯å¢ƒ</strong></p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">conda</span> create -n superset python=<span class="number">3</span>.<span class="number">7</span></span><br></pre></td></tr></table></figure>
<p>æ¿€æ´»ç¯å¢ƒ</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">conda <span class="built_in">activate</span> superset</span><br></pre></td></tr></table></figure>
<p><strong>github ä¸‹è½½æºç åŒ…</strong></p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/apache/incubator-superset.git</span><br><span class="line"></span><br><span class="line">git <span class="keyword">tag</span>ã€€<span class="title">åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="title"></span></span><br><span class="line"><span class="title">#åˆ‡æ¢åˆ°è‡ªå·±æƒ³è¦çš„ç‰ˆæœ¬ </span></span><br><span class="line"><span class="title">git</span> checkoutã€€+æŸç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘æ˜¯ç”¨èµ„æ–™è¾ƒå¤šçš„0.28ç‰ˆæœ¬</p>
<p><strong>å®‰è£…æ‰©å±•ä¾èµ–</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#è¿›å…¥åˆ°ç›®å½•</span><br><span class="line">cd incubator-superset</span><br><span class="line">pip install -r requirements.txt -i https:&#x2F;&#x2F;pypi.douban.com&#x2F;simple&#x2F;</span><br><span class="line"></span><br><span class="line">å®‰è£…å¼€å‘ä¾èµ–</span><br><span class="line">pip install -r requirements-dev.txt -i https:&#x2F;&#x2F;pypi.douban.com&#x2F;simple&#x2F;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸€æ­¥å®‰è£…æŠ¥é”™ï¼š</p>
<blockquote>
<p>ç‰ˆæœ¬é—®é¢˜æŠ¥é”™</p>
<p>pandas, cryptography</p>
<p>å¯¹ä¸‹é¢é…ç½®superseté€ æˆå½±å“</p>
</blockquote>
<p><strong>å®‰è£…superset</strong></p>
<figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta">#incubator-superset ç›®å½•æ‰§è¡Œ pip install -e . </span></span><br></pre></td></tr></table></figure>
<p><strong>é…ç½®superset</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·å’Œå¯†ç </span><br><span class="line">è¿™ä¸ªå‘½ä»¤å·²ç»ä¸æ¨èä½¿ç”¨äº†ã€‚</span><br><span class="line">fabmanager create-admin --app superset </span><br><span class="line">æ¨èä½¿ç”¨</span><br><span class="line">$export FLASK_APP&#x3D;superset</span><br><span class="line">flask fab create-admin</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æŠ¥é”™ï¼š</p>
<p>1ï¼‰</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">ImportError: cannot <span class="keyword">import</span> name <span class="string">&#x27;_maybe_box_datetimelike&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;pandas.core.common&#x27;</span> (<span class="regexp">/Users/</span>joy<span class="regexp">/opt/</span>anaconda3<span class="regexp">/envs/</span>superset<span class="regexp">/lib/</span>python3.<span class="number">7</span><span class="regexp">/site-packages/</span>pandas<span class="regexp">/core/</span>common.py)</span><br></pre></td></tr></table></figure>

<p>è¦æ±‚pandasç‰ˆæœ¬æ˜¯0.23.1ï¼Œå®‰è£…çš„ç‰ˆæœ¬ä¸º1.2.4</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">(superset) âœ  incubator-superset <span class="attr">git:</span>(<span class="number">0.28</span>) pip show pandas</span><br><span class="line"><span class="attr">Name:</span> pandas</span><br><span class="line"><span class="attr">Version:</span> <span class="number">1.2</span><span class="number">.4</span></span><br><span class="line"><span class="attr">Summary:</span> Powerful data structures <span class="keyword">for</span> data analysis, time series, and statistics</span><br><span class="line">Home-<span class="attr">page:</span> <span class="attr">https:</span><span class="comment">//pandas.pydata.org</span></span><br><span class="line"><span class="attr">Author:</span> None</span><br><span class="line">Author-<span class="attr">email:</span> None</span><br><span class="line"><span class="attr">License:</span> BSD</span><br><span class="line"><span class="attr">Location:</span> <span class="regexp">/Users/</span>joy<span class="regexp">/opt/</span>anaconda3<span class="regexp">/envs/</span>superset<span class="regexp">/lib/</span>python3<span class="number">.7</span>/site-packages</span><br><span class="line"><span class="attr">Requires:</span> python-dateutil, pytz, numpy</span><br><span class="line">Required-<span class="attr">by:</span> superset</span><br></pre></td></tr></table></figure>

<p>å°è¯•å®‰è£…ä½ç‰ˆæœ¬pandas è¦æ±‚çš„0.23.1åœ¨python3.7ä¸Šbuildå¤±è´¥ï¼Œ</p>
<p>å®‰è£…pandas==0.23.4  </p>
<p>å®‰è£…åï¼Œsuperset upgrade å’Œinitå‘½ä»¤æ‰§è¡ŒæŠ¥é”™</p>
<p>2ï¼‰</p>
<p>å®‰è£…MarkupSafe==1.0æ—¶æŠ¥é”™</p>
<p>è§£å†³ï¼š</p>
<p>pip install â€“upgrade pip setuptools==45.2.0</p>
<p>åé‡æ–°è¿è¡Œ</p>
<p><strong>å…¶ä»–ç‰ˆæœ¬é—®é¢˜åŸºæœ¬å¯ä»¥è§£å†³ï¼Œpypiå¯ä»¥ä¸‹è½½åˆ°python36çš„å®‰è£…åŒ…ï¼Œç„¶åè‡ªè¡Œpip install å®‰è£…åŒ…è¿›è¡Œå®‰è£…</strong></p>
</blockquote>
<hr>
<p>ä¿®æ”¹é…ç½®ç¯å¢ƒï¼š</p>
<p>é‡æ–°åˆ›å»ºcondaè™šæ‹Ÿç¯å¢ƒï¼Œsupersetç‰ˆæœ¬ä»0.28ä¸º0.36</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">conda deactive</span><br><span class="line"><span class="comment"># åˆ é™¤åŸæœ‰ç¯å¢ƒ</span></span><br><span class="line">conda <span class="builtin-name">remove</span> -n superset --all</span><br><span class="line"><span class="comment"># æ–°å»º</span></span><br><span class="line">conda create -n superset <span class="attribute">python</span>=3.7</span><br><span class="line">conda activate superset</span><br><span class="line"></span><br><span class="line">git checkout 0.36</span><br><span class="line">â€¦â€¦ï¼ˆåç»­å®‰è£…æ­¥éª¤ç±»ä¼¼ï¼‰</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šåˆ›å»ºç”¨æˆ·æ—¶æœ‰æ—¶å¯èƒ½å› ä¸ºç”¨æˆ·é‚®ç®±ç­‰ä¿¡æ¯é‡å¤è€Œåˆ›å»ºå¤±è´¥</p>
</blockquote>
<p>è¿˜æ˜¯ä¸è¡Œï¼Œåˆå§‹åŒ–supersetæ—¶æŠ¥é”™</p>
<blockquote>
<p>ERROR [root] Error: Canâ€™t locate revision identified by â€˜c878781977c6â€™</p>
</blockquote>
<hr>
<p>å°è¯•ç›´æ¥å®‰è£…æœ€æ–°ç‰ˆ1.0.1ï¼ˆç›´æ¥pip install -e .ï¼‰</p>
<p>æ€»ç®—æ­£å¸¸è¿è¡Œ</p>
<p><strong>é…ç½®superset</strong></p>
<figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta">#åˆå§‹åŒ–æ•°æ®åº“</span></span><br><span class="line">python superset db upgrade</span><br><span class="line"></span><br><span class="line"><span class="meta">#åˆå§‹åŒ–è§’è‰²å’Œæƒé™</span></span><br><span class="line">python superset init</span><br><span class="line"></span><br><span class="line"><span class="meta">#åŠ è½½ç¤ºä¾‹æ•°æ®</span></span><br><span class="line">python superset load_examples</span><br></pre></td></tr></table></figure>
<p><strong>å®‰è£…ç¼–è¯‘å‰ç«¯æ–‡ä»¶ï¼Œå¹¶è¿›å…¥å‰ç«¯å¼€å‘è€…æ¨¡å¼</strong></p>
<ul>
<li><p>å®‰è£…nodejsï¼šè§£å‹ï¼Œå»ºç«‹è½¯è¿æ¥</p>
<p>ç„¶ånode -v æŸ¥çœ‹ç‰ˆæœ¬ï¼ŒæŸ¥çœ‹æ­£å¸¸å³å¯</p>
</li>
<li><p>è®¾ç½®npmä¸ºæ·˜å®é•œåƒï¼ˆåŸå§‹åœ°å€ï¼š<span class="exturl" data-url="aHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcpLw==">https://registry.npmjs.orgï¼‰<i class="fa fa-external-link-alt"></i></span></p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">npm <span class="built_in">config</span> <span class="built_in">set</span> registry https:<span class="comment">//registry.npm.taobao.org</span></span><br><span class="line">éªŒè¯ `npm <span class="built_in">config</span> <span class="built_in">get</span> registry`</span><br></pre></td></tr></table></figure></li>
<li><p>è¿›å…¥superset/assetsç›®å½•ä¸‹ï¼ˆæ–°ç‰ˆç›®å½•incubator-superset/superset-frontend/ï¼‰,å®‰è£…ç¼–è¯‘æ‰€éœ€æ¨¡å—</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -d</span><br></pre></td></tr></table></figure></li>
<li><p>ç¼–è¯‘å‰ç«¯æ–‡ä»¶ï¼Œå¹¶è¿›å…¥å‰ç«¯å¼€å‘è€…æ¨¡å¼</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">npm <span class="builtin-name">run</span> build npm <span class="builtin-name">run</span> dev </span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼šå¦‚æœè¿™ä¸¤éƒ¨ç¼–è¯‘å¤±è´¥ï¼Œå¯èƒ½æ˜¯å› ä¸ºnodejsç‰ˆæœ¬è¿‡ä½ã€‚å¯å°è¯•å‡çº§nodejså†è¯•ã€‚</p>
<ul>
<li>è¿è¡Œå®Œnpm run devï¼Œå‘½ä»¤çª—å£ä¼šåœæ­¢ï¼Œä¸è¦è¯¯ä»¥ä¸ºæ˜¯æ‰§è¡Œä¸ä¸‹å»ï¼Œä¿æŒçª—å£å¼€å¯çŠ¶æ€å³å¯ï¼Œä¸€æœ‰æ–‡ä»¶å˜åŠ¨æ—¶ï¼Œå®ƒä¼šé‡æ–°ç¼–è¯‘</li>
</ul>
</li>
</ul>
<h4 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h4><ul>
<li><p>pip æ–¹å¼å®‰è£…å¥½ä¹‹åï¼Œclickhouseè¿æ¥æ€»æ˜¯å‡ºé—®é¢˜ï¼š</p>
<ul>
<li>æŒ‰ç…§å®˜ç½‘è¦æ±‚å®‰è£…sqlalchemy-clickhouseåï¼Œtestè¿æ¥æ˜¯å‡ºç° Error: Unexpected error occured</li>
<li>ç„¶åå‘ç°å®‰è£…clickhouse-sqlalchemyä¹‹åå¯ä»¥è§£å†³è¿æ¥é—®é¢˜ï¼Œä½†æ˜¯æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®æ²¡æœ‰è¡¨å¤´</li>
</ul>
<p>ç»ˆäºåœ¨<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9zdXBlcnNldC9pc3N1ZXMvOTcxOSVFNiU4OSVCRSVFNSU4OCVCMCVFOCVBNyVBMyVFNSU4NiVCMyVFNSU4QSU5RSVFNiVCMyU5NSVFRiVCQyU5QQ==">https://github.com/apache/superset/issues/9719æ‰¾åˆ°è§£å†³åŠæ³•ï¼š<i class="fa fa-external-link-alt"></i></span></p>
<p>è¿™ä½æœ‹å‹å’Œæˆ‘çš„æƒ…å†µä¹Ÿä¸€æ ·</p>
<img data-src="../images/Superset%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/image-20210415104252896.png" alt="image-20210415104252896" style="zoom:80%;" />

<p>è§£å†³ï¼š</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">pip</span> uninstall infi.clickhouse_orm</span><br><span class="line"><span class="attribute">pip</span> install infi.clickhouse_orm==<span class="number">1</span>.<span class="number">0</span>.<span class="number">4</span></span><br></pre></td></tr></table></figure>
<h2 id="Window-ç³»ç»Ÿä¸‹å®‰è£…å®Œå…¨è§£å†³"><a href="#Window-ç³»ç»Ÿä¸‹å®‰è£…å®Œå…¨è§£å†³" class="headerlink" title="Window ç³»ç»Ÿä¸‹å®‰è£…å®Œå…¨è§£å†³"></a>Window ç³»ç»Ÿä¸‹å®‰è£…å®Œå…¨è§£å†³</h2></li>
</ul>
<p>macæœ¬å‡ºäº†ç‚¹é—®é¢˜ï¼Œè½¬æˆ˜å·¥ä½œç”µè„‘windowç³»ç»Ÿ</p>
<h4 id="pipæ–¹å¼å¿«é€Ÿå®‰è£…"><a href="#pipæ–¹å¼å¿«é€Ÿå®‰è£…" class="headerlink" title="pipæ–¹å¼å¿«é€Ÿå®‰è£…"></a>pipæ–¹å¼å¿«é€Ÿå®‰è£…</h4><ul>
<li><p>æ–°å»ºcondaè™šæ‹Ÿç¯å¢ƒï¼ˆä¸»è¦ä¸ºäº†é™ä½è¯•é”™æˆæœ¬ï¼Œä¸å½±å“å…¶ä»–ç¯å¢ƒï¼‰</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">conda</span> create -n superset(ç¯å¢ƒå) python=<span class="number">3</span>.<span class="number">7</span></span><br><span class="line"><span class="attribute">conda</span> activate superset</span><br></pre></td></tr></table></figure></li>
<li><p>è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œå®‰è£…superset</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">pip install apache-superset -i https:<span class="regexp">//</span>pypi.mirrors.ustc.edu.cn<span class="regexp">/simple/</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼š</p>
<ul>
<li><p>æç¤ºéœ€è¦Vitual c++ 14.0ä»¥ä¸Šç‰ˆæœ¬ï¼Œä¸ªåˆ«ä¾èµ–åº“ç¼–è¯‘å¤±è´¥ï¼Œæ— æ³•ç”Ÿæˆwheelï¼š</p>
<p>è§£å†³ï¼šç›´æ¥ä¸‹è½½wheelï¼Œpip install wheelæ–‡ä»¶å®‰è£…æˆåŠŸåï¼Œé‡æ–°æ‰§è¡Œ</p>
</li>
</ul>
</li>
<li><p>å®‰è£…æˆåŠŸåé…ç½®</p>
<p>è¿™ä¸€æ­¥ä¹‹åå¾ˆå¤šåšå®¢è¦æ±‚è¿›å…¥superset/binç›®å½•ä¸‹æ‰§è¡Œpython superset â€¦â€¦å‘½ä»¤ï¼Œå¯èƒ½ç”±äºç‰ˆæœ¬é—®é¢˜ï¼Œå¹¶ä¸é€‚ç”¨ã€‚ä¹‹åæ­¥éª¤ä»¥æ­¤ä¸ºå‡†ï¼š</p>
<figure class="highlight dsconfig"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–æ•°æ®åº“</span></span><br><span class="line"><span class="string">superset</span> <span class="string">db</span> <span class="string">upgrade</span></span><br><span class="line"><span class="string"></span><span class="comment"># åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·</span></span><br><span class="line"><span class="string">superset</span> <span class="string">fab</span> <span class="built_in">create-admin</span></span><br><span class="line"><span class="built_in">(fabmanager</span> <span class="built_in">create-admin</span> <span class="built_in">--app</span> <span class="string">superset</span> å‘½ä»¤ä¼šå‡ºç°<span class="string">nontype</span> <span class="string">&quot;au_then&quot;</span>?ï¼ˆè®°ä¸æ¸…äº†ï¼‰æŠ¥é”™)</span><br><span class="line"><span class="comment"># åˆå§‹åŒ–è§’è‰²å’Œæƒé™</span></span><br><span class="line"><span class="string">superset</span> <span class="string">init</span></span><br></pre></td></tr></table></figure>
<h4 id="äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…"><a href="#äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…" class="headerlink" title="äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…"></a>äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…</h4></li>
</ul>
<p>pipå®‰è£…ä»…é€‚åˆä½¿ç”¨ï¼Œä¸é€‚åˆäºŒæ¬¡å¼€å‘ã€‚äºŒæ¬¡å¼€å‘éœ€è¦æºç ä¸‹è½½</p>
<ul>
<li><p>å¦å¤–æ–°å»ºä¸€ä»½è™šæ‹Ÿç¯å¢ƒ</p>
</li>
<li><p>ä»githubä¸Šä¸‹è½½æºç  </p>
<p><code>git clone https://github.com/apache/incubator-superset.git</code></p>
</li>
<li><p>å®‰è£… nodejsï¼ˆè¿™ä¸€æ­¥ä¸éœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼‰ï¼Œä¸‹è½½åœ°å€ä¸º <span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvdjEyLjQuMC9ub2RlLXYxMi40LjAteDY0Lm1zaQ==">https://nodejs.org/dist/v12.4.0/node-v12.4.0-x64.msi<i class="fa fa-external-link-alt"></i></span></p>
<p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸï¼š<code>node -v</code>  <code>npm -v</code></p>
</li>
<li><p>ï¼ˆè¿™ä¸€æ­¥ä¸ç¡®å®šä»€ä¹ˆç”¨ï¼‰åˆ¶ä½œè½¯è¿æ¥ï¼ˆå› ä¸ºä¸‹è½½ä¸‹æ¥çš„æºä»£ç æ˜¯superset\static\assetsè¿™ä¸ªè½¯è¿æ¥å¯ä»¥åœ¨linuxæˆ–è€…Macä¸Šæ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯åœ¨windowsä¸‹ä¸èƒ½æ­£å¸¸å·¥ä½œï¼‰</p>
<p>åˆ é™¤G:\pyProduct\incubator-superset\superset\static\assetsæ–‡ä»¶<br>è¾“å…¥ä»£ç (æ ¹æ®ä½ ä¸‹è½½ä»£ç çš„è·¯å¾„è€Œå®š) </p>
<figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">mklink /D &quot;D:<span class="symbol">\i</span>ncubator-superset<span class="symbol">\s</span>uperset<span class="symbol">\s</span>tatic<span class="symbol">\a</span>ssets&quot; &quot;D:<span class="symbol">\i</span>ncubator-superset<span class="symbol">\s</span>uperset</span><br><span class="line">éœ€è¦ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œ</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…ã€‚è¿›å…¥ä¸‹è½½å¥½çš„æºç ç›®å½• <code>incubator-superset</code> ä¸­</p>
<p><code>pip install -e .</code></p>
<p>(æ–°ç‰ˆçš„supersetæœ€å¤–å±‚ç›®å½•ä¸‹å·²ç»æ²¡æœ‰requirement.txtäº†ï¼Œç›´æ¥å®‰è£…å°±å¯ä»¥)</p>
<p>è¿™ä¸€æ­¥å‡ºç°çš„æ— æ³•ç”Ÿæˆwheelæ–‡ä»¶é—®é¢˜è§£å†³åŒä¸Š</p>
</li>
<li><p>åˆ›å»ºç”¨æˆ·ã€åˆå§‹åŒ–æ•°æ®åº“ã€ç”¨æˆ·æƒé™æ­¥éª¤ç±»ä¼¼</p>
</li>
<li><p>ç¼–è¯‘å‰ç«¯æ–‡ä»¶ï¼Œè¿›å…¥superset-fronted ç›®å½•ï¼Œ<code>npm install -d</code></p>
<p>æŠ¥é”™ï¼š</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ERROR </span>in ./src/visualizations/TimeTable/TimeTable.jsx 101:10</span><br><span class="line">Module parse failed: Unexpected token (101:10)</span><br><span class="line">You may need an appropriate loader to handle this file type, currently no loader</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure>
<p>è§£å†³ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9zdXBlcnNldC9pc3N1ZXMvMTA5OTc=">https://github.com/apache/superset/issues/10997<i class="fa fa-external-link-alt"></i></span></p>
<p>ä¿®æ”¹ç›®å½•ä¸‹ webpack.config.js æ–‡ä»¶ï¼š</p>
<img data-src="../images/Superset%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/106452635-2493d300-64c3-11eb-9e7c-69c6d03bf426.png" alt="img" style="zoom:67%;" />

<p>æˆåŠŸï¼</p>
</li>
<li><p>è¿›å…¥å‰ç«¯å¼€å‘è€…æ¨¡å¼ <code>npm run dev</code></p>
</li>
<li><p>ç›®å½•å¯¼å…¥pycharmï¼Œé…ç½®å¥½ç¼–è¯‘å™¨å°±å¯ä»¥è¿›è¡Œå¼€å‘äº†</p>
</li>
</ul>
<h2 id="æœ€ç»ˆç‰ˆè§£å†³æ–¹æ¡ˆ"><a href="#æœ€ç»ˆç‰ˆè§£å†³æ–¹æ¡ˆ" class="headerlink" title="æœ€ç»ˆç‰ˆè§£å†³æ–¹æ¡ˆ"></a>æœ€ç»ˆç‰ˆè§£å†³æ–¹æ¡ˆ</h2><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><p>pythonï¼š3.7</p>
<p>supersetï¼šæºç å®‰è£…æœ€æ–°ç‰ˆ1.1.0</p>
<h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><p>windowså’Œmacç³»ç»Ÿäº²æµ‹æœ‰æ•ˆ</p>
<h4 id="pipæ–¹å¼å¿«é€Ÿå®‰è£…-1"><a href="#pipæ–¹å¼å¿«é€Ÿå®‰è£…-1" class="headerlink" title="pipæ–¹å¼å¿«é€Ÿå®‰è£…"></a>pipæ–¹å¼å¿«é€Ÿå®‰è£…</h4><ul>
<li><p>æ–°å»ºcondaè™šæ‹Ÿç¯å¢ƒï¼ˆä¸»è¦ä¸ºäº†é™ä½è¯•é”™æˆæœ¬ï¼Œä¸å½±å“å…¶ä»–ç¯å¢ƒï¼‰</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">conda</span> create -n superset(ç¯å¢ƒå) python=<span class="number">3</span>.<span class="number">7</span></span><br><span class="line"><span class="attribute">conda</span> activate superset</span><br></pre></td></tr></table></figure></li>
<li><p>è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œå®‰è£…superset</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">pip install apache-superset -i https:<span class="regexp">//</span>pypi.mirrors.ustc.edu.cn<span class="regexp">/simple/</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼š</p>
<ul>
<li><p>æç¤ºéœ€è¦Vitual c++ 14.0ä»¥ä¸Šç‰ˆæœ¬ï¼Œä¸ªåˆ«ä¾èµ–åº“ç¼–è¯‘å¤±è´¥ï¼Œæ— æ³•ç”Ÿæˆwheelï¼š</p>
<p>è§£å†³ï¼šç›´æ¥ä¸‹è½½wheelï¼Œpip install wheelæ–‡ä»¶å®‰è£…æˆåŠŸåï¼Œé‡æ–°æ‰§è¡Œ</p>
</li>
</ul>
</li>
<li><p>å®‰è£…æˆåŠŸåé…ç½®</p>
<p>è¿™ä¸€æ­¥ä¹‹åå¾ˆå¤šåšå®¢è¦æ±‚è¿›å…¥superset/binç›®å½•ä¸‹æ‰§è¡Œpython superset â€¦â€¦å‘½ä»¤ï¼Œå¯èƒ½ç”±äºç‰ˆæœ¬é—®é¢˜ï¼Œå¹¶ä¸é€‚ç”¨ã€‚ä¹‹åæ­¥éª¤ä»¥æ­¤ä¸ºå‡†ï¼š</p>
<figure class="highlight dsconfig"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–æ•°æ®åº“</span></span><br><span class="line"><span class="string">superset</span> <span class="string">db</span> <span class="string">upgrade</span></span><br><span class="line"><span class="string"></span><span class="comment"># åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·</span></span><br><span class="line"><span class="string">superset</span> <span class="string">fab</span> <span class="built_in">create-admin</span></span><br><span class="line"><span class="built_in">(fabmanager</span> <span class="built_in">create-admin</span> <span class="built_in">--app</span> <span class="string">superset</span> å‘½ä»¤ä¼šå‡ºç°<span class="string">nontype</span> <span class="string">&quot;au_then&quot;</span>?ï¼ˆè®°ä¸æ¸…äº†ï¼‰æŠ¥é”™)</span><br><span class="line"><span class="comment"># åˆå§‹åŒ–è§’è‰²å’Œæƒé™</span></span><br><span class="line"><span class="string">superset</span> <span class="string">init</span></span><br></pre></td></tr></table></figure>
<h4 id="äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…-1"><a href="#äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…-1" class="headerlink" title="äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…"></a>äºŒæ¬¡å¼€å‘ç¯å¢ƒå®‰è£…</h4></li>
</ul>
<p>pipå®‰è£…ä»…é€‚åˆä½¿ç”¨ï¼Œä¸é€‚åˆäºŒæ¬¡å¼€å‘ã€‚äºŒæ¬¡å¼€å‘éœ€è¦æºç ä¸‹è½½</p>
<ul>
<li><p>å¦å¤–æ–°å»ºä¸€ä»½è™šæ‹Ÿç¯å¢ƒ</p>
</li>
<li><p>ä»githubä¸Šä¸‹è½½æºç  </p>
<p><code>git clone https://github.com/apache/incubator-superset.git</code></p>
</li>
<li><p>å®‰è£… nodejsï¼ˆè¿™ä¸€æ­¥ä¸éœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼‰ï¼Œä¸‹è½½åœ°å€ä¸º <span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvdjEyLjQuMC9ub2RlLXYxMi40LjAteDY0Lm1zaQ==">https://nodejs.org/dist/v12.4.0/node-v12.4.0-x64.msi<i class="fa fa-external-link-alt"></i></span></p>
<p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸï¼š<code>node -v</code>  <code>npm -v</code></p>
</li>
<li><p>ï¼ˆè¿™ä¸€æ­¥ä¸ç¡®å®šä»€ä¹ˆç”¨ï¼Œmac ä¸éœ€è¦ï¼‰åˆ¶ä½œè½¯è¿æ¥ï¼ˆå› ä¸ºä¸‹è½½ä¸‹æ¥çš„æºä»£ç æ˜¯superset\static\assetsè¿™ä¸ªè½¯è¿æ¥å¯ä»¥åœ¨linuxæˆ–è€…Macä¸Šæ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯åœ¨windowsä¸‹ä¸èƒ½æ­£å¸¸å·¥ä½œï¼‰</p>
<p>åˆ é™¤G:\pyProduct\incubator-superset\superset\static\assetsæ–‡ä»¶ è¾“å…¥ä»£ç (æ ¹æ®ä½ ä¸‹è½½ä»£ç çš„è·¯å¾„è€Œå®š) </p>
<figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">mklink /D &quot;D:<span class="symbol">\i</span>ncubator-superset<span class="symbol">\s</span>uperset<span class="symbol">\s</span>tatic<span class="symbol">\a</span>ssets&quot; &quot;D:<span class="symbol">\i</span>ncubator-superset<span class="symbol">\s</span>uperset</span><br><span class="line">éœ€è¦ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œ</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…ã€‚è¿›å…¥ä¸‹è½½å¥½çš„å‰ç«¯ç›®å½• <code>incubator-superset</code> ä¸­</p>
<p><code>pip install -e .</code></p>
<p>(æ–°ç‰ˆçš„supersetæœ€å¤–å±‚ç›®å½•ä¸‹å·²ç»æ²¡æœ‰requirement.txtäº†ï¼Œç›´æ¥å®‰è£…å°±å¯ä»¥)</p>
<p>è¿™ä¸€æ­¥å‡ºç°çš„æ— æ³•ç”Ÿæˆwheelæ–‡ä»¶é—®é¢˜è§£å†³åŒä¸Š</p>
</li>
<li><p>åˆ›å»ºç”¨æˆ·ã€åˆå§‹åŒ–æ•°æ®åº“ã€ç”¨æˆ·æƒé™æ­¥éª¤ç±»ä¼¼</p>
</li>
<li><p>ç¼–è¯‘å‰ç«¯æ–‡ä»¶ï¼Œè¿›å…¥superset-fronted ç›®å½•ï¼Œ<code>npm install -d</code></p>
<p>æŠ¥é”™ï¼š</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ERROR </span>in ./src/visualizations/TimeTable/TimeTable.jsx 101:10</span><br><span class="line">Module parse failed: Unexpected token (101:10)</span><br><span class="line">You may need an appropriate loader to handle this file type, currently no loader</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure>
<p>è§£å†³ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9zdXBlcnNldC9pc3N1ZXMvMTA5OTc=">https://github.com/apache/superset/issues/10997<i class="fa fa-external-link-alt"></i></span></p>
<p>ä¿®æ”¹ç›®å½•ä¸‹ webpack.config.js æ–‡ä»¶ï¼š</p>
<p><img data-src="file:///Users/joy/MYBLOG/yinjiangyi.github.io/hexo/source/images/Superset%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/106452635-2493d300-64c3-11eb-9e7c-69c6d03bf426.png?lastModify=1626061918" alt="img"></p>
<p>æˆåŠŸï¼</p>
</li>
<li><p>è¿›å…¥å‰ç«¯å¼€å‘è€…æ¨¡å¼ <code>npm run dev</code></p>
</li>
<li><p>ç›®å½•å¯¼å…¥pycharmï¼Œé…ç½®å¥½ç¼–è¯‘å™¨å°±å¯ä»¥è¿›è¡Œå¼€å‘äº†</p>
</li>
</ul>
<h4 id="æ— ç½‘ç»œç¯å¢ƒä¸‹åŸºäºdockerå®‰è£…å’ŒDashboardè¿ç§»"><a href="#æ— ç½‘ç»œç¯å¢ƒä¸‹åŸºäºdockerå®‰è£…å’ŒDashboardè¿ç§»" class="headerlink" title="æ— ç½‘ç»œç¯å¢ƒä¸‹åŸºäºdockerå®‰è£…å’ŒDashboardè¿ç§»"></a>æ— ç½‘ç»œç¯å¢ƒä¸‹åŸºäºdockerå®‰è£…å’ŒDashboardè¿ç§»</h4><p>xjç¯å¢ƒsupersetå®‰è£…</p>
<p><strong>1ï¼‰æå‰ä¸‹è½½æºç å’Œdockeré•œåƒ</strong></p>
<p>æºç ç›´æ¥åœ¨githubä¸‹è½½</p>
<p>éœ€è¦æå‰ä¸‹è½½çš„é•œåƒï¼šapache/superset, redis, node, postå’Œpostgress</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"># åœ¨æœ‰ç½‘ç»œçš„æœºå™¨ä¸Šè¿›è¡Œé•œåƒæ‹‰å–</span><br><span class="line"><span class="selector-tag">docker</span> <span class="selector-tag">pull</span> <span class="selector-tag">xxx</span>(é•œåƒå)</span><br><span class="line"><span class="selector-tag">docker</span> <span class="selector-tag">save</span> <span class="selector-tag">-o</span> <span class="selector-tag">xxx</span><span class="selector-class">.tar</span>(è¦ä¿å­˜çš„å‹ç¼©åŒ…å) <span class="selector-tag">xxx</span>(é•œåƒå)</span><br></pre></td></tr></table></figure>
<p><strong>2ï¼‰åœ¨ç›®æ ‡æœºå™¨ä¸Šå®‰è£…</strong></p>
<figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta"># å°†å‹ç¼©åŒ…æ‹·è´åˆ°ç›®æ ‡æœºå™¨ä¸Š</span></span><br><span class="line">docker load -i xxx.tar(å‹ç¼©åŒ…å)</span><br><span class="line"><span class="meta"># åœ¨ç›®æ ‡æœºå™¨ä¸Šçš„æºç ç›®å½•ä¸‹è¿è¡Œï¼Œç­‰å¾…å®¹å™¨åˆ›å»ºå’Œè¿è¡Œ</span></span><br><span class="line">docker-compose up</span><br><span class="line">æˆ– docker-compose -f docker-compose.yml up</span><br></pre></td></tr></table></figure>




<h3 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h3><ul>
<li><p>å®‰è£…client_driveræ—¶æŠ¥é”™ OSError: mysql_config not found</p>
<p>è§£å†³ï¼š<span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjU0NTkzODYvbWFjLW9zLXgtZW52aXJvbm1lbnRlcnJvci1teXNxbC1jb25maWctbm90LWZvdW5k">https://stackoverflow.com/questions/25459386/mac-os-x-environmenterror-mysql-config-not-found<i class="fa fa-external-link-alt"></i></span></p>
<blockquote>
<p>Ok, well, first of all, let me check if I am on the same page as you:</p>
<ul>
<li>You installed python</li>
<li>You did <code>brew install mysql</code></li>
<li>You did <code>export PATH=$PATH:/usr/local/mysql/bin</code></li>
<li>And finally, you did <code>pip install MySQL-Python</code> (or <code>pip3 install mysqlclient</code> if using python 3)</li>
</ul>
</blockquote>
</li>
<li><p>pip æ–¹å¼å®‰è£…å¥½ä¹‹åï¼Œclickhouseè¿æ¥æ€»æ˜¯å‡ºé—®é¢˜ï¼š</p>
<ul>
<li>æŒ‰ç…§å®˜ç½‘è¦æ±‚å®‰è£…sqlalchemy-clickhouseåï¼Œtestè¿æ¥æ˜¯å‡ºç° Error: Unexpected error occured</li>
<li>ç„¶åå‘ç°å®‰è£…clickhouse-sqlalchemyä¹‹åå¯ä»¥è§£å†³è¿æ¥é—®é¢˜ï¼Œä½†æ˜¯æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®æ²¡æœ‰è¡¨å¤´</li>
</ul>
<p>ç»ˆäºåœ¨<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9zdXBlcnNldC9pc3N1ZXMvOTcxOSVFNiU4OSVCRSVFNSU4OCVCMCVFOCVBNyVBMyVFNSU4NiVCMyVFNSU4QSU5RSVFNiVCMyU5NSVFRiVCQyU5QQ==">https://github.com/apache/superset/issues/9719æ‰¾åˆ°è§£å†³åŠæ³•ï¼š<i class="fa fa-external-link-alt"></i></span></p>
<p>è¿™ä½æœ‹å‹å’Œæˆ‘çš„æƒ…å†µä¹Ÿä¸€æ ·</p>
<p><img data-src="file:///Users/joy/MYBLOG/yinjiangyi.github.io/hexo/source/images/Superset%E4%B8%8A%E6%89%8B%E8%AE%B0%E5%BD%95/image-20210415104252896.png?lastModify=1626061918" alt="image-20210415104252896"></p>
<p>è§£å†³ï¼š</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">pip</span> uninstall infi.clickhouse_orm</span><br><span class="line"><span class="attribute">pip</span> install infi.clickhouse_orm==<span class="number">1</span>.<span class="number">0</span>.<span class="number">4</span></span><br></pre></td></tr></table></figure></li>
<li><p>å¦‚æœå‡ºç°pip install å®‰è£…è¿‡ç¨‹ä¸­build wheelå¤±è´¥ï¼Œç›´æ¥ä¸‹è½½å¯¹åº”åº“çš„wheelåŒ…è¿›è¡Œå•ç‹¬pip install å³å¯ã€‚</p>
</li>
</ul>
<h1 id="2-æ€§èƒ½ä¼˜åŒ–"><a href="#2-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="2. æ€§èƒ½ä¼˜åŒ–"></a>2. æ€§èƒ½ä¼˜åŒ–</h1><h3 id="Cachingé…ç½®"><a href="#Cachingé…ç½®" class="headerlink" title="Cachingé…ç½®"></a>Cachingé…ç½®</h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<span class="exturl" data-url="aHR0cHM6Ly9zdXBlcnNldC5hcGFjaGUub3JnL2RvY3MvaW5zdGFsbGF0aW9uL2NhY2hl">https://superset.apache.org/docs/installation/cache<i class="fa fa-external-link-alt"></i></span></p>
<p>å‚è€ƒï¼š<span class="exturl" data-url="aHR0cHM6Ly95b3JrZS5naXRib29rcy5pby9zdXBlcnNldC1ub3RlL2NvbnRlbnQvY2hhcHRlcjEuaHRtbA==">https://yorke.gitbooks.io/superset-note/content/chapter1.html<i class="fa fa-external-link-alt"></i></span></p>
<h4 id="ä½¿ç”¨-Redis-åš-Superset-çš„ç¼“å­˜"><a href="#ä½¿ç”¨-Redis-åš-Superset-çš„ç¼“å­˜" class="headerlink" title="ä½¿ç”¨ Redis åš Superset çš„ç¼“å­˜"></a>ä½¿ç”¨ Redis åš Superset çš„ç¼“å­˜</h4><p>é…ç½® Superset çš„ç¼“å­˜åç«¯ï¼Œåªéœ€åœ¨å…¶é…ç½®æ–‡ä»¶ä¸­æä¾›ä¸€ä¸ª <code>CACHE_CONFIG</code> å¸¸é‡å³å¯ã€‚</p>
<p>è€Œå¯¹äº Redisï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªè¿è¡Œä¸€ä¸ª Redis æœåŠ¡ï¼Œä»¥åŠå®‰è£…ä¸€ä¸ª redis-py åº“ï¼ˆRedis çš„ Python æ¥å£ï¼‰ã€‚</p>
<h5 id="å®‰è£…-Redis"><a href="#å®‰è£…-Redis" class="headerlink" title="å®‰è£… Redis"></a>å®‰è£… Redis</h5><p>å½“å‰ Redis æœ€æ–°ç‰ˆä¸º 3.2.8ï¼Œåœ¨ <code>/opt/</code> ç›®å½•ä¸‹å®‰è£…å¹¶å¯åŠ¨ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd <span class="regexp">/opt/</span></span><br><span class="line">wget http:<span class="regexp">//</span>download.redis.io<span class="regexp">/releases/</span>redis-<span class="number">3.2</span>.<span class="number">8</span>.tar.gz</span><br><span class="line">tar xzvf redis-<span class="number">3.2</span>.<span class="number">8</span>.tar.gz</span><br><span class="line">cd redis-<span class="number">3.2</span>.<span class="number">8</span>/</span><br><span class="line">make</span><br><span class="line">cd src/</span><br><span class="line">./redis-server</span><br></pre></td></tr></table></figure>
<p>makeæ—¶æŠ¥é”™ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">server.c: åœ¨å‡½æ•°â€˜hasActiveChildProcessâ€™ä¸­:</span><br><span class="line">server.c:1476:1: è­¦å‘Šï¼šåœ¨æœ‰è¿”å›å€¼çš„å‡½æ•°ä¸­ï¼Œæ§åˆ¶æµç¨‹åˆ°è¾¾å‡½æ•°å°¾ [-Wreturn-type]</span><br><span class="line"> &#125;</span><br><span class="line"> ^</span><br><span class="line">server.c: åœ¨å‡½æ•°â€˜allPersistenceDisabledâ€™ä¸­:</span><br><span class="line">server.c:1482:1: è­¦å‘Šï¼šåœ¨æœ‰è¿”å›å€¼çš„å‡½æ•°ä¸­ï¼Œæ§åˆ¶æµç¨‹åˆ°è¾¾å‡½æ•°å°¾ [-Wreturn-type]</span><br><span class="line"> &#125;</span><br><span class="line"> ^</span><br><span class="line">server.c: åœ¨å‡½æ•°â€˜writeCommandsDeniedByDiskErrorâ€™ä¸­:</span><br><span class="line">server.c:3747:1: è­¦å‘Šï¼šåœ¨æœ‰è¿”å›å€¼çš„å‡½æ•°ä¸­ï¼Œæ§åˆ¶æµç¨‹åˆ°è¾¾å‡½æ•°å°¾ [-Wreturn-type]</span><br><span class="line"> &#125;</span><br><span class="line"> ^</span><br><span class="line">server.c: åœ¨å‡½æ•°â€˜iAmMasterâ€™ä¸­:</span><br><span class="line">server.c:4914:1: è­¦å‘Šï¼šåœ¨æœ‰è¿”å›å€¼çš„å‡½æ•°ä¸­ï¼Œæ§åˆ¶æµç¨‹åˆ°è¾¾å‡½æ•°å°¾ [-Wreturn-type]</span><br><span class="line"> &#125;</span><br><span class="line"> ^</span><br><span class="line">make[1]: *** [server.o] é”™è¯¯ 1</span><br><span class="line">make[1]: ç¦»å¼€ç›®å½•â€œ/opt/redis/redis-6.0.0/srcâ€</span><br><span class="line">make: *** [all] é”™è¯¯ 2</span><br></pre></td></tr></table></figure>
<p> è§£å†³ï¼š <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTYyNzAzMS9hcnRpY2xlL2RldGFpbHMvMTA3MTY2ODY3P3V0bV9tZWRpdW09ZGlzdHJpYnV0ZS5wY19yZWxldmFudC5ub25lLXRhc2stYmxvZy1iYWlkdWpzX3RpdGxlLTAmYW1wO3NwbT0xMDAxLjIxMDEuMzAwMS40MjQy">https://blog.csdn.net/weixin_45627031/article/details/107166867?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&amp;spm=1001.2101.3001.4242<i class="fa fa-external-link-alt"></i></span></p>
<p>å‡çº§gccç‰ˆæœ¬ï¼š</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop01</span> redis<span class="number">-6.0</span><span class="number">.5</span>]<span class="meta"># gcc -v                             # æŸ¥çœ‹gccç‰ˆæœ¬</span></span><br><span class="line">[root<span class="symbol">@hadoop01</span> redis<span class="number">-6.0</span><span class="number">.5</span>]<span class="meta"># yum -y install centos-release-scl  # å‡çº§åˆ°9.1ç‰ˆæœ¬</span></span><br><span class="line">[root<span class="symbol">@hadoop01</span> redis<span class="number">-6.0</span><span class="number">.5</span>]<span class="meta"># yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils</span></span><br><span class="line">[root<span class="symbol">@hadoop01</span> redis<span class="number">-6.0</span><span class="number">.5</span>]<span class="meta"># scl enable devtoolset-9 bash</span></span><br><span class="line">ä»¥ä¸Šä¸ºä¸´æ—¶å¯ç”¨ï¼Œå¦‚æœè¦é•¿æœŸä½¿ç”¨gcc <span class="number">9.1</span>çš„è¯ï¼š</span><br><span class="line">[root<span class="symbol">@hadoop01</span> redis<span class="number">-6.0</span><span class="number">.5</span>]<span class="meta"># echo <span class="string">&quot;source /opt/rh/devtoolset-9/enable&quot;</span> &gt;&gt;/etc/profile</span></span><br></pre></td></tr></table></figure>
<h5 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h5><figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line">(superset) <span class="string">[root@bigdata-12 redis-6.0.0]</span># redis-cli</span><br><span class="line"><span class="number">127.0.0.1:6379</span>&gt;</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨æˆåŠŸï¼ŒæŸ¥çœ‹è¿›ç¨‹</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">(superset) [root@bigdata-<span class="number">12</span> redis-<span class="number">6.0</span>.<span class="number">0</span>]<span class="comment"># ps -ef | grep redis</span></span><br><span class="line">root     <span class="number">17215</span> <span class="number">11601</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">14</span> pts<span class="regexp">/5    00:00:00 ./</span>src/redis-server *:<span class="number">6379</span> [cluster]</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸»æœºå·åº”è¯¥æ˜¯*è€Œä¸æ˜¯127.0.0.1ï¼Œå¦åˆ™å¤–éƒ¨æœºå™¨æ— æ³•è¿æ¥redisæœåŠ¡ã€‚</p>
<p>å¦‚æœä¸º127.0.0.1ï¼Œä¿®æ”¹redis.confæ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">1&gt;</span><span class="bash">æ³¨é‡Šæ‰<span class="built_in">bind</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">bind</span> 127.0.0.1</span></span><br><span class="line"><span class="meta">2&gt;</span><span class="bash">é»˜è®¤ä¸æ˜¯å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè¿™é‡Œå¯ä»¥ä¿®æ”¹</span></span><br><span class="line">daemonize no</span><br><span class="line"><span class="meta">3&gt;</span><span class="bash">ç¦ç”¨ä¿æŠ¤æ¨¡å¼</span></span><br><span class="line">protected-mode no</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨Redisæ—¶æŒ‡æ˜é…ç½®æ–‡ä»¶</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">redis</span></span>-server ../redis.conf</span><br></pre></td></tr></table></figure>
<h5 id="å®‰è£…-redis-py"><a href="#å®‰è£…-redis-py" class="headerlink" title="å®‰è£… redis-py"></a>å®‰è£… redis-py</h5><p>åœ¨ Superset æ‰€åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£… redis-pyï¼š</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> redis</span><br></pre></td></tr></table></figure>
<h5 id="é…ç½®ä½¿ç”¨-Redis-åšç¼“å­˜"><a href="#é…ç½®ä½¿ç”¨-Redis-åšç¼“å­˜" class="headerlink" title="é…ç½®ä½¿ç”¨ Redis åšç¼“å­˜"></a>é…ç½®ä½¿ç”¨ Redis åšç¼“å­˜</h5><p>åœ¨ Superset çš„ config.py ä¸­ï¼Œåšå¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">...</span><br><span class="line">CACHE_DEFAULT_TIMEOUT = <span class="number">500</span> <span class="comment"># é»˜è®¤è¶…æ—¶æ—¶é—´</span></span><br><span class="line">CACHE_CONFIG = &#123;</span><br><span class="line">    <span class="string">&#x27;CACHE_TYPE&#x27;</span>: <span class="string">&#x27;redis&#x27;</span>, <span class="comment"># ä½¿ç”¨ Redis</span></span><br><span class="line">    <span class="string">&#x27;CACHE_REDIS_HOST&#x27;</span>: <span class="string">&#x27;localhost&#x27;</span>, <span class="comment"># é…ç½®åŸŸå</span></span><br><span class="line">    <span class="string">&#x27;CACHE_REDIS_PORT&#x27;</span>: <span class="number">6379</span>, <span class="comment"># é…ç½®ç«¯å£å·</span></span><br><span class="line">    <span class="string">&#x27;CACHE_REDIS_URL&#x27;</span>: <span class="string">&#x27;redis://localhost:6379&#x27;</span> <span class="comment"># é…ç½® URL</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡æ–°å¯åŠ¨ Superset</p>
<p>æ‰“å¼€ä»»æ„ Dashboardï¼Œè§‚å¯Ÿåå°æ‰“å°æƒ…å†µ</p>
<p>é…ç½®æˆåŠŸï¼</p>
<h5 id="å…¶ä»–é—®é¢˜-1"><a href="#å…¶ä»–é—®é¢˜-1" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h5>]]></content>
      <categories>
        <category>ç¯å¢ƒéƒ¨ç½²</category>
      </categories>
      <tags>
        <tag>superset</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitä»‹ç»åŠå¸¸ç”¨æ“ä½œ</title>
    <url>/2021/05/17/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/</url>
    <content><![CDATA[<p>Git æ˜¯ç”¨äº <span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9MaW51eCVFNSU4NiU4NSVFNiVBMCVCOC8xMDE0MjgyMA==">Linuxå†…æ ¸<i class="fa fa-external-link-alt"></i></span>å¼€å‘çš„<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTclODklODglRTYlOUMlQUMlRTYlOEUlQTclRTUlODglQjY=">ç‰ˆæœ¬æ§åˆ¶<i class="fa fa-external-link-alt"></i></span>å·¥å…·ã€‚ä¸å¸¸ç”¨çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…· CVS, Subversion ç­‰ä¸åŒï¼Œå®ƒé‡‡ç”¨äº†åˆ†å¸ƒå¼ç‰ˆæœ¬åº“çš„æ–¹å¼ï¼Œä¸å¿…æœåŠ¡å™¨ç«¯è½¯ä»¶æ”¯æŒï¼ˆwingeddevilæ³¨ï¼šè¿™å¾—åˆ†æ˜¯ç”¨ä»€ä¹ˆæ ·çš„æœåŠ¡ç«¯ï¼Œä½¿ç”¨httpåè®®æˆ–è€…gitåè®®ç­‰ä¸å¤ªä¸€æ ·ã€‚å¹¶ä¸”åœ¨pushå’Œpullçš„æ—¶å€™å’ŒæœåŠ¡å™¨ç«¯è¿˜æ˜¯æœ‰äº¤äº’çš„ã€‚ï¼‰ï¼Œä½¿<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTYlQkElOTAlRTQlQkIlQTMlRTclQTAlODE=">æºä»£ç <i class="fa fa-external-link-alt"></i></span>çš„å‘å¸ƒå’Œäº¤æµæå…¶æ–¹ä¾¿ã€‚ Git çš„é€Ÿåº¦å¾ˆå¿«ï¼Œè¿™å¯¹äºè¯¸å¦‚ Linux kernel è¿™æ ·çš„å¤§é¡¹ç›®æ¥è¯´è‡ªç„¶å¾ˆé‡è¦ã€‚ Git æœ€ä¸ºå‡ºè‰²çš„æ˜¯å®ƒçš„åˆå¹¶è·Ÿè¸ªï¼ˆmerge tracingï¼‰èƒ½åŠ›ã€‚</p>
<a id="more"></a>

<h1 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1 ç®€ä»‹"></a>1 ç®€ä»‹</h1><h3 id="GITæ˜¯ä»€ä¹ˆ"><a href="#GITæ˜¯ä»€ä¹ˆ" class="headerlink" title="GITæ˜¯ä»€ä¹ˆ"></a>GITæ˜¯ä»€ä¹ˆ</h3><p>gitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p>
<p>æ¥ä¸‹æ¥ç”¨é€šä¿—è¯­è¨€ç¿»è¯‘ä¸‹ä¸€ä¸‹<strong>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</strong>æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ã€‚</p>
<p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå½“ä½ ç”¨wordç¼–è¾‘ä¸€ä¸ªé‡è¦çš„é•¿æ–‡æ¡£æ—¶ï¼Œä¼šé‡è§ä¸¤ç§è®©äººå¤´ç–¼çš„æƒ…å†µï¼š</p>
<p>ç¬¬ä¸€ä¸ªæ˜¯æ–‡ä»¶ç»è¿‡å¤šç‰ˆæœ¬ä¿®æ”¹ï¼Œä¸ºäº†å¤‡ä»½ç¼–è¾‘çš„ç‰ˆæœ¬æ•°æ®ï¼Œç»å¸¸éœ€è¦æå‰å¤åˆ¶ä¸€ä»½ï¼Œæ—¶é—´ä¹…äº†ï¼Œå¤‡ä»½æ–‡ä»¶çš„åç§°å·²ç»æ— æ³•è®©ä½ æ¸…æ™°çš„å›å¿†èµ·å…·ä½“çš„å“ªä¸€ç‰ˆæ–‡ä»¶åšäº†ä»€ä¹ˆæ ·çš„æ”¹åŠ¨ã€‚</p>
<p>ç¬¬äºŒä¸ªæ˜¯ï¼Œå½“å­˜åœ¨éœ€è¦å¤šäººåä½œå¯¹åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œç¼–è¾‘çš„æ—¶å€™ï¼Œä¿®æ”¹å¤„çš„åˆå¹¶éå¸¸éº»çƒ¦ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç°åä¿®æ”¹çš„è¦†ç›–æ‰å‰é¢ä¿®æ”¹å†…å®¹çš„æƒ…å†µï¼Œæ¯”å¦‚ç¼–è¾‘confluenceæ—¶å°±ä¼šå‘ç”Ÿè¿™æ ·çš„é—®é¢˜ã€‚</p>
<p>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<p>è€Œåˆ†å¸ƒå¼ä½œä¸ºgitæœ€ä¸»è¦çš„ç‰¹å¾ï¼Œä½¿å®ƒç›¸è¾ƒäºå…¶ä»–é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¦‚svnç­‰å…·æœ‰æ›´æ˜æ˜¾çš„ä¼˜åŠ¿ï¼Œå› æ­¤gitæ˜¯ç›®å‰ä½¿ç”¨èŒƒå›´æœ€å¹¿çš„ç®¡ç†å·¥å…·ã€‚</p>
<h3 id="GITæ˜¯æ€ä¹ˆæ¥çš„"><a href="#GITæ˜¯æ€ä¹ˆæ¥çš„" class="headerlink" title="GITæ˜¯æ€ä¹ˆæ¥çš„"></a>GITæ˜¯æ€ä¹ˆæ¥çš„</h3><p>Linuxä¹‹çˆ¶Linusåˆ›å»ºäº†å¼€æºçš„linuxï¼Œlinuxä½œä¸ºå¼€æºé¡¹ç›®ï¼Œå®ƒçš„å£®å¤§å¾—ç›Šäºå…¨ä¸–ç•Œä»£ç è´¡çŒ®è€…çš„å‚ä¸ã€‚è¿™ä¹ˆå¤šäººå…±åŒå¼€å‘é¡¹ç›®æ—¶æ˜¯å¦‚ä½•åä½œçš„ï¼Ÿä¸€å¼€å§‹ï¼ˆ2002å¹´ä»¥å‰ï¼‰ï¼Œå¼€å‘è€…å°†æºä»£ç æ–‡ä»¶é€šè¿‡diffæ–¹å¼å‘é€ç»™linusï¼Œç”±linusæ‰‹åŠ¨åˆå¹¶åˆ°linuxä»£ç ä¸­ã€‚</p>
<p>åæ¥linusé€‰æ‹©äº†ä¸€ä¸ªå•†ä¸šç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸBitKeeperï¼ŒBitKeeperçš„ä¸œå®¶BitMoverå…¬å¸å‡ºäºäººé“ä¸»ä¹‰ç²¾ç¥ï¼Œæˆæƒlinuxç¤¾åŒºå…è´¹ä½¿ç”¨ã€‚ä½†æ˜¯05å¹´ï¼Œç¤¾åŒºçš„å¼€å‘è€…è¯•å›¾ç ´è§£BitKeeperåè®®è¢«BitMoverå…¬å¸å‘ç°äº†ï¼Œäºæ˜¯å…¬å¸è¦æ±‚æ”¶å›ç³»ç»Ÿçš„å…è´¹ä½¿ç”¨æƒã€‚ç„¶åLinusèŠ±äº†<strong>ä¸¤å‘¨æ—¶é—´</strong>ç”¨<strong>Cè¯­è¨€</strong>å¼€å‘äº†ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸGitï¼Œæ¥ä¸‹æ¥çš„ä¸€ä¸ªæœˆå†…ï¼ŒLinuxç³»ç»Ÿçš„ä»£ç å®Œå…¨ç”±Gitç®¡ç†äº†ã€‚</p>
<h3 id="Gitçš„å¼ºå¤§ä¹‹å¤„"><a href="#Gitçš„å¼ºå¤§ä¹‹å¤„" class="headerlink" title="Gitçš„å¼ºå¤§ä¹‹å¤„"></a>Gitçš„å¼ºå¤§ä¹‹å¤„</h3><p>Gitæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯<strong>åˆ†å¸ƒå¼</strong>ç®¡ç†ã€‚</p>
<p>CVSå’ŒSVNéƒ½æ˜¯é›†ä¸­å¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ç‰ˆæœ¬åº“æ˜¯é›†ä¸­å­˜æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œå¼€å‘è€…éœ€è¦å…ˆä»ä¸­å¤®æœåŠ¡å™¨å°†æ–‡ä»¶æ‹·è´å›æ¥ï¼Œç„¶åä¿®æ”¹ä¹‹åå†æŠŠæ–‡ä»¶æ¨é€ç»™ä¸­å¤®æœåŠ¡å™¨ã€‚æ‰€ä»¥å¿…é¡»è¦æ±‚æœ‰è”ç½‘ç¯å¢ƒï¼Œå¹¶ä¸”å¦‚æœå“ªå¤©ä¸­å¤®æœåŠ¡å™¨æŒ‚æ‰äº†ï¼Œæ–‡ä»¶å°±æ‰¾ä¸å›æ¥ï¼Œå®‰å…¨æ€§æ²¡æœ‰ä¿éšœã€‚</p>
<p>è€Œåˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿè™½ç„¶ä¹Ÿæœ‰ä¸€å°å……å½“ä¸­å¤®æœåŠ¡å™¨çš„ç”µè„‘ï¼Œä½†æ˜¯ä»–çš„ä½œç”¨å…¶å®æ˜¯ä¸ºäº†æ–¹ä¾¿å¤§å®¶äº¤æ¢ä¿®æ”¹çš„å†…å®¹ï¼ˆå› ä¸ºä¸æ˜¯æ‰€æœ‰ç»ˆç«¯éƒ½åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼‰ã€‚æ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œè®°å½•æ‰€æœ‰ç‰ˆæœ¬çš„æ”¹åŠ¨æƒ…å†µï¼Œå·¥ä½œæ—¶ä¸éœ€è¦è”ç½‘ç¯å¢ƒã€‚</p>
<h1 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2 å®‰è£…"></a>2 å®‰è£…</h1><p>æœ€æ—©Gitæ˜¯åœ¨Linuxä¸Šå¼€å‘çš„ï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ï¼ŒGitä¹Ÿåªèƒ½åœ¨Linuxå’ŒUnixç³»ç»Ÿä¸Šè·‘ã€‚ä¸è¿‡ï¼Œæ…¢æ…¢åœ°æœ‰äººæŠŠå®ƒç§»æ¤åˆ°äº†Windowsä¸Šã€‚ç°åœ¨ï¼ŒGitå¯ä»¥åœ¨Linuxã€Unixã€Macå’ŒWindowsè¿™å‡ å¤§å¹³å°ä¸Šæ­£å¸¸è¿è¡Œäº†ã€‚</p>
<p>è¦ä½¿ç”¨Gitï¼Œç¬¬ä¸€æ­¥å½“ç„¶æ˜¯å®‰è£…Gitäº†ã€‚æ ¹æ®ä½ å½“å‰ä½¿ç”¨çš„å¹³å°æ¥é˜…è¯»ä¸‹é¢çš„æ–‡å­—ï¼š</p>
<h3 id="åœ¨Linuxä¸Šå®‰è£…Git"><a href="#åœ¨Linuxä¸Šå®‰è£…Git" class="headerlink" title="åœ¨Linuxä¸Šå®‰è£…Git"></a>åœ¨Linuxä¸Šå®‰è£…Git</h3><p>é¦–å…ˆï¼Œä½ å¯ä»¥è¯•ç€è¾“å…¥<code>git</code>ï¼Œçœ‹çœ‹ç³»ç»Ÿæœ‰æ²¡æœ‰å®‰è£…Gitï¼š</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">$ git</span><br><span class="line">The program &#x27;git&#x27; <span class="keyword">is</span> currently <span class="keyword">not</span> installed. You can install <span class="keyword">it</span> <span class="keyword">by</span> typing:</span><br><span class="line">sudo apt-<span class="keyword">get</span> install git</span><br></pre></td></tr></table></figure>
<p>åƒä¸Šé¢çš„å‘½ä»¤ï¼Œæœ‰å¾ˆå¤šLinuxä¼šå‹å¥½åœ°å‘Šè¯‰ä½ Gitæ²¡æœ‰å®‰è£…ï¼Œè¿˜ä¼šå‘Šè¯‰ä½ å¦‚ä½•å®‰è£…Gitã€‚</p>
<p>å¦‚æœä½ ç¢°å·§ç”¨Debianæˆ–Ubuntu Linuxï¼Œé€šè¿‡ä¸€æ¡<code>sudo apt-get install git</code>å°±å¯ä»¥ç›´æ¥å®ŒæˆGitçš„å®‰è£…ï¼Œéå¸¸ç®€å•ã€‚</p>
<p>è€ä¸€ç‚¹çš„Debianæˆ–Ubuntu Linuxï¼Œè¦æŠŠå‘½ä»¤æ”¹ä¸º<code>sudo apt-get install git-core</code>ï¼Œå› ä¸ºä»¥å‰æœ‰ä¸ªè½¯ä»¶ä¹Ÿå«GITï¼ˆGNU Interactive Toolsï¼‰ï¼Œç»“æœGitå°±åªèƒ½å«<code>git-core</code>äº†ã€‚ç”±äºGitåæ°”å®åœ¨å¤ªå¤§ï¼Œåæ¥å°±æŠŠGNU Interactive Toolsæ”¹æˆ<code>gnuit</code>ï¼Œ<code>git-core</code>æ­£å¼æ”¹ä¸º<code>git</code>ã€‚</p>
<p>å¦‚æœæ˜¯å…¶ä»–Linuxç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æºç å®‰è£…ã€‚å…ˆä»Gitå®˜ç½‘ä¸‹è½½æºç ï¼Œç„¶åè§£å‹ï¼Œä¾æ¬¡è¾“å…¥ï¼š<code>./config</code>ï¼Œ<code>make</code>ï¼Œ<code>sudo make install</code>è¿™å‡ ä¸ªå‘½ä»¤å®‰è£…å°±å¥½äº†ã€‚</p>
<h3 id="åœ¨Mac-OS-Xä¸Šå®‰è£…Git"><a href="#åœ¨Mac-OS-Xä¸Šå®‰è£…Git" class="headerlink" title="åœ¨Mac OS Xä¸Šå®‰è£…Git"></a>åœ¨Mac OS Xä¸Šå®‰è£…Git</h3><p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨Macåšå¼€å‘ï¼Œæœ‰ä¸¤ç§å®‰è£…Gitçš„æ–¹æ³•ã€‚</p>
<p>ä¸€æ˜¯å®‰è£…homebrewï¼Œç„¶åé€šè¿‡homebrewå®‰è£…Gitï¼Œå…·ä½“æ–¹æ³•è¯·å‚è€ƒhomebrewçš„æ–‡æ¡£ï¼š<span class="exturl" data-url="aHR0cDovL2JyZXcuc2gvJUUzJTgwJTgy">http://brew.sh/ã€‚<i class="fa fa-external-link-alt"></i></span></p>
<p>ç¬¬äºŒç§æ–¹æ³•æ›´ç®€å•ï¼Œä¹Ÿæ˜¯æ¨èçš„æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥ä»AppStoreå®‰è£…Xcodeï¼ŒXcodeé›†æˆäº†Gitï¼Œä¸è¿‡é»˜è®¤æ²¡æœ‰å®‰è£…ï¼Œä½ éœ€è¦è¿è¡ŒXcodeï¼Œé€‰æ‹©èœå•â€œXcodeâ€-&gt;â€œPreferencesâ€ï¼Œåœ¨å¼¹å‡ºçª—å£ä¸­æ‰¾åˆ°â€œDownloadsâ€ï¼Œé€‰æ‹©â€œCommand Line Toolsâ€ï¼Œç‚¹â€œInstallâ€å°±å¯ä»¥å®Œæˆå®‰è£…äº†ã€‚</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0.jpeg" alt="install-git-by-xcode"></p>
<p>Xcodeæ˜¯Appleå®˜æ–¹IDEï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæ˜¯å¼€å‘Macå’ŒiOS Appçš„å¿…é€‰è£…å¤‡ï¼Œè€Œä¸”æ˜¯å…è´¹çš„ï¼</p>
<h3 id="åœ¨Windowsä¸Šå®‰è£…Git"><a href="#åœ¨Windowsä¸Šå®‰è£…Git" class="headerlink" title="åœ¨Windowsä¸Šå®‰è£…Git"></a>åœ¨Windowsä¸Šå®‰è£…Git</h3><p>åœ¨Windowsä¸Šä½¿ç”¨Gitï¼Œå¯ä»¥ä»Gitå®˜ç½‘ç›´æ¥<span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9kb3dubG9hZHM=">ä¸‹è½½å®‰è£…ç¨‹åº<i class="fa fa-external-link-alt"></i></span>ï¼Œç„¶åæŒ‰é»˜è®¤é€‰é¡¹å®‰è£…å³å¯ã€‚</p>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨å¼€å§‹èœå•é‡Œæ‰¾åˆ°â€œGitâ€-&gt;â€œGit Bashâ€ï¼Œè¹¦å‡ºä¸€ä¸ªç±»ä¼¼å‘½ä»¤è¡Œçª—å£çš„ä¸œè¥¿ï¼Œå°±è¯´æ˜Gitå®‰è£…æˆåŠŸï¼</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210517152155022.jpeg" alt="install-git-on-windows"></p>
<p>å®‰è£…å®Œæˆåï¼Œè¿˜éœ€è¦æœ€åä¸€æ­¥è®¾ç½®ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">config</span> --<span class="keyword">global</span> user<span class="variable">.name</span> <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">$ git <span class="keyword">config</span> --<span class="keyword">global</span> user<span class="variable">.email</span> <span class="string">&quot;email@example.com&quot;</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸ºGitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªæœºå™¨éƒ½å¿…é¡»è‡ªæŠ¥å®¶é—¨ï¼šä½ çš„åå­—å’ŒEmailåœ°å€ã€‚ä½ ä¹Ÿè®¸ä¼šæ‹…å¿ƒï¼Œå¦‚æœæœ‰äººæ•…æ„å†’å……åˆ«äººæ€ä¹ˆåŠï¼Ÿè¿™ä¸ªä¸å¿…æ‹…å¿ƒï¼Œé¦–å…ˆæˆ‘ä»¬ç›¸ä¿¡å¤§å®¶éƒ½æ˜¯å–„è‰¯æ— çŸ¥çš„ç¾¤ä¼—ï¼Œå…¶æ¬¡ï¼ŒçœŸçš„æœ‰å†’å……çš„ä¹Ÿæ˜¯æœ‰åŠæ³•å¯æŸ¥çš„ã€‚</p>
<p>æ³¨æ„<code>git config</code>å‘½ä»¤çš„<code>--global</code>å‚æ•°ï¼Œç”¨äº†è¿™ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä½ è¿™å°æœºå™¨ä¸Šæ‰€æœ‰çš„Gitä»“åº“éƒ½ä¼šä½¿ç”¨è¿™ä¸ªé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¯¹æŸä¸ªä»“åº“æŒ‡å®šä¸åŒçš„ç”¨æˆ·åå’ŒEmailåœ°å€ã€‚</p>
<h1 id="3-åˆ›å»ºç‰ˆæœ¬åº“"><a href="#3-åˆ›å»ºç‰ˆæœ¬åº“" class="headerlink" title="3 åˆ›å»ºç‰ˆæœ¬åº“"></a>3 åˆ›å»ºç‰ˆæœ¬åº“</h1><p>ä»€ä¹ˆæ˜¯ç‰ˆæœ¬åº“å‘¢ï¼Ÿç‰ˆæœ¬åº“åˆåä»“åº“ï¼Œè‹±æ–‡å<strong>repository</strong>ï¼Œä½ å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è¢«Gitç®¡ç†èµ·æ¥ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ã€åˆ é™¤ï¼ŒGitéƒ½èƒ½è·Ÿè¸ªï¼Œä»¥ä¾¿ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è¿½è¸ªå†å²ï¼Œæˆ–è€…åœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å¯ä»¥â€œè¿˜åŸâ€ã€‚</p>
<p>æ‰€ä»¥ï¼Œåˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åº“éå¸¸ç®€å•ï¼Œ<strong>é¦–å…ˆï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„åœ°æ–¹ï¼Œåˆ›å»ºä¸€ä¸ªç©ºç›®å½•</strong>ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> mkdir learngit</span><br><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> learngit</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒæ­¥ï¼Œ<strong>é€šè¿‡<code>git init</code>å‘½ä»¤æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“ï¼š</strong></p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> <span class="regexp">/Users/mi</span>chael<span class="regexp">/learngit/</span>.git/</span><br></pre></td></tr></table></figure>
<p>ç¬é—´Gitå°±æŠŠä»“åº“å»ºå¥½äº†ï¼Œè€Œä¸”å‘Šè¯‰ä½ æ˜¯ä¸€ä¸ªç©ºçš„ä»“åº“ï¼ˆempty Git repositoryï¼‰ï¼Œç»†å¿ƒçš„è¯»è€…å¯ä»¥å‘ç°å½“å‰<strong>ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª<code>.git</code>çš„ç›®å½•</strong>ï¼Œè¿™ä¸ªç›®å½•æ˜¯Gitæ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„ï¼Œæ²¡äº‹åƒä¸‡ä¸è¦æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªç›®å½•é‡Œé¢çš„æ–‡ä»¶ï¼Œä¸ç„¶æ”¹ä¹±äº†ï¼Œå°±æŠŠGitä»“åº“ç»™ç ´åäº†ã€‚</p>
<p>å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°<code>.git</code>ç›®å½•ï¼Œé‚£æ˜¯å› ä¸ºè¿™ä¸ªç›®å½•é»˜è®¤æ˜¯éšè—çš„ï¼Œç”¨<code>ls -ah</code>å‘½ä»¤å°±å¯ä»¥çœ‹è§ã€‚</p>
<p>ä¹Ÿä¸ä¸€å®šå¿…é¡»åœ¨ç©ºç›®å½•ä¸‹åˆ›å»ºGitä»“åº“ï¼Œé€‰æ‹©ä¸€ä¸ªå·²ç»æœ‰ä¸œè¥¿çš„ç›®å½•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸è¿‡ï¼Œä¸å»ºè®®ä½ ä½¿ç”¨è‡ªå·±æ­£åœ¨å¼€å‘çš„å…¬å¸é¡¹ç›®æ¥å­¦ä¹ Gitï¼Œå¦åˆ™é€ æˆçš„ä¸€åˆ‡åæœæ¦‚ä¸è´Ÿè´£ã€‚</p>
<h3 id="æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“"><a href="#æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“" class="headerlink" title="æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“"></a>æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“</h3><p>é¦–å…ˆè¿™é‡Œå†æ˜ç¡®ä¸€ä¸‹ï¼Œæ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå…¶å®<strong>åªèƒ½è·Ÿè¸ªæ–‡æœ¬æ–‡ä»¶çš„æ”¹åŠ¨</strong>ï¼Œæ¯”å¦‚TXTæ–‡ä»¶ï¼Œç½‘é¡µï¼Œæ‰€æœ‰çš„ç¨‹åºä»£ç ç­‰ç­‰ï¼ŒGitä¹Ÿä¸ä¾‹å¤–ã€‚ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯ä»¥å‘Šè¯‰ä½ æ¯æ¬¡çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚åœ¨ç¬¬5è¡ŒåŠ äº†ä¸€ä¸ªå•è¯â€œLinuxâ€ï¼Œåœ¨ç¬¬8è¡Œåˆ äº†ä¸€ä¸ªå•è¯â€œWindowsâ€ã€‚è€Œ<strong>å›¾ç‰‡ã€è§†é¢‘è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè™½ç„¶ä¹Ÿèƒ½ç”±ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç®¡ç†ï¼Œä½†æ²¡æ³•è·Ÿè¸ªæ–‡ä»¶çš„å˜åŒ–ï¼Œ</strong>åªèƒ½æŠŠäºŒè¿›åˆ¶æ–‡ä»¶æ¯æ¬¡æ”¹åŠ¨ä¸²èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯åªçŸ¥é“å›¾ç‰‡ä»100KBæ”¹æˆäº†120KBï¼Œä½†åˆ°åº•æ”¹äº†å•¥ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸çŸ¥é“ï¼Œä¹Ÿæ²¡æ³•çŸ¥é“ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼ŒMicrosoftçš„<strong>Wordæ ¼å¼æ˜¯äºŒè¿›åˆ¶æ ¼å¼</strong>ï¼Œå› æ­¤ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯æ²¡æ³•è·Ÿè¸ªWordæ–‡ä»¶çš„æ”¹åŠ¨çš„ï¼Œå‰é¢æˆ‘ä»¬ä¸¾çš„ä¾‹å­åªæ˜¯ä¸ºäº†æ¼”ç¤ºï¼Œå¦‚æœè¦çœŸæ­£ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°±è¦ä»¥çº¯æ–‡æœ¬æ–¹å¼ç¼–å†™æ–‡ä»¶ã€‚</p>
<p>å› ä¸ºæ–‡æœ¬æ˜¯æœ‰ç¼–ç çš„ï¼Œæ¯”å¦‚ä¸­æ–‡æœ‰å¸¸ç”¨çš„GBKç¼–ç ï¼Œæ—¥æ–‡æœ‰Shift_JISç¼–ç ï¼Œå¦‚æœæ²¡æœ‰å†å²é—ç•™é—®é¢˜ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨æ ‡å‡†çš„UTF-8ç¼–ç ï¼Œæ‰€æœ‰è¯­è¨€ä½¿ç”¨åŒä¸€ç§ç¼–ç ï¼Œæ—¢æ²¡æœ‰å†²çªï¼Œåˆè¢«æ‰€æœ‰å¹³å°æ‰€æ”¯æŒã€‚</p>
<p>ä½¿ç”¨Windowsçš„ç«¥é‹è¦ç‰¹åˆ«æ³¨æ„ï¼š</p>
<p>åƒä¸‡ä¸è¦ä½¿ç”¨<strong>Windowsè‡ªå¸¦çš„è®°äº‹æœ¬ç¼–è¾‘ä»»ä½•æ–‡æœ¬æ–‡ä»¶ã€‚åŸå› æ˜¯Microsoftå¼€å‘è®°äº‹æœ¬çš„å›¢é˜Ÿä½¿ç”¨äº†ä¸€ä¸ªéå¸¸å¼±æ™ºçš„è¡Œä¸ºæ¥ä¿å­˜UTF-8ç¼–ç çš„æ–‡ä»¶ï¼Œ</strong>ä»–ä»¬è‡ªä½œèªæ˜åœ°åœ¨æ¯ä¸ªæ–‡ä»¶å¼€å¤´æ·»åŠ äº†0xefbbbfï¼ˆåå…­è¿›åˆ¶ï¼‰çš„å­—ç¬¦ï¼Œä½ ä¼šé‡åˆ°å¾ˆå¤šä¸å¯æ€è®®çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œç½‘é¡µç¬¬ä¸€è¡Œå¯èƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªâ€œ?â€ï¼Œæ˜æ˜æ­£ç¡®çš„ç¨‹åºä¸€ç¼–è¯‘å°±æŠ¥è¯­æ³•é”™è¯¯ï¼Œç­‰ç­‰ï¼Œéƒ½æ˜¯ç”±è®°äº‹æœ¬çš„å¼±æ™ºè¡Œä¸ºå¸¦æ¥çš„ã€‚å»ºè®®ä½ ä¸‹è½½<span class="exturl" data-url="aHR0cDovL25vdGVwYWQtcGx1cy1wbHVzLm9yZy8=">Notepad++<i class="fa fa-external-link-alt"></i></span>ä»£æ›¿è®°äº‹æœ¬ï¼Œä¸ä½†åŠŸèƒ½å¼ºå¤§ï¼Œè€Œä¸”å…è´¹ï¼è®°å¾—æŠŠNotepad++çš„é»˜è®¤ç¼–ç è®¾ç½®ä¸ºUTF-8 without BOMå³å¯ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210517152819217.jpeg" alt="set-utf8-notepad++"></p>
<p>è¨€å½’æ­£ä¼ ï¼Œç°åœ¨æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª<code>readme.txt</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight mercury"><table><tr><td class="code"><pre><span class="line">Git <span class="keyword">is</span> a version control system.</span><br><span class="line">Git <span class="keyword">is</span> free software.</span><br></pre></td></tr></table></figure>
<p>ä¸€å®šè¦æ”¾åˆ°<code>learngit</code>ç›®å½•ä¸‹ï¼ˆå­ç›®å½•ä¹Ÿè¡Œï¼‰ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªGitä»“åº“ï¼Œæ”¾åˆ°å…¶ä»–åœ°æ–¹Gitå†å‰å®³ä¹Ÿæ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚</p>
<p>å’ŒæŠŠå¤§è±¡æ”¾åˆ°å†°ç®±éœ€è¦3æ­¥ç›¸æ¯”ï¼ŒæŠŠä¸€ä¸ªæ–‡ä»¶æ”¾åˆ°Gitä»“åº“åªéœ€è¦ä¸¤æ­¥ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼Œç”¨å‘½ä»¤<code>git add</code>å‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">add</span><span class="bash"> readme.txt</span></span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œæ²¡æœ‰ä»»ä½•æ˜¾ç¤ºï¼Œè¿™å°±å¯¹äº†ï¼ŒUnixçš„å“²å­¦æ˜¯â€œæ²¡æœ‰æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯â€ï¼Œè¯´æ˜æ·»åŠ æˆåŠŸã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼Œç”¨å‘½ä»¤<code>git commit</code>å‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼š</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">$ git commit -m <span class="string">&quot;wrote a readme file&quot;</span></span><br><span class="line">[<span class="keyword">master</span> <span class="title">(root-commit</span>) eaadf4e] wrote a readme file</span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">2</span> insertions(+)</span><br><span class="line"> create mode <span class="number">100644</span> readme.txt</span><br></pre></td></tr></table></figure>
<p>ç®€å•è§£é‡Šä¸€ä¸‹<code>git commit</code>å‘½ä»¤ï¼Œ<code>-m</code>åé¢è¾“å…¥çš„æ˜¯æœ¬æ¬¡æäº¤çš„è¯´æ˜ï¼Œå¯ä»¥è¾“å…¥ä»»æ„å†…å®¹ï¼Œå½“ç„¶æœ€å¥½æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè¿™æ ·ä½ å°±èƒ½ä»å†å²è®°å½•é‡Œæ–¹ä¾¿åœ°æ‰¾åˆ°æ”¹åŠ¨è®°å½•ã€‚</p>
<p>å«Œéº»çƒ¦ä¸æƒ³è¾“å…¥<code>-m &quot;xxx&quot;</code>è¡Œä¸è¡Œï¼Ÿç¡®å®æœ‰åŠæ³•å¯ä»¥è¿™ä¹ˆå¹²ï¼Œä½†æ˜¯å¼ºçƒˆä¸å»ºè®®ä½ è¿™ä¹ˆå¹²ï¼Œå› ä¸ºè¾“å…¥è¯´æ˜å¯¹è‡ªå·±å¯¹åˆ«äººé˜…è¯»éƒ½å¾ˆé‡è¦ã€‚å®åœ¨ä¸æƒ³è¾“å…¥è¯´æ˜çš„ç«¥é‹è¯·è‡ªè¡ŒGoogleï¼Œæˆ‘ä¸å‘Šè¯‰ä½ è¿™ä¸ªå‚æ•°ã€‚</p>
<p><code>git commit</code>å‘½ä»¤æ‰§è¡ŒæˆåŠŸåä¼šå‘Šè¯‰ä½ ï¼Œ<code>1 file changed</code>ï¼š1ä¸ªæ–‡ä»¶è¢«æ”¹åŠ¨ï¼ˆæˆ‘ä»¬æ–°æ·»åŠ çš„readme.txtæ–‡ä»¶ï¼‰ï¼›<code>2 insertions</code>ï¼šæ’å…¥äº†ä¸¤è¡Œå†…å®¹ï¼ˆreadme.txtæœ‰ä¸¤è¡Œå†…å®¹ï¼‰ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆGitæ·»åŠ æ–‡ä»¶éœ€è¦<code>add</code>ï¼Œ<code>commit</code>ä¸€å…±ä¸¤æ­¥å‘¢ï¼Ÿå› ä¸º<code>commit</code>å¯ä»¥ä¸€æ¬¡æäº¤å¾ˆå¤šæ–‡ä»¶ï¼Œæ‰€ä»¥ä½ å¯ä»¥å¤šæ¬¡<code>add</code>ä¸åŒçš„æ–‡ä»¶ï¼Œ</strong>æ¯”å¦‚ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">add</span><span class="bash"> file1.txt</span></span><br><span class="line">$ git <span class="keyword">add</span><span class="bash"> file2.txt file3.txt</span></span><br><span class="line">$ git commit -m <span class="string">&quot;add 3 files.&quot;</span></span><br></pre></td></tr></table></figure>


<h1 id="4-æ—¶å…‰ç©¿æ¢­æœº"><a href="#4-æ—¶å…‰ç©¿æ¢­æœº" class="headerlink" title="4 æ—¶å…‰ç©¿æ¢­æœº"></a>4 æ—¶å…‰ç©¿æ¢­æœº</h1><p>æˆ‘ä»¬å·²ç»æˆåŠŸåœ°æ·»åŠ å¹¶æäº¤äº†ä¸€ä¸ªreadme.txtæ–‡ä»¶ï¼Œç°åœ¨ï¼Œæ˜¯æ—¶å€™ç»§ç»­å·¥ä½œäº†ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬ç»§ç»­ä¿®æ”¹readme.txtæ–‡ä»¶ï¼Œæ”¹æˆå¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight mercury"><table><tr><td class="code"><pre><span class="line">Git <span class="keyword">is</span> a distributed version control system.</span><br><span class="line">Git <span class="keyword">is</span> free software.</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œè¿è¡Œ<code>git status</code>å‘½ä»¤çœ‹çœ‹ç»“æœï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commi<span class="variable">t:</span></span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> <span class="keyword">to</span> <span class="keyword">update</span> what will <span class="keyword">be</span> committed)</span><br><span class="line">  (use <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> <span class="keyword">to</span> discard <span class="keyword">changes</span> in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br><span class="line"></span><br><span class="line"><span class="keyword">no</span> <span class="keyword">changes</span> added <span class="keyword">to</span> commit (use <span class="string">&quot;git add&quot;</span> <span class="built_in">and</span>/<span class="built_in">or</span> <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><code>git status</code>å‘½ä»¤å¯ä»¥è®©æˆ‘ä»¬æ—¶åˆ»æŒæ¡ä»“åº“å½“å‰çš„çŠ¶æ€ï¼Œä¸Šé¢çš„å‘½ä»¤è¾“å‡ºå‘Šè¯‰æˆ‘ä»¬ï¼Œ<code>readme.txt</code>è¢«ä¿®æ”¹è¿‡äº†ï¼Œä½†è¿˜æ²¡æœ‰å‡†å¤‡æäº¤çš„ä¿®æ”¹ã€‚</p>
<p>è™½ç„¶Gitå‘Šè¯‰æˆ‘ä»¬<code>readme.txt</code>è¢«ä¿®æ”¹äº†ï¼Œä½†å¦‚æœèƒ½çœ‹çœ‹å…·ä½“ä¿®æ”¹äº†ä»€ä¹ˆå†…å®¹ï¼Œè‡ªç„¶æ˜¯å¾ˆå¥½çš„ã€‚æ¯”å¦‚ä½ ä¼‘å‡ä¸¤å‘¨ä»å›½å¤–å›æ¥ï¼Œç¬¬ä¸€å¤©ä¸Šç­æ—¶ï¼Œå·²ç»è®°ä¸æ¸…ä¸Šæ¬¡æ€ä¹ˆä¿®æ”¹çš„<code>readme.txt</code>ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ç”¨<code>git diff</code>è¿™ä¸ªå‘½ä»¤çœ‹çœ‹ï¼š</p>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">$ git diff readme.txt </span><br><span class="line"><span class="comment">diff --git a/readme.txt b/readme.txt</span></span><br><span class="line"><span class="comment">index 46d49bf..9247db6 100644</span></span><br><span class="line"><span class="comment">--- a/readme.txt</span></span><br><span class="line"><span class="comment">+++ b/readme.txt</span></span><br><span class="line"><span class="meta">@@ -1,2 +1,2 @@</span></span><br><span class="line"><span class="deletion">-Git is a version control system.</span></span><br><span class="line"><span class="addition">+Git is a distributed version control system.</span></span><br><span class="line"> Git is free software.</span><br></pre></td></tr></table></figure>
<p><code>git diff</code>é¡¾åæ€ä¹‰å°±æ˜¯æŸ¥çœ‹differenceï¼Œæ˜¾ç¤ºçš„æ ¼å¼æ­£æ˜¯Unixé€šç”¨çš„diffæ ¼å¼ï¼Œå¯ä»¥ä»ä¸Šé¢çš„å‘½ä»¤è¾“å‡ºçœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€è¡Œæ·»åŠ äº†ä¸€ä¸ª<code>distributed</code>å•è¯ã€‚</p>
<p>çŸ¥é“äº†å¯¹<code>readme.txt</code>ä½œäº†ä»€ä¹ˆä¿®æ”¹åï¼Œå†æŠŠå®ƒæäº¤åˆ°ä»“åº“å°±æ”¾å¿ƒå¤šäº†ï¼Œæäº¤ä¿®æ”¹å’Œæäº¤æ–°æ–‡ä»¶æ˜¯ä¸€æ ·çš„ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯<code>git add</code>ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">add</span><span class="bash"> readme.txt</span></span><br></pre></td></tr></table></figure>
<p>åŒæ ·æ²¡æœ‰ä»»ä½•è¾“å‡ºã€‚åœ¨æ‰§è¡Œç¬¬äºŒæ­¥<code>git commit</code>ä¹‹å‰ï¼Œæˆ‘ä»¬å†è¿è¡Œ<code>git status</code>çœ‹çœ‹å½“å‰ä»“åº“çš„çŠ¶æ€ï¼š</p>
<figure class="highlight vhdl"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line">Changes <span class="keyword">to</span> be committed:</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> <span class="keyword">to</span> unstage)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br></pre></td></tr></table></figure>
<p><code>git status</code>å‘Šè¯‰æˆ‘ä»¬ï¼Œå°†è¦è¢«æäº¤çš„ä¿®æ”¹åŒ…æ‹¬<code>readme.txt</code>ï¼Œä¸‹ä¸€æ­¥ï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°æäº¤äº†ï¼š</p>
<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">$ git commit -m <span class="string">&quot;add distributed&quot;</span></span><br><span class="line">[master e475afc] <span class="meta">add</span> distributed</span><br><span class="line"> 1 <span class="meta">file</span> changed, 1 inserti<span class="meta">on(</span>+), 1 deleti<span class="meta">on(</span>-)</span><br></pre></td></tr></table></figure>
<p>æäº¤åï¼Œæˆ‘ä»¬å†ç”¨<code>git status</code>å‘½ä»¤çœ‹çœ‹ä»“åº“çš„å½“å‰çŠ¶æ€ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line"><span class="keyword">nothing</span> <span class="keyword">to</span> <span class="keyword">commit</span>, working tree clean</span><br></pre></td></tr></table></figure>
<p>Gitå‘Šè¯‰æˆ‘ä»¬å½“å‰æ²¡æœ‰éœ€è¦æäº¤çš„ä¿®æ”¹ï¼Œè€Œä¸”ï¼Œå·¥ä½œç›®å½•æ˜¯å¹²å‡€ï¼ˆworking tree cleanï¼‰çš„ã€‚</p>
<p><strong>å°ç»“</strong></p>
<ul>
<li>è¦éšæ—¶æŒæ¡å·¥ä½œåŒºçš„çŠ¶æ€ï¼Œä½¿ç”¨<code>git status</code>å‘½ä»¤ã€‚</li>
<li>å¦‚æœ<code>git status</code>å‘Šè¯‰ä½ æœ‰æ–‡ä»¶è¢«ä¿®æ”¹è¿‡ï¼Œç”¨<code>git diff</code>å¯ä»¥æŸ¥çœ‹ä¿®æ”¹å†…å®¹ã€‚</li>
</ul>
<h3 id="ç‰ˆæœ¬å›é€€"><a href="#ç‰ˆæœ¬å›é€€" class="headerlink" title="ç‰ˆæœ¬å›é€€"></a>ç‰ˆæœ¬å›é€€</h3><p>ç°åœ¨ï¼Œä½ å·²ç»å­¦ä¼šäº†ä¿®æ”¹æ–‡ä»¶ï¼Œç„¶åæŠŠä¿®æ”¹æäº¤åˆ°Gitç‰ˆæœ¬åº“ï¼Œç°åœ¨ï¼Œå†ç»ƒä¹ ä¸€æ¬¡ï¼Œä¿®æ”¹readme.txtæ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">Git is <span class="keyword">a</span> distributed <span class="built_in">version</span> control <span class="keyword">system</span>.</span><br><span class="line">Git is free software distributed under <span class="keyword">the</span> GPL.</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°è¯•æäº¤ï¼š</p>
<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">$ git <span class="meta">add</span> readme.txt</span><br><span class="line">$ git commit -m <span class="string">&quot;append GPL&quot;</span></span><br><span class="line">[master 1094adb] append GPL</span><br><span class="line"> 1 <span class="meta">file</span> changed, 1 inserti<span class="meta">on(</span>+), 1 deleti<span class="meta">on(</span>-)</span><br></pre></td></tr></table></figure>
<p>åƒè¿™æ ·ï¼Œä½ ä¸æ–­å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œç„¶åä¸æ–­æäº¤ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“é‡Œï¼Œå°±å¥½æ¯”ç©RPGæ¸¸æˆæ—¶ï¼Œæ¯é€šè¿‡ä¸€å…³å°±ä¼šè‡ªåŠ¨æŠŠæ¸¸æˆçŠ¶æ€å­˜ç›˜ï¼Œå¦‚æœæŸä¸€å…³æ²¡è¿‡å»ï¼Œä½ è¿˜å¯ä»¥é€‰æ‹©è¯»å–å‰ä¸€å…³çš„çŠ¶æ€ã€‚æœ‰äº›æ—¶å€™ï¼Œåœ¨æ‰“Bossä¹‹å‰ï¼Œä½ ä¼šæ‰‹åŠ¨å­˜ç›˜ï¼Œä»¥ä¾¿ä¸‡ä¸€æ‰“Bosså¤±è´¥äº†ï¼Œå¯ä»¥ä»æœ€è¿‘çš„åœ°æ–¹é‡æ–°å¼€å§‹ã€‚Gitä¹Ÿæ˜¯ä¸€æ ·ï¼Œæ¯å½“ä½ è§‰å¾—æ–‡ä»¶ä¿®æ”¹åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œå°±å¯ä»¥â€œä¿å­˜ä¸€ä¸ªå¿«ç…§â€ï¼Œè¿™ä¸ªå¿«ç…§åœ¨Gitä¸­è¢«ç§°ä¸º<code>commit</code>ã€‚ä¸€æ—¦ä½ æŠŠæ–‡ä»¶æ”¹ä¹±äº†ï¼Œæˆ–è€…è¯¯åˆ äº†æ–‡ä»¶ï¼Œè¿˜å¯ä»¥ä»æœ€è¿‘çš„ä¸€ä¸ª<code>commit</code>æ¢å¤ï¼Œç„¶åç»§ç»­å·¥ä½œï¼Œè€Œä¸æ˜¯æŠŠå‡ ä¸ªæœˆçš„å·¥ä½œæˆæœå…¨éƒ¨ä¸¢å¤±ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹<code>readme.txt</code>æ–‡ä»¶ä¸€å…±æœ‰å‡ ä¸ªç‰ˆæœ¬è¢«æäº¤åˆ°Gitä»“åº“é‡Œäº†ï¼š</p>
<p>ç‰ˆæœ¬1ï¼šwrote a readme file</p>
<figure class="highlight mercury"><table><tr><td class="code"><pre><span class="line">Git <span class="keyword">is</span> a version control system.</span><br><span class="line">Git <span class="keyword">is</span> free software.</span><br></pre></td></tr></table></figure>
<p>ç‰ˆæœ¬2ï¼šadd distributed</p>
<figure class="highlight mercury"><table><tr><td class="code"><pre><span class="line">Git <span class="keyword">is</span> a distributed version control system.</span><br><span class="line">Git <span class="keyword">is</span> free software.</span><br></pre></td></tr></table></figure>
<p>ç‰ˆæœ¬3ï¼šappend GPL</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">Git is <span class="keyword">a</span> distributed <span class="built_in">version</span> control <span class="keyword">system</span>.</span><br><span class="line">Git is free software distributed under <span class="keyword">the</span> GPL.</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶äº†ï¼Œåœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è„‘å­é‡Œæ€ä¹ˆå¯èƒ½è®°å¾—ä¸€ä¸ªå‡ åƒè¡Œçš„æ–‡ä»¶æ¯æ¬¡éƒ½æ”¹äº†ä»€ä¹ˆå†…å®¹ï¼Œä¸ç„¶è¦ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¹²ä»€ä¹ˆã€‚ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè‚¯å®šæœ‰æŸä¸ªå‘½ä»¤å¯ä»¥å‘Šè¯‰æˆ‘ä»¬å†å²è®°å½•ï¼Œåœ¨Gitä¸­ï¼Œæˆ‘ä»¬ç”¨<code>git log</code>å‘½ä»¤æŸ¥çœ‹ï¼š</p>
<figure class="highlight llvm"><table><tr><td class="code"><pre><span class="line">$ git log</span><br><span class="line">commit <span class="number">1094</span>adb<span class="number">7</span>b<span class="number">9</span>b<span class="number">3807259</span>d<span class="number">8</span>cb<span class="number">349e7</span>df<span class="number">1</span>d<span class="number">4</span>d<span class="number">6477073</span> (HEAD -&gt; master)</span><br><span class="line">Author: Michael Liao &lt;askxuefeng<span class="title">@gmail.com</span>&gt;</span><br><span class="line">Date:   Fri May <span class="number">18</span> <span class="number">21</span>:<span class="number">06</span>:<span class="number">15</span> <span class="number">2018</span> +<span class="number">0800</span></span><br><span class="line"></span><br><span class="line">    append GPL</span><br><span class="line"></span><br><span class="line">commit e<span class="number">475</span>afc<span class="number">93</span><span class="keyword">c</span><span class="number">209</span>a<span class="number">690</span><span class="keyword">c</span><span class="number">39</span><span class="keyword">c</span><span class="number">13</span>a<span class="number">46716e8</span>fa<span class="number">000</span><span class="keyword">c</span><span class="number">366</span></span><br><span class="line">Author: Michael Liao &lt;askxuefeng<span class="title">@gmail.com</span>&gt;</span><br><span class="line">Date:   Fri May <span class="number">18</span> <span class="number">21</span>:<span class="number">03</span>:<span class="number">36</span> <span class="number">2018</span> +<span class="number">0800</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">add</span> distributed</span><br><span class="line"></span><br><span class="line">commit eaadf<span class="number">4e385</span>e<span class="number">865</span>d<span class="number">25</span><span class="keyword">c</span><span class="number">48e7</span>ca<span class="number">9</span><span class="keyword">c</span><span class="number">8395</span><span class="keyword">c</span><span class="number">3</span>f<span class="number">7</span>dfaef<span class="number">0</span></span><br><span class="line">Author: Michael Liao &lt;askxuefeng<span class="title">@gmail.com</span>&gt;</span><br><span class="line">Date:   Fri May <span class="number">18</span> <span class="number">20</span>:<span class="number">59</span>:<span class="number">18</span> <span class="number">2018</span> +<span class="number">0800</span></span><br><span class="line"></span><br><span class="line">    wrote a readme file</span><br></pre></td></tr></table></figure>
<p><code>git log</code>å‘½ä»¤æ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æäº¤æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°3æ¬¡æäº¤ï¼Œæœ€è¿‘çš„ä¸€æ¬¡æ˜¯<code>append GPL</code>ï¼Œä¸Šä¸€æ¬¡æ˜¯<code>add distributed</code>ï¼Œæœ€æ—©çš„ä¸€æ¬¡æ˜¯<code>wrote a readme file</code>ã€‚</p>
<p>å¦‚æœå«Œè¾“å‡ºä¿¡æ¯å¤ªå¤šï¼Œçœ‹å¾—çœ¼èŠ±ç¼­ä¹±çš„ï¼Œå¯ä»¥è¯•è¯•åŠ ä¸Š<code>--pretty=oneline</code>å‚æ•°ï¼š</p>
<figure class="highlight llvm"><table><tr><td class="code"><pre><span class="line">$ git log --pretty<span class="operator">=</span>oneline</span><br><span class="line"><span class="number">1094</span>adb<span class="number">7</span>b<span class="number">9</span>b<span class="number">3807259</span>d<span class="number">8</span>cb<span class="number">349e7</span>df<span class="number">1</span>d<span class="number">4</span>d<span class="number">6477073</span> (HEAD -&gt; master) append GPL</span><br><span class="line">e<span class="number">475</span>afc<span class="number">93</span><span class="keyword">c</span><span class="number">209</span>a<span class="number">690</span><span class="keyword">c</span><span class="number">39</span><span class="keyword">c</span><span class="number">13</span>a<span class="number">46716e8</span>fa<span class="number">000</span><span class="keyword">c</span><span class="number">366</span> <span class="keyword">add</span> distributed</span><br><span class="line">eaadf<span class="number">4e385</span>e<span class="number">865</span>d<span class="number">25</span><span class="keyword">c</span><span class="number">48e7</span>ca<span class="number">9</span><span class="keyword">c</span><span class="number">8395</span><span class="keyword">c</span><span class="number">3</span>f<span class="number">7</span>dfaef<span class="number">0</span> wrote a readme file</span><br></pre></td></tr></table></figure>
<p>éœ€è¦å‹æƒ…æç¤ºçš„æ˜¯ï¼Œä½ çœ‹åˆ°çš„ä¸€å¤§ä¸²ç±»ä¼¼<code>1094adb...</code>çš„æ˜¯<code>commit id</code>ï¼ˆç‰ˆæœ¬å·ï¼‰ï¼Œå’ŒSVNä¸ä¸€æ ·ï¼ŒGitçš„<code>commit id</code>ä¸æ˜¯1ï¼Œ2ï¼Œ3â€¦â€¦é€’å¢çš„æ•°å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªSHA1è®¡ç®—å‡ºæ¥çš„ä¸€ä¸ªéå¸¸å¤§çš„æ•°å­—ï¼Œç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œè€Œä¸”ä½ çœ‹åˆ°çš„<code>commit id</code>å’Œæˆ‘çš„è‚¯å®šä¸ä¸€æ ·ï¼Œä»¥ä½ è‡ªå·±çš„ä¸ºå‡†ã€‚ä¸ºä»€ä¹ˆ<code>commit id</code>éœ€è¦ç”¨è¿™ä¹ˆä¸€å¤§ä¸²æ•°å­—è¡¨ç¤ºå‘¢ï¼Ÿå› ä¸ºGitæ˜¯åˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œåé¢æˆ‘ä»¬è¿˜è¦ç ”ç©¶å¤šäººåœ¨åŒä¸€ä¸ªç‰ˆæœ¬åº“é‡Œå·¥ä½œï¼Œå¦‚æœå¤§å®¶éƒ½ç”¨1ï¼Œ2ï¼Œ3â€¦â€¦ä½œä¸ºç‰ˆæœ¬å·ï¼Œé‚£è‚¯å®šå°±å†²çªäº†ã€‚</p>
<p>æ¯æäº¤ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œå®é™…ä¸ŠGitå°±ä¼šæŠŠå®ƒä»¬è‡ªåŠ¨ä¸²æˆä¸€æ¡æ—¶é—´çº¿ã€‚å¦‚æœä½¿ç”¨å¯è§†åŒ–å·¥å…·æŸ¥çœ‹Gitå†å²ï¼Œå°±å¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ°æäº¤å†å²çš„æ—¶é—´çº¿ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-1395634.jpeg" alt="git-log-timeline"></p>
<p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å¯åŠ¨æ—¶å…‰ç©¿æ¢­æœºï¼Œå‡†å¤‡æŠŠ<code>readme.txt</code>å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯<code>add distributed</code>çš„é‚£ä¸ªç‰ˆæœ¬ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼ŒGitå¿…é¡»çŸ¥é“å½“å‰ç‰ˆæœ¬æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Œåœ¨Gitä¸­ï¼Œç”¨<code>HEAD</code>è¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯æœ€æ–°çš„æäº¤<code>1094adb...</code>ï¼ˆæ³¨æ„æˆ‘çš„æäº¤IDå’Œä½ çš„è‚¯å®šä¸ä¸€æ ·ï¼‰ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯<code>HEAD^</code>ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯<code>HEAD^^</code>ï¼Œå½“ç„¶å¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™100ä¸ª<code>^</code>æ¯”è¾ƒå®¹æ˜“æ•°ä¸è¿‡æ¥ï¼Œæ‰€ä»¥å†™æˆ<code>HEAD~100</code>ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬è¦æŠŠå½“å‰ç‰ˆæœ¬<code>append GPL</code>å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬<code>add distributed</code>ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>git reset</code>å‘½ä»¤ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">reset</span> <span class="comment">--hard HEAD^</span></span><br><span class="line">HEAD <span class="keyword">is</span> now at e475afc <span class="keyword">add</span> distributed</span><br></pre></td></tr></table></figure>
<p><code>--hard</code>å‚æ•°æœ‰å•¥æ„ä¹‰ï¼Ÿè¿™ä¸ªåé¢å†è®²ï¼Œç°åœ¨ä½ å…ˆæ”¾å¿ƒä½¿ç”¨ã€‚</p>
<p>çœ‹çœ‹<code>readme.txt</code>çš„å†…å®¹æ˜¯ä¸æ˜¯ç‰ˆæœ¬<code>add distributed</code>ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> readme.txt</span><br><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software.</span><br></pre></td></tr></table></figure>
<p>æœç„¶è¢«è¿˜åŸäº†ã€‚</p>
<p>è¿˜å¯ä»¥ç»§ç»­å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬<code>wrote a readme file</code>ï¼Œä¸è¿‡ä¸”æ…¢ï¼Œè®©æˆ‘ä»¬ç”¨<code>git log</code>å†çœ‹çœ‹ç°åœ¨ç‰ˆæœ¬åº“çš„çŠ¶æ€ï¼š</p>
<figure class="highlight llvm"><table><tr><td class="code"><pre><span class="line">$ git log</span><br><span class="line">commit e<span class="number">475</span>afc<span class="number">93</span><span class="keyword">c</span><span class="number">209</span>a<span class="number">690</span><span class="keyword">c</span><span class="number">39</span><span class="keyword">c</span><span class="number">13</span>a<span class="number">46716e8</span>fa<span class="number">000</span><span class="keyword">c</span><span class="number">366</span> (HEAD -&gt; master)</span><br><span class="line">Author: Michael Liao &lt;askxuefeng<span class="title">@gmail.com</span>&gt;</span><br><span class="line">Date:   Fri May <span class="number">18</span> <span class="number">21</span>:<span class="number">03</span>:<span class="number">36</span> <span class="number">2018</span> +<span class="number">0800</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">add</span> distributed</span><br><span class="line"></span><br><span class="line">commit eaadf<span class="number">4e385</span>e<span class="number">865</span>d<span class="number">25</span><span class="keyword">c</span><span class="number">48e7</span>ca<span class="number">9</span><span class="keyword">c</span><span class="number">8395</span><span class="keyword">c</span><span class="number">3</span>f<span class="number">7</span>dfaef<span class="number">0</span></span><br><span class="line">Author: Michael Liao &lt;askxuefeng<span class="title">@gmail.com</span>&gt;</span><br><span class="line">Date:   Fri May <span class="number">18</span> <span class="number">20</span>:<span class="number">59</span>:<span class="number">18</span> <span class="number">2018</span> +<span class="number">0800</span></span><br><span class="line"></span><br><span class="line">    wrote a readme file</span><br></pre></td></tr></table></figure>
<p>æœ€æ–°çš„é‚£ä¸ªç‰ˆæœ¬<code>append GPL</code>å·²ç»çœ‹ä¸åˆ°äº†ï¼å¥½æ¯”ä½ ä»21ä¸–çºªåæ—¶å…‰ç©¿æ¢­æœºæ¥åˆ°äº†19ä¸–çºªï¼Œæƒ³å†å›å»å·²ç»å›ä¸å»äº†ï¼Œè‚¿ä¹ˆåŠï¼Ÿ</p>
<p>åŠæ³•å…¶å®è¿˜æ˜¯æœ‰çš„ï¼Œåªè¦ä¸Šé¢çš„å‘½ä»¤è¡Œçª—å£è¿˜æ²¡æœ‰è¢«å…³æ‰ï¼Œä½ å°±å¯ä»¥é¡ºç€å¾€ä¸Šæ‰¾å•Šæ‰¾å•Šï¼Œæ‰¾åˆ°é‚£ä¸ª<code>append GPL</code>çš„<code>commit id</code>æ˜¯<code>1094adb...</code>ï¼Œäºæ˜¯å°±å¯ä»¥æŒ‡å®šå›åˆ°æœªæ¥çš„æŸä¸ªç‰ˆæœ¬ï¼š</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">reset</span> --hard 1094a</span><br><span class="line">HEAD <span class="built_in">is</span> now <span class="built_in">at</span> 83b0afe <span class="built_in">append</span> GPL</span><br></pre></td></tr></table></figure>
<p>ç‰ˆæœ¬å·æ²¡å¿…è¦å†™å…¨ï¼Œå‰å‡ ä½å°±å¯ä»¥äº†ï¼ŒGitä¼šè‡ªåŠ¨å»æ‰¾ã€‚å½“ç„¶ä¹Ÿä¸èƒ½åªå†™å‰ä¸€ä¸¤ä½ï¼Œå› ä¸ºGitå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç‰ˆæœ¬å·ï¼Œå°±æ— æ³•ç¡®å®šæ˜¯å“ªä¸€ä¸ªäº†ã€‚</p>
<p>å†å°å¿ƒç¿¼ç¿¼åœ°çœ‹çœ‹<code>readme.txt</code>çš„å†…å®¹ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> readme.txt</span><br><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br></pre></td></tr></table></figure>
<p>æœç„¶ï¼Œæˆ‘èƒ¡æ±‰ä¸‰åˆå›æ¥äº†ã€‚</p>
<p>Gitçš„ç‰ˆæœ¬å›é€€é€Ÿåº¦éå¸¸å¿«ï¼Œå› ä¸ºGitåœ¨å†…éƒ¨æœ‰ä¸ªæŒ‡å‘å½“å‰ç‰ˆæœ¬çš„<code>HEAD</code>æŒ‡é’ˆï¼Œå½“ä½ å›é€€ç‰ˆæœ¬çš„æ—¶å€™ï¼ŒGitä»…ä»…æ˜¯æŠŠHEADä»æŒ‡å‘<code>append GPL</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”</span><br><span class="line">â”‚HEADâ”‚</span><br><span class="line">â””â”€â”€â”€â”€â”˜</span><br><span class="line">   â”‚</span><br><span class="line">   â””â”€â”€&gt; â—‹ append GPL</span><br><span class="line">        â”‚</span><br><span class="line">        â—‹ add distributed</span><br><span class="line">        â”‚</span><br><span class="line">        â—‹ wrote a readme file</span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸ºæŒ‡å‘<code>add distributed</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”</span><br><span class="line">â”‚HEADâ”‚</span><br><span class="line">â””â”€â”€â”€â”€â”˜</span><br><span class="line">   â”‚</span><br><span class="line">   â”‚    â—‹ append GPL</span><br><span class="line">   â”‚    â”‚</span><br><span class="line">   â””â”€â”€&gt; â—‹ add distributed</span><br><span class="line">        â”‚</span><br><span class="line">        â—‹ wrote a readme file</span><br></pre></td></tr></table></figure>
<p>ç„¶åé¡ºä¾¿æŠŠå·¥ä½œåŒºçš„æ–‡ä»¶æ›´æ–°äº†ã€‚æ‰€ä»¥ä½ è®©<code>HEAD</code>æŒ‡å‘å“ªä¸ªç‰ˆæœ¬å·ï¼Œä½ å°±æŠŠå½“å‰ç‰ˆæœ¬å®šä½åœ¨å“ªã€‚</p>
<p>ç°åœ¨ï¼Œä½ å›é€€åˆ°äº†æŸä¸ªç‰ˆæœ¬ï¼Œå…³æ‰äº†ç”µè„‘ï¼Œç¬¬äºŒå¤©æ—©ä¸Šå°±åæ‚”äº†ï¼Œæƒ³æ¢å¤åˆ°æ–°ç‰ˆæœ¬æ€ä¹ˆåŠï¼Ÿæ‰¾ä¸åˆ°æ–°ç‰ˆæœ¬çš„<code>commit id</code>æ€ä¹ˆåŠï¼Ÿ</p>
<p>åœ¨Gitä¸­ï¼Œæ€»æ˜¯æœ‰åæ‚”è¯å¯ä»¥åƒçš„ã€‚å½“ä½ ç”¨<code>$ git reset --hard HEAD^</code>å›é€€åˆ°<code>add distributed</code>ç‰ˆæœ¬æ—¶ï¼Œå†æƒ³æ¢å¤åˆ°<code>append GPL</code>ï¼Œå°±å¿…é¡»æ‰¾åˆ°<code>append GPL</code>çš„commit idã€‚Gitæä¾›äº†ä¸€ä¸ªå‘½ä»¤<code>git reflog</code>ç”¨æ¥è®°å½•ä½ çš„æ¯ä¸€æ¬¡å‘½ä»¤ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">e475afc HEAD@&#123;<span class="number">1</span>&#125;: rese<span class="variable">t:</span> moving <span class="keyword">to</span> HEAD^</span><br><span class="line"><span class="number">1094</span>adb (HEAD -&gt; master) HEAD@&#123;<span class="number">2</span>&#125;: commi<span class="variable">t:</span> <span class="keyword">append</span> GPL</span><br><span class="line">e475afc HEAD@&#123;<span class="number">3</span>&#125;: commi<span class="variable">t:</span> <span class="built_in">add</span> distributed</span><br><span class="line">eaadf4e HEAD@&#123;<span class="number">4</span>&#125;: commit (initial): wrote <span class="keyword">a</span> readme <span class="keyword">file</span></span><br></pre></td></tr></table></figure>
<p>ç»ˆäºèˆ’äº†å£æ°”ï¼Œä»è¾“å‡ºå¯çŸ¥ï¼Œ<code>append GPL</code>çš„commit idæ˜¯<code>1094adb</code>ï¼Œç°åœ¨ï¼Œä½ åˆå¯ä»¥ä¹˜åæ—¶å…‰æœºå›åˆ°æœªæ¥äº†ã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>ç°åœ¨æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li><code>HEAD</code>æŒ‡å‘çš„ç‰ˆæœ¬å°±æ˜¯å½“å‰ç‰ˆæœ¬ï¼Œå› æ­¤ï¼ŒGitå…è®¸æˆ‘ä»¬åœ¨ç‰ˆæœ¬çš„å†å²ä¹‹é—´ç©¿æ¢­ï¼Œä½¿ç”¨å‘½ä»¤<code>git reset --hard commit_id</code>ã€‚</li>
<li>ç©¿æ¢­å‰ï¼Œç”¨<code>git log</code>å¯ä»¥æŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬ã€‚</li>
<li>è¦é‡è¿”æœªæ¥ï¼Œç”¨<code>git reflog</code>æŸ¥çœ‹å‘½ä»¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬ã€‚</li>
</ul>
<h3 id="å·¥ä½œåŒºå’Œæš‚å­˜åŒº"><a href="#å·¥ä½œåŒºå’Œæš‚å­˜åŒº" class="headerlink" title="å·¥ä½œåŒºå’Œæš‚å­˜åŒº"></a>å·¥ä½œåŒºå’Œæš‚å­˜åŒº</h3><p>Gitå’Œå…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¦‚SVNçš„ä¸€ä¸ªä¸åŒä¹‹å¤„å°±æ˜¯æœ‰æš‚å­˜åŒºçš„æ¦‚å¿µã€‚</p>
<p>å…ˆæ¥çœ‹åè¯è§£é‡Šã€‚</p>
<h4 id="å·¥ä½œåŒºï¼ˆWorking-Directoryï¼‰"><a href="#å·¥ä½œåŒºï¼ˆWorking-Directoryï¼‰" class="headerlink" title="å·¥ä½œåŒºï¼ˆWorking Directoryï¼‰"></a>å·¥ä½œåŒºï¼ˆWorking Directoryï¼‰</h4><p>å°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ï¼Œæ¯”å¦‚æˆ‘çš„<code>learngit</code>æ–‡ä»¶å¤¹å°±æ˜¯ä¸€ä¸ªå·¥ä½œåŒºï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0.png" alt="working-dir"></p>
<h4 id="ç‰ˆæœ¬åº“ï¼ˆRepositoryï¼‰"><a href="#ç‰ˆæœ¬åº“ï¼ˆRepositoryï¼‰" class="headerlink" title="ç‰ˆæœ¬åº“ï¼ˆRepositoryï¼‰"></a>ç‰ˆæœ¬åº“ï¼ˆRepositoryï¼‰</h4><p>å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•<code>.git</code>ï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚</p>
<p>Gitçš„ç‰ˆæœ¬åº“é‡Œå­˜äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ç§°ä¸ºstageï¼ˆæˆ–è€…å«indexï¼‰çš„æš‚å­˜åŒºï¼Œè¿˜æœ‰Gitä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåˆ†æ”¯<code>master</code>ï¼Œä»¥åŠæŒ‡å‘<code>master</code>çš„ä¸€ä¸ªæŒ‡é’ˆå«<code>HEAD</code>ã€‚</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519114125658.jpeg" alt="git-repo"></p>
<p>åˆ†æ”¯å’Œ<code>HEAD</code>çš„æ¦‚å¿µæˆ‘ä»¬ä»¥åå†è®²ã€‚</p>
<p>å‰é¢è®²äº†æˆ‘ä»¬æŠŠæ–‡ä»¶å¾€Gitç‰ˆæœ¬åº“é‡Œæ·»åŠ çš„æ—¶å€™ï¼Œæ˜¯åˆ†ä¸¤æ­¥æ‰§è¡Œçš„ï¼š</p>
<p>ç¬¬ä¸€æ­¥æ˜¯ç”¨<code>git add</code>æŠŠæ–‡ä»¶æ·»åŠ è¿›å»ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæ–‡ä»¶ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºï¼›</p>
<p>ç¬¬äºŒæ­¥æ˜¯ç”¨<code>git commit</code>æäº¤æ›´æ”¹ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬åˆ›å»ºGitç‰ˆæœ¬åº“æ—¶ï¼ŒGitè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºäº†å”¯ä¸€ä¸€ä¸ª<code>master</code>åˆ†æ”¯ï¼Œæ‰€ä»¥ï¼Œç°åœ¨ï¼Œ<code>git commit</code>å°±æ˜¯å¾€<code>master</code>åˆ†æ”¯ä¸Šæäº¤æ›´æ”¹ã€‚</p>
<p>ä½ å¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œéœ€è¦æäº¤çš„æ–‡ä»¶ä¿®æ”¹é€šé€šæ”¾åˆ°æš‚å­˜åŒºï¼Œç„¶åï¼Œä¸€æ¬¡æ€§æäº¤æš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹ã€‚</p>
<p>ä¿—è¯è¯´ï¼Œå®è·µå‡ºçœŸçŸ¥ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å†ç»ƒä¹ ä¸€éï¼Œå…ˆå¯¹<code>readme.txt</code>åšä¸ªä¿®æ”¹ï¼Œæ¯”å¦‚åŠ ä¸Šä¸€è¡Œå†…å®¹ï¼š</p>
<figure class="highlight mercury"><table><tr><td class="code"><pre><span class="line">Git <span class="keyword">is</span> a distributed version control system.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br><span class="line">Git has a <span class="keyword">mutable</span> index called stage.</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œåœ¨å·¥ä½œåŒºæ–°å¢ä¸€ä¸ª<code>LICENSE</code>æ–‡æœ¬æ–‡ä»¶ï¼ˆå†…å®¹éšä¾¿å†™ï¼‰ã€‚</p>
<p>å…ˆç”¨<code>git status</code>æŸ¥çœ‹ä¸€ä¸‹çŠ¶æ€ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commi<span class="variable">t:</span></span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> <span class="keyword">to</span> <span class="keyword">update</span> what will <span class="keyword">be</span> committed)</span><br><span class="line">  (use <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> <span class="keyword">to</span> discard <span class="keyword">changes</span> in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br><span class="line"></span><br><span class="line">Untracked <span class="keyword">file</span><span class="variable">s:</span></span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> <span class="keyword">to</span> include in what will <span class="keyword">be</span> committed)</span><br><span class="line"></span><br><span class="line">	LICENSE</span><br><span class="line"></span><br><span class="line"><span class="keyword">no</span> <span class="keyword">changes</span> added <span class="keyword">to</span> commit (use <span class="string">&quot;git add&quot;</span> <span class="built_in">and</span>/<span class="built_in">or</span> <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Gitéå¸¸æ¸…æ¥šåœ°å‘Šè¯‰æˆ‘ä»¬ï¼Œ<code>readme.txt</code>è¢«ä¿®æ”¹äº†ï¼Œè€Œ<code>LICENSE</code>è¿˜ä»æ¥æ²¡æœ‰è¢«æ·»åŠ è¿‡ï¼Œæ‰€ä»¥å®ƒçš„çŠ¶æ€æ˜¯<code>Untracked</code>ã€‚</p>
<p>ç°åœ¨ï¼Œä½¿ç”¨ä¸¤æ¬¡å‘½ä»¤<code>git add</code>ï¼ŒæŠŠ<code>readme.txt</code>å’Œ<code>LICENSE</code>éƒ½æ·»åŠ åï¼Œç”¨<code>git status</code>å†æŸ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight vhdl"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line">Changes <span class="keyword">to</span> be committed:</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> <span class="keyword">to</span> unstage)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">new</span> <span class="keyword">file</span>:   LICENSE</span><br><span class="line">	modified:   readme.txt</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œæš‚å­˜åŒºçš„çŠ¶æ€å°±å˜æˆè¿™æ ·äº†ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519114125893.jpeg" alt="git-stage"></p>
<p>æ‰€ä»¥ï¼Œ<code>git add</code>å‘½ä»¤å®é™…ä¸Šå°±æ˜¯æŠŠè¦æäº¤çš„æ‰€æœ‰ä¿®æ”¹æ”¾åˆ°æš‚å­˜åŒºï¼ˆStageï¼‰ï¼Œç„¶åï¼Œæ‰§è¡Œ<code>git commit</code>å°±å¯ä»¥ä¸€æ¬¡æ€§æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹æäº¤åˆ°åˆ†æ”¯ã€‚</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">$ git commit -m <span class="string">&quot;understand how stage works&quot;</span></span><br><span class="line">[<span class="keyword">master</span> <span class="title">e43a48b</span>] understand how stage works</span><br><span class="line"> <span class="number">2</span> files changed, <span class="number">2</span> insertions(+)</span><br><span class="line"> create mode <span class="number">100644</span> LICENSE</span><br></pre></td></tr></table></figure>
<p>ä¸€æ—¦æäº¤åï¼Œå¦‚æœä½ åˆæ²¡æœ‰å¯¹å·¥ä½œåŒºåšä»»ä½•ä¿®æ”¹ï¼Œé‚£ä¹ˆå·¥ä½œåŒºå°±æ˜¯â€œå¹²å‡€â€çš„ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line"><span class="keyword">nothing</span> <span class="keyword">to</span> <span class="keyword">commit</span>, working tree clean</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ç‰ˆæœ¬åº“å˜æˆäº†è¿™æ ·ï¼Œæš‚å­˜åŒºå°±æ²¡æœ‰ä»»ä½•å†…å®¹äº†ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519114125641.jpeg" alt="git-stage-after-commit"></p>
<p><strong>å°ç»“</strong></p>
<p>æš‚å­˜åŒºæ˜¯Gitéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå¼„æ˜ç™½äº†æš‚å­˜åŒºï¼Œå°±å¼„æ˜ç™½äº†Gitçš„å¾ˆå¤šæ“ä½œåˆ°åº•å¹²äº†ä»€ä¹ˆã€‚</p>
<p>æ²¡å¼„æ˜ç™½æš‚å­˜åŒºæ˜¯æ€ä¹ˆå›äº‹çš„ç«¥é‹ï¼Œè¯·å‘ä¸Šæ»šåŠ¨é¡µé¢ï¼Œå†çœ‹ä¸€æ¬¡ã€‚</p>
<h3 id="ç®¡ç†ä¿®æ”¹"><a href="#ç®¡ç†ä¿®æ”¹" class="headerlink" title="ç®¡ç†ä¿®æ”¹"></a>ç®¡ç†ä¿®æ”¹</h3><p>ç°åœ¨ï¼Œå‡å®šä½ å·²ç»å®Œå…¨æŒæ¡äº†æš‚å­˜åŒºçš„æ¦‚å¿µã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬è¦è®¨è®ºçš„å°±æ˜¯ï¼Œä¸ºä»€ä¹ˆGitæ¯”å…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè®¾è®¡å¾—ä¼˜ç§€ï¼Œå› ä¸ºGitè·Ÿè¸ªå¹¶ç®¡ç†çš„æ˜¯ä¿®æ”¹ï¼Œè€Œéæ–‡ä»¶ã€‚</p>
<p>ä½ ä¼šé—®ï¼Œä»€ä¹ˆæ˜¯ä¿®æ”¹ï¼Ÿæ¯”å¦‚ä½ æ–°å¢äº†ä¸€è¡Œï¼Œè¿™å°±æ˜¯ä¸€ä¸ªä¿®æ”¹ï¼Œåˆ é™¤äº†ä¸€è¡Œï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¿®æ”¹ï¼Œæ›´æ”¹äº†æŸäº›å­—ç¬¦ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¿®æ”¹ï¼Œåˆ äº†ä¸€äº›åˆåŠ äº†ä¸€äº›ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¿®æ”¹ï¼Œç”šè‡³åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œä¹Ÿç®—ä¸€ä¸ªä¿®æ”¹ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¯´Gitç®¡ç†çš„æ˜¯ä¿®æ”¹ï¼Œè€Œä¸æ˜¯æ–‡ä»¶å‘¢ï¼Ÿæˆ‘ä»¬è¿˜æ˜¯åšå®éªŒã€‚ç¬¬ä¸€æ­¥ï¼Œå¯¹readme.txtåšä¸€ä¸ªä¿®æ”¹ï¼Œæ¯”å¦‚åŠ ä¸€è¡Œå†…å®¹ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> readme.txt</span><br><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br><span class="line">Git <span class="built_in">has</span> <span class="keyword">a</span> mutable <span class="built_in">index</span> called stage.</span><br><span class="line">Git tracks <span class="keyword">changes</span>.</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œæ·»åŠ ï¼š</p>
<figure class="highlight vala"><table><tr><td class="code"><pre><span class="line">$ git add readme.txt</span><br><span class="line">$ git status</span><br><span class="line"><span class="meta"># On branch master</span></span><br><span class="line"><span class="meta"># Changes to be committed:</span></span><br><span class="line"><span class="meta">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#       modified:   readme.txt</span></span><br><span class="line"><span class="meta">#</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œå†ä¿®æ”¹readme.txtï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> readme.txt </span><br><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br><span class="line">Git <span class="built_in">has</span> <span class="keyword">a</span> mutable <span class="built_in">index</span> called stage.</span><br><span class="line">Git tracks <span class="keyword">changes</span> of <span class="keyword">files</span>.</span><br></pre></td></tr></table></figure>
<p>æäº¤ï¼š</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">$ git commit -m <span class="string">&quot;git tracks changes&quot;</span></span><br><span class="line">[<span class="keyword">master</span> <span class="title">519219b</span>] git tracks changes</span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">1</span> insertion(+)</span><br></pre></td></tr></table></figure>
<p>æäº¤åï¼Œå†çœ‹çœ‹çŠ¶æ€ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commi<span class="variable">t:</span></span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> <span class="keyword">to</span> <span class="keyword">update</span> what will <span class="keyword">be</span> committed)</span><br><span class="line">  (use <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> <span class="keyword">to</span> discard <span class="keyword">changes</span> in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br><span class="line"></span><br><span class="line"><span class="keyword">no</span> <span class="keyword">changes</span> added <span class="keyword">to</span> commit (use <span class="string">&quot;git add&quot;</span> <span class="built_in">and</span>/<span class="built_in">or</span> <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>å’¦ï¼Œæ€ä¹ˆç¬¬äºŒæ¬¡çš„ä¿®æ”¹æ²¡æœ‰è¢«æäº¤ï¼Ÿ</p>
<p>åˆ«æ¿€åŠ¨ï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ“ä½œè¿‡ç¨‹ï¼š</p>
<p>ç¬¬ä¸€æ¬¡ä¿®æ”¹ -&gt; <code>git add</code> -&gt; ç¬¬äºŒæ¬¡ä¿®æ”¹ -&gt; <code>git commit</code></p>
<p>ä½ çœ‹ï¼Œæˆ‘ä»¬å‰é¢è®²äº†ï¼ŒGitç®¡ç†çš„æ˜¯ä¿®æ”¹ï¼Œå½“ä½ ç”¨<code>git add</code>å‘½ä»¤åï¼Œåœ¨å·¥ä½œåŒºçš„ç¬¬ä¸€æ¬¡ä¿®æ”¹è¢«æ”¾å…¥æš‚å­˜åŒºï¼Œå‡†å¤‡æäº¤ï¼Œä½†æ˜¯ï¼Œåœ¨å·¥ä½œåŒºçš„ç¬¬äºŒæ¬¡ä¿®æ”¹å¹¶æ²¡æœ‰æ”¾å…¥æš‚å­˜åŒºï¼Œæ‰€ä»¥ï¼Œ<code>git commit</code>åªè´Ÿè´£æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æäº¤äº†ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡çš„ä¿®æ”¹è¢«æäº¤äº†ï¼Œç¬¬äºŒæ¬¡çš„ä¿®æ”¹ä¸ä¼šè¢«æäº¤ã€‚</p>
<p>æäº¤åï¼Œç”¨<code>git diff HEAD -- readme.txt</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“é‡Œé¢æœ€æ–°ç‰ˆæœ¬çš„åŒºåˆ«ï¼š</p>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">$ git diff HEAD -- readme.txt </span><br><span class="line"><span class="comment">diff --git a/readme.txt b/readme.txt</span></span><br><span class="line"><span class="comment">index 76d770f..a9c5755 100644</span></span><br><span class="line"><span class="comment">--- a/readme.txt</span></span><br><span class="line"><span class="comment">+++ b/readme.txt</span></span><br><span class="line"><span class="meta">@@ -1,4 +1,4 @@</span></span><br><span class="line"> Git is a distributed version control system.</span><br><span class="line"> Git is free software distributed under the GPL.</span><br><span class="line"> Git has a mutable index called stage.</span><br><span class="line"><span class="deletion">-Git tracks changes.</span></span><br><span class="line"><span class="addition">+Git tracks changes of files.</span></span><br></pre></td></tr></table></figure>
<p>å¯è§ï¼Œç¬¬äºŒæ¬¡ä¿®æ”¹ç¡®å®æ²¡æœ‰è¢«æäº¤ã€‚</p>
<p>é‚£æ€ä¹ˆæäº¤ç¬¬äºŒæ¬¡ä¿®æ”¹å‘¢ï¼Ÿä½ å¯ä»¥ç»§ç»­<code>git add</code>å†<code>git commit</code>ï¼Œä¹Ÿå¯ä»¥åˆ«ç€æ€¥æäº¤ç¬¬ä¸€æ¬¡ä¿®æ”¹ï¼Œå…ˆ<code>git add</code>ç¬¬äºŒæ¬¡ä¿®æ”¹ï¼Œå†<code>git commit</code>ï¼Œå°±ç›¸å½“äºæŠŠä¸¤æ¬¡ä¿®æ”¹åˆå¹¶åä¸€å—æäº¤äº†ï¼š</p>
<p>ç¬¬ä¸€æ¬¡ä¿®æ”¹ -&gt; <code>git add</code> -&gt; ç¬¬äºŒæ¬¡ä¿®æ”¹ -&gt; <code>git add</code> -&gt; <code>git commit</code></p>
<p>å¥½ï¼Œç°åœ¨ï¼ŒæŠŠç¬¬äºŒæ¬¡ä¿®æ”¹æäº¤äº†ï¼Œç„¶åå¼€å§‹å°ç»“ã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>ç°åœ¨ï¼Œä½ åˆç†è§£äº†Gitæ˜¯å¦‚ä½•è·Ÿè¸ªä¿®æ”¹çš„ï¼Œæ¯æ¬¡ä¿®æ”¹ï¼Œå¦‚æœä¸ç”¨<code>git add</code>åˆ°æš‚å­˜åŒºï¼Œé‚£å°±ä¸ä¼šåŠ å…¥åˆ°<code>commit</code>ä¸­ã€‚</p>
<h3 id="æ’¤é”€ä¿®æ”¹"><a href="#æ’¤é”€ä¿®æ”¹" class="headerlink" title="æ’¤é”€ä¿®æ”¹"></a>æ’¤é”€ä¿®æ”¹</h3><p>è‡ªç„¶ï¼Œä½ æ˜¯ä¸ä¼šçŠ¯é”™çš„ã€‚ä¸è¿‡ç°åœ¨æ˜¯å‡Œæ™¨ä¸¤ç‚¹ï¼Œä½ æ­£åœ¨èµ¶ä¸€ä»½å·¥ä½œæŠ¥å‘Šï¼Œä½ åœ¨<code>readme.txt</code>ä¸­æ·»åŠ äº†ä¸€è¡Œï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> readme.txt</span><br><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br><span class="line">Git <span class="built_in">has</span> <span class="keyword">a</span> mutable <span class="built_in">index</span> called stage.</span><br><span class="line">Git tracks <span class="keyword">changes</span> of <span class="keyword">files</span>.</span><br><span class="line">My stupid boss still prefers SVN.</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½ å‡†å¤‡æäº¤å‰ï¼Œä¸€æ¯å’–å•¡èµ·äº†ä½œç”¨ï¼Œä½ çŒ›ç„¶å‘ç°äº†<code>stupid boss</code>å¯èƒ½ä¼šè®©ä½ ä¸¢æ‰è¿™ä¸ªæœˆçš„å¥–é‡‘ï¼</p>
<p>æ—¢ç„¶é”™è¯¯å‘ç°å¾—å¾ˆåŠæ—¶ï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“åœ°çº æ­£å®ƒã€‚ä½ å¯ä»¥åˆ æ‰æœ€åä¸€è¡Œï¼Œæ‰‹åŠ¨æŠŠæ–‡ä»¶æ¢å¤åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„çŠ¶æ€ã€‚å¦‚æœç”¨<code>git status</code>æŸ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commi<span class="variable">t:</span></span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> <span class="keyword">to</span> <span class="keyword">update</span> what will <span class="keyword">be</span> committed)</span><br><span class="line">  (use <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> <span class="keyword">to</span> discard <span class="keyword">changes</span> in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br><span class="line"></span><br><span class="line"><span class="keyword">no</span> <span class="keyword">changes</span> added <span class="keyword">to</span> commit (use <span class="string">&quot;git add&quot;</span> <span class="built_in">and</span>/<span class="built_in">or</span> <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥å‘ç°ï¼ŒGitä¼šå‘Šè¯‰ä½ ï¼Œ<code>git checkout -- file</code>å¯ä»¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ï¼š</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">$ git checkout <span class="comment">-- readme.txt</span></span><br></pre></td></tr></table></figure>
<p>å‘½ä»¤<code>git checkout -- readme.txt</code>æ„æ€å°±æ˜¯ï¼ŒæŠŠ<code>readme.txt</code>æ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p>
<p>ä¸€ç§æ˜¯<code>readme.txt</code>è‡ªä¿®æ”¹åè¿˜æ²¡æœ‰è¢«æ”¾åˆ°æš‚å­˜åŒºï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸€æ¨¡ä¸€æ ·çš„çŠ¶æ€ï¼›</p>
<p>ä¸€ç§æ˜¯<code>readme.txt</code>å·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºåï¼Œåˆä½œäº†ä¿®æ”¹ï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æ·»åŠ åˆ°æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚</p>
<p>æ€»ä¹‹ï¼Œå°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶å›åˆ°æœ€è¿‘ä¸€æ¬¡<code>git commit</code>æˆ–<code>git add</code>æ—¶çš„çŠ¶æ€ã€‚</p>
<p>ç°åœ¨ï¼Œçœ‹çœ‹<code>readme.txt</code>çš„æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> readme.txt</span><br><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br><span class="line">Git <span class="built_in">has</span> <span class="keyword">a</span> mutable <span class="built_in">index</span> called stage.</span><br><span class="line">Git tracks <span class="keyword">changes</span> of <span class="keyword">files</span>.</span><br></pre></td></tr></table></figure>
<p>æ–‡ä»¶å†…å®¹æœç„¶å¤åŸäº†ã€‚</p>
<p><code>git checkout -- file</code>å‘½ä»¤ä¸­çš„<code>--</code>å¾ˆé‡è¦ï¼Œæ²¡æœ‰<code>--</code>ï¼Œå°±å˜æˆäº†â€œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯â€çš„å‘½ä»¤ï¼Œæˆ‘ä»¬åœ¨åé¢çš„åˆ†æ”¯ç®¡ç†ä¸­ä¼šå†æ¬¡é‡åˆ°<code>git checkout</code>å‘½ä»¤ã€‚</p>
<p>ç°åœ¨å‡å®šæ˜¯å‡Œæ™¨3ç‚¹ï¼Œä½ ä¸ä½†å†™äº†ä¸€äº›èƒ¡è¯ï¼Œè¿˜<code>git add</code>åˆ°æš‚å­˜åŒºäº†ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">cat</span> readme.txt</span><br><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br><span class="line">Git <span class="built_in">has</span> <span class="keyword">a</span> mutable <span class="built_in">index</span> called stage.</span><br><span class="line">Git tracks <span class="keyword">changes</span> of <span class="keyword">files</span>.</span><br><span class="line">My stupid boss still prefers SVN.</span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">add</span> readme.txt</span><br></pre></td></tr></table></figure>
<p>åº†å¹¸çš„æ˜¯ï¼Œåœ¨<code>commit</code>ä¹‹å‰ï¼Œä½ å‘ç°äº†è¿™ä¸ªé—®é¢˜ã€‚ç”¨<code>git status</code>æŸ¥çœ‹ä¸€ä¸‹ï¼Œä¿®æ”¹åªæ˜¯æ·»åŠ åˆ°äº†æš‚å­˜åŒºï¼Œè¿˜æ²¡æœ‰æäº¤ï¼š</p>
<figure class="highlight vhdl"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line">Changes <span class="keyword">to</span> be committed:</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> <span class="keyword">to</span> unstage)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br></pre></td></tr></table></figure>
<p>GitåŒæ ·å‘Šè¯‰æˆ‘ä»¬ï¼Œç”¨å‘½ä»¤<code>git reset HEAD &lt;file&gt;</code>å¯ä»¥æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒºï¼š</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">reset</span> HEAD readme.txt</span><br><span class="line">Unstaged changes after <span class="built_in">reset</span>:</span><br><span class="line">M	readme.txt</span><br></pre></td></tr></table></figure>
<p><code>git reset</code>å‘½ä»¤æ—¢å¯ä»¥å›é€€ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹å›é€€åˆ°å·¥ä½œåŒºã€‚å½“æˆ‘ä»¬ç”¨<code>HEAD</code>æ—¶ï¼Œè¡¨ç¤ºæœ€æ–°çš„ç‰ˆæœ¬ã€‚</p>
<p>å†ç”¨<code>git status</code>æŸ¥çœ‹ä¸€ä¸‹ï¼Œç°åœ¨æš‚å­˜åŒºæ˜¯å¹²å‡€çš„ï¼Œå·¥ä½œåŒºæœ‰ä¿®æ”¹ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commi<span class="variable">t:</span></span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> <span class="keyword">to</span> <span class="keyword">update</span> what will <span class="keyword">be</span> committed)</span><br><span class="line">  (use <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> <span class="keyword">to</span> discard <span class="keyword">changes</span> in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br></pre></td></tr></table></figure>
<p>è¿˜è®°å¾—å¦‚ä½•ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹å—ï¼Ÿ</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git checkout <span class="comment">-- readme.txt</span></span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line"><span class="keyword">nothing</span> <span class="keyword">to</span> <span class="keyword">commit</span>, working tree clean</span><br></pre></td></tr></table></figure>
<p>æ•´ä¸ªä¸–ç•Œç»ˆäºæ¸…é™äº†ï¼</p>
<p>ç°åœ¨ï¼Œå‡è®¾ä½ ä¸ä½†æ”¹é”™äº†ä¸œè¥¿ï¼Œè¿˜ä»æš‚å­˜åŒºæäº¤åˆ°äº†ç‰ˆæœ¬åº“ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿè¿˜è®°å¾—<span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvODk2MDQzNDg4MDI5NjAwLzg5NzAxMzU3MzUxMjE5Mg==">ç‰ˆæœ¬å›é€€<i class="fa fa-external-link-alt"></i></span>ä¸€èŠ‚å—ï¼Ÿå¯ä»¥å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚ä¸è¿‡ï¼Œè¿™æ˜¯æœ‰æ¡ä»¶çš„ï¼Œå°±æ˜¯ä½ è¿˜æ²¡æœ‰æŠŠè‡ªå·±çš„æœ¬åœ°ç‰ˆæœ¬åº“æ¨é€åˆ°è¿œç¨‹ã€‚è¿˜è®°å¾—Gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå—ï¼Ÿæˆ‘ä»¬åé¢ä¼šè®²åˆ°è¿œç¨‹ç‰ˆæœ¬åº“ï¼Œä¸€æ—¦ä½ æŠŠ<code>stupid boss</code>æäº¤æ¨é€åˆ°è¿œç¨‹ç‰ˆæœ¬åº“ï¼Œä½ å°±çœŸçš„æƒ¨äº†â€¦â€¦</p>
<p><strong>å°ç»“</strong></p>
<p>åˆåˆ°äº†å°ç»“æ—¶é—´ã€‚</p>
<p>åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤<code>git checkout -- file</code>ã€‚</p>
<p>åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤<code>git reset HEAD &lt;file&gt;</code>ï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚</p>
<p>åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒ<span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvODk2MDQzNDg4MDI5NjAwLzg5NzAxMzU3MzUxMjE5Mg==">ç‰ˆæœ¬å›é€€<i class="fa fa-external-link-alt"></i></span>ä¸€èŠ‚ï¼Œä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“ã€‚</p>
<h3 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h3><p>åœ¨Gitä¸­ï¼Œåˆ é™¤ä¹Ÿæ˜¯ä¸€ä¸ªä¿®æ”¹æ“ä½œï¼Œæˆ‘ä»¬å®æˆ˜ä¸€ä¸‹ï¼Œå…ˆæ·»åŠ ä¸€ä¸ªæ–°æ–‡ä»¶<code>test.txt</code>åˆ°Gitå¹¶ä¸”æäº¤ï¼š</p>
<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">$ git <span class="meta">add</span> test.txt</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">&quot;add test.txt&quot;</span></span><br><span class="line">[master b84166e] <span class="meta">add</span> test.txt</span><br><span class="line"> 1 <span class="meta">file</span> changed, 1 inserti<span class="meta">on(</span>+)</span><br><span class="line"> <span class="meta">create</span> mode 100644 test.txt</span><br></pre></td></tr></table></figure>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ é€šå¸¸ç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æŠŠæ²¡ç”¨çš„æ–‡ä»¶åˆ äº†ï¼Œæˆ–è€…ç”¨<code>rm</code>å‘½ä»¤åˆ äº†ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">rm</span> test.txt</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™ï¼ŒGitçŸ¥é“ä½ åˆ é™¤äº†æ–‡ä»¶ï¼Œå› æ­¤ï¼Œå·¥ä½œåŒºå’Œç‰ˆæœ¬åº“å°±ä¸ä¸€è‡´äº†ï¼Œ<code>git status</code>å‘½ä»¤ä¼šç«‹åˆ»å‘Šè¯‰ä½ å“ªäº›æ–‡ä»¶è¢«åˆ é™¤äº†ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commi<span class="variable">t:</span></span><br><span class="line">  (use <span class="string">&quot;git add/rm &lt;file&gt;...&quot;</span> <span class="keyword">to</span> <span class="keyword">update</span> what will <span class="keyword">be</span> committed)</span><br><span class="line">  (use <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> <span class="keyword">to</span> discard <span class="keyword">changes</span> in working directory)</span><br><span class="line"></span><br><span class="line">	deleted:    test.txt</span><br><span class="line"></span><br><span class="line"><span class="keyword">no</span> <span class="keyword">changes</span> added <span class="keyword">to</span> commit (use <span class="string">&quot;git add&quot;</span> <span class="built_in">and</span>/<span class="built_in">or</span> <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€æ˜¯ç¡®å®è¦ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶ï¼Œé‚£å°±ç”¨å‘½ä»¤<code>git rm</code>åˆ æ‰ï¼Œå¹¶ä¸”<code>git commit</code>ï¼š</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">rm</span> <span class="keyword">test</span>.txt</span><br><span class="line"><span class="keyword">rm</span> &#x27;<span class="keyword">test</span>.txt&#x27;</span><br><span class="line"></span><br><span class="line">$ git commit -<span class="keyword">m</span> <span class="string">&quot;remove test.txt&quot;</span></span><br><span class="line">[master d46f35e] remove <span class="keyword">test</span>.txt</span><br><span class="line"> 1 <span class="keyword">file</span> changed, 1 deletion(-)</span><br><span class="line"> delete mode 100644 <span class="keyword">test</span>.txt</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œæ–‡ä»¶å°±ä»ç‰ˆæœ¬åº“ä¸­è¢«åˆ é™¤äº†ã€‚</p>
<p> å°æç¤ºï¼šå…ˆæ‰‹åŠ¨åˆ é™¤æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨git rm <file>å’Œgit add<file>æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>å¦ä¸€ç§æƒ…å†µæ˜¯åˆ é”™äº†ï¼Œå› ä¸ºç‰ˆæœ¬åº“é‡Œè¿˜æœ‰å‘¢ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆè½»æ¾åœ°æŠŠè¯¯åˆ çš„æ–‡ä»¶æ¢å¤åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">$ git checkout <span class="comment">-- test.txt</span></span><br></pre></td></tr></table></figure>
<p><code>git checkout</code>å…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚</p>
<p> æ³¨æ„ï¼šä»æ¥æ²¡æœ‰è¢«æ·»åŠ åˆ°ç‰ˆæœ¬åº“å°±è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œæ˜¯æ— æ³•æ¢å¤çš„ï¼</p>
<p><strong>å°ç»“</strong></p>
<p>å‘½ä»¤<code>git rm</code>ç”¨äºåˆ é™¤ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœä¸€ä¸ªæ–‡ä»¶å·²ç»è¢«æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Œé‚£ä¹ˆä½ æ°¸è¿œä¸ç”¨æ‹…å¿ƒè¯¯åˆ ï¼Œä½†æ˜¯è¦å°å¿ƒï¼Œä½ åªèƒ½æ¢å¤æ–‡ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä½ ä¼šä¸¢å¤±<strong>æœ€è¿‘ä¸€æ¬¡æäº¤åä½ ä¿®æ”¹çš„å†…å®¹</strong>ã€‚</p>
<h1 id="5-è¿œç¨‹ä»“åº“"><a href="#5-è¿œç¨‹ä»“åº“" class="headerlink" title="5 è¿œç¨‹ä»“åº“"></a>5 è¿œç¨‹ä»“åº“</h1><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†å¦‚ä½•åœ¨Gitä»“åº“é‡Œå¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œæ—¶å…‰ç©¿æ¢­ï¼Œä½ å†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ–‡ä»¶å¤‡ä»½æˆ–è€…ä¸¢å¤±çš„é—®é¢˜äº†ã€‚</p>
<p>å¯æ˜¯æœ‰ç”¨è¿‡é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸSVNçš„ç«¥é‹ä¼šç«™å‡ºæ¥è¯´ï¼Œè¿™äº›åŠŸèƒ½åœ¨SVNé‡Œæ—©å°±æœ‰äº†ï¼Œæ²¡çœ‹å‡ºGitæœ‰ä»€ä¹ˆç‰¹åˆ«çš„åœ°æ–¹ã€‚</p>
<p>æ²¡é”™ï¼Œå¦‚æœåªæ˜¯åœ¨ä¸€ä¸ªä»“åº“é‡Œç®¡ç†æ–‡ä»¶å†å²ï¼ŒGitå’ŒSVNçœŸæ²¡å•¥åŒºåˆ«ã€‚ä¸ºäº†ä¿è¯ä½ ç°åœ¨æ‰€å­¦çš„Gitç‰©è¶…æ‰€å€¼ï¼Œå°†æ¥ç»å¯¹ä¸ä¼šåæ‚”ï¼ŒåŒæ—¶ä¸ºäº†æ‰“å‡»å·²ç»ä¸å¹¸å­¦äº†SVNçš„ç«¥é‹ï¼Œæœ¬ç« å¼€å§‹ä»‹ç»Gitçš„æ€æ‰‹çº§åŠŸèƒ½ä¹‹ä¸€ï¼ˆæ³¨æ„æ˜¯ä¹‹ä¸€ï¼Œä¹Ÿå°±æ˜¯åé¢è¿˜æœ‰ä¹‹äºŒï¼Œä¹‹ä¸‰â€¦â€¦ï¼‰ï¼šè¿œç¨‹ä»“åº“ã€‚</p>
<p>Gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ŒåŒä¸€ä¸ªGitä»“åº“ï¼Œå¯ä»¥åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šã€‚æ€ä¹ˆåˆ†å¸ƒå‘¢ï¼Ÿæœ€æ—©ï¼Œè‚¯å®šåªæœ‰ä¸€å°æœºå™¨æœ‰ä¸€ä¸ªåŸå§‹ç‰ˆæœ¬åº“ï¼Œæ­¤åï¼Œåˆ«çš„æœºå™¨å¯ä»¥â€œå…‹éš†â€è¿™ä¸ªåŸå§‹ç‰ˆæœ¬åº“ï¼Œè€Œä¸”æ¯å°æœºå™¨çš„ç‰ˆæœ¬åº“å…¶å®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¹¶æ²¡æœ‰ä¸»æ¬¡ä¹‹åˆ†ã€‚</p>
<p>ä½ è‚¯å®šä¼šæƒ³ï¼Œè‡³å°‘éœ€è¦ä¸¤å°æœºå™¨æ‰èƒ½ç©è¿œç¨‹åº“ä¸æ˜¯ï¼Ÿä½†æ˜¯æˆ‘åªæœ‰ä¸€å°ç”µè„‘ï¼Œæ€ä¹ˆç©ï¼Ÿ</p>
<p>å…¶å®ä¸€å°ç”µè„‘ä¸Šä¹Ÿæ˜¯å¯ä»¥å…‹éš†å¤šä¸ªç‰ˆæœ¬åº“çš„ï¼Œåªè¦ä¸åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚ä¸è¿‡ï¼Œç°å®ç”Ÿæ´»ä¸­æ˜¯ä¸ä¼šæœ‰äººè¿™ä¹ˆå‚»çš„åœ¨ä¸€å°ç”µè„‘ä¸Šæå‡ ä¸ªè¿œç¨‹åº“ç©ï¼Œå› ä¸ºä¸€å°ç”µè„‘ä¸Šæå‡ ä¸ªè¿œç¨‹åº“å®Œå…¨æ²¡æœ‰æ„ä¹‰ï¼Œè€Œä¸”ç¡¬ç›˜æŒ‚äº†ä¼šå¯¼è‡´æ‰€æœ‰åº“éƒ½æŒ‚æ‰ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¸å‘Šè¯‰ä½ åœ¨ä¸€å°ç”µè„‘ä¸Šæ€ä¹ˆå…‹éš†å¤šä¸ªä»“åº“ã€‚</p>
<p>å®é™…æƒ…å†µå¾€å¾€æ˜¯è¿™æ ·ï¼Œæ‰¾ä¸€å°ç”µè„‘å……å½“æœåŠ¡å™¨çš„è§’è‰²ï¼Œæ¯å¤©24å°æ—¶å¼€æœºï¼Œå…¶ä»–æ¯ä¸ªäººéƒ½ä»è¿™ä¸ªâ€œæœåŠ¡å™¨â€ä»“åº“å…‹éš†ä¸€ä»½åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šï¼Œå¹¶ä¸”å„è‡ªæŠŠå„è‡ªçš„æäº¤æ¨é€åˆ°æœåŠ¡å™¨ä»“åº“é‡Œï¼Œä¹Ÿä»æœåŠ¡å™¨ä»“åº“ä¸­æ‹‰å–åˆ«äººçš„æäº¤ã€‚</p>
<p>å®Œå…¨å¯ä»¥è‡ªå·±æ­å»ºä¸€å°è¿è¡ŒGitçš„æœåŠ¡å™¨ï¼Œä¸è¿‡ç°é˜¶æ®µï¼Œä¸ºäº†å­¦Gitå…ˆæ­ä¸ªæœåŠ¡å™¨ç»å¯¹æ˜¯å°é¢˜å¤§ä½œã€‚å¥½åœ¨è¿™ä¸ªä¸–ç•Œä¸Šæœ‰ä¸ªå«<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLw==">GitHub<i class="fa fa-external-link-alt"></i></span>çš„ç¥å¥‡çš„ç½‘ç«™ï¼Œä»åå­—å°±å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªç½‘ç«™å°±æ˜¯æä¾›Gitä»“åº“æ‰˜ç®¡æœåŠ¡çš„ï¼Œæ‰€ä»¥ï¼Œåªè¦æ³¨å†Œä¸€ä¸ªGitHubè´¦å·ï¼Œå°±å¯ä»¥å…è´¹è·å¾—Gitè¿œç¨‹ä»“åº“ã€‚</p>
<p>åœ¨ç»§ç»­é˜…è¯»åç»­å†…å®¹å‰ï¼Œè¯·è‡ªè¡Œæ³¨å†ŒGitHubè´¦å·ã€‚ç”±äºä½ çš„æœ¬åœ°Gitä»“åº“å’ŒGitHubä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä¸€ç‚¹è®¾ç½®ï¼š</p>
<p>ç¬¬1æ­¥ï¼šåˆ›å»ºSSH Keyã€‚åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰.sshç›®å½•ï¼Œå¦‚æœæœ‰ï¼Œå†çœ‹çœ‹è¿™ä¸ªç›®å½•ä¸‹æœ‰æ²¡æœ‰<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æœå·²ç»æœ‰äº†ï¼Œå¯ç›´æ¥è·³åˆ°ä¸‹ä¸€æ­¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ‰“å¼€Shellï¼ˆWindowsä¸‹æ‰“å¼€Git Bashï¼‰ï¼Œåˆ›å»ºSSH Keyï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>ssh-keygen -t rsa -C <span class="string">&quot;youremail@example.com&quot;</span></span><br></pre></td></tr></table></figure>




<p>ä½ éœ€è¦æŠŠé‚®ä»¶åœ°å€æ¢æˆä½ è‡ªå·±çš„é‚®ä»¶åœ°å€ï¼Œç„¶åä¸€è·¯å›è½¦ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼Œç”±äºè¿™ä¸ªKeyä¹Ÿä¸æ˜¯ç”¨äºå†›äº‹ç›®çš„ï¼Œæ‰€ä»¥ä¹Ÿæ— éœ€è®¾ç½®å¯†ç ã€‚</p>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•é‡Œæ‰¾åˆ°<code>.ssh</code>ç›®å½•ï¼Œé‡Œé¢æœ‰<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯SSH Keyçš„ç§˜é’¥å¯¹ï¼Œ<code>id_rsa</code>æ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œ<code>id_rsa.pub</code>æ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</p>
<p>ç¬¬2æ­¥ï¼šç™»é™†GitHubï¼Œæ‰“å¼€â€œAccount settingsâ€ï¼Œâ€œSSH Keysâ€é¡µé¢ï¼š</p>
<p>ç„¶åï¼Œç‚¹â€œAdd SSH Keyâ€ï¼Œå¡«ä¸Šä»»æ„Titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œç²˜è´´<code>id_rsa.pub</code>æ–‡ä»¶çš„å†…å®¹ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519123527159.png" alt="github-addkey-1"></p>
<p>ç‚¹â€œAdd Keyâ€ï¼Œä½ å°±åº”è¯¥çœ‹åˆ°å·²ç»æ·»åŠ çš„Keyï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519123527611.png" alt="github-addkey-2"></p>
<p>ä¸ºä»€ä¹ˆGitHubéœ€è¦SSH Keyå‘¢ï¼Ÿå› ä¸ºGitHubéœ€è¦è¯†åˆ«å‡ºä½ æ¨é€çš„æäº¤ç¡®å®æ˜¯ä½ æ¨é€çš„ï¼Œè€Œä¸æ˜¯åˆ«äººå†’å……çš„ï¼Œè€ŒGitæ”¯æŒSSHåè®®ï¼Œæ‰€ä»¥ï¼ŒGitHubåªè¦çŸ¥é“äº†ä½ çš„å…¬é’¥ï¼Œå°±å¯ä»¥ç¡®è®¤åªæœ‰ä½ è‡ªå·±æ‰èƒ½æ¨é€ã€‚</p>
<p>å½“ç„¶ï¼ŒGitHubå…è®¸ä½ æ·»åŠ å¤šä¸ªKeyã€‚å‡å®šä½ æœ‰è‹¥å¹²ç”µè„‘ï¼Œä½ ä¸€ä¼šå„¿åœ¨å…¬å¸æäº¤ï¼Œä¸€ä¼šå„¿åœ¨å®¶é‡Œæäº¤ï¼Œåªè¦æŠŠæ¯å°ç”µè„‘çš„Keyéƒ½æ·»åŠ åˆ°GitHubï¼Œå°±å¯ä»¥åœ¨æ¯å°ç”µè„‘ä¸Šå¾€GitHubæ¨é€äº†ã€‚</p>
<p>æœ€åå‹æƒ…æç¤ºï¼Œåœ¨GitHubä¸Šå…è´¹æ‰˜ç®¡çš„Gitä»“åº“ï¼Œä»»ä½•äººéƒ½å¯ä»¥çœ‹åˆ°å–”ï¼ˆä½†åªæœ‰ä½ è‡ªå·±æ‰èƒ½æ”¹ï¼‰ã€‚æ‰€ä»¥ï¼Œä¸è¦æŠŠæ•æ„Ÿä¿¡æ¯æ”¾è¿›å»ã€‚</p>
<p>å¦‚æœä½ ä¸æƒ³è®©åˆ«äººçœ‹åˆ°Gitåº“ï¼Œæœ‰ä¸¤ä¸ªåŠæ³•ï¼Œä¸€ä¸ªæ˜¯äº¤ç‚¹ä¿æŠ¤è´¹ï¼Œè®©GitHubæŠŠå…¬å¼€çš„ä»“åº“å˜æˆç§æœ‰çš„ï¼Œè¿™æ ·åˆ«äººå°±çœ‹ä¸è§äº†ï¼ˆä¸å¯è¯»æ›´ä¸å¯å†™ï¼‰ã€‚å¦ä¸€ä¸ªåŠæ³•æ˜¯è‡ªå·±åŠ¨æ‰‹ï¼Œæ­ä¸€ä¸ªGitæœåŠ¡å™¨ï¼Œå› ä¸ºæ˜¯ä½ è‡ªå·±çš„GitæœåŠ¡å™¨ï¼Œæ‰€ä»¥åˆ«äººä¹Ÿæ˜¯çœ‹ä¸è§çš„ã€‚è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬åé¢ä¼šè®²åˆ°çš„ï¼Œç›¸å½“ç®€å•ï¼Œå…¬å¸å†…éƒ¨å¼€å‘å¿…å¤‡ã€‚</p>
<p>ç¡®ä¿ä½ æ‹¥æœ‰ä¸€ä¸ªGitHubè´¦å·åï¼Œæˆ‘ä»¬å°±å³å°†å¼€å§‹è¿œç¨‹ä»“åº“çš„å­¦ä¹ ã€‚</p>
<h3 id="æ·»åŠ è¿œç¨‹åº“"><a href="#æ·»åŠ è¿œç¨‹åº“" class="headerlink" title="æ·»åŠ è¿œç¨‹åº“"></a>æ·»åŠ è¿œç¨‹åº“</h3><p>ç°åœ¨çš„æƒ…æ™¯æ˜¯ï¼Œä½ å·²ç»åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªGitä»“åº“åï¼Œåˆæƒ³åœ¨GitHubåˆ›å»ºä¸€ä¸ªGitä»“åº“ï¼Œå¹¶ä¸”è®©è¿™ä¸¤ä¸ªä»“åº“è¿›è¡Œè¿œç¨‹åŒæ­¥ï¼Œè¿™æ ·ï¼ŒGitHubä¸Šçš„ä»“åº“æ—¢å¯ä»¥ä½œä¸ºå¤‡ä»½ï¼Œåˆå¯ä»¥è®©å…¶ä»–äººé€šè¿‡è¯¥ä»“åº“æ¥åä½œï¼ŒçœŸæ˜¯ä¸€ä¸¾å¤šå¾—ã€‚</p>
<p>é¦–å…ˆï¼Œç™»é™†GitHubï¼Œç„¶åï¼Œåœ¨å³ä¸Šè§’æ‰¾åˆ°â€œCreate a new repoâ€æŒ‰é’®ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519123605857.png" alt="github-create-repo-1"></p>
<p>åœ¨Repository nameå¡«å…¥<code>learngit</code>ï¼Œå…¶ä»–ä¿æŒé»˜è®¤è®¾ç½®ï¼Œç‚¹å‡»â€œCreate repositoryâ€æŒ‰é’®ï¼Œå°±æˆåŠŸåœ°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Gitä»“åº“ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519123605858.png" alt="github-create-repo-2"></p>
<p>ç›®å‰ï¼Œåœ¨GitHubä¸Šçš„è¿™ä¸ª<code>learngit</code>ä»“åº“è¿˜æ˜¯ç©ºçš„ï¼ŒGitHubå‘Šè¯‰æˆ‘ä»¬ï¼Œå¯ä»¥ä»è¿™ä¸ªä»“åº“å…‹éš†å‡ºæ–°çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªå·²æœ‰çš„æœ¬åœ°ä»“åº“ä¸ä¹‹å…³è”ï¼Œç„¶åï¼ŒæŠŠæœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°GitHubä»“åº“ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ ¹æ®GitHubçš„æç¤ºï¼Œåœ¨æœ¬åœ°çš„<code>learngit</code>ä»“åº“ä¸‹è¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">$ git remote <span class="keyword">add</span><span class="bash"> origin git@github.com:michaelliao/learngit.git</span></span><br></pre></td></tr></table></figure>
<p>è¯·åƒä¸‡æ³¨æ„ï¼ŒæŠŠä¸Šé¢çš„<code>michaelliao</code>æ›¿æ¢æˆä½ è‡ªå·±çš„GitHubè´¦æˆ·åï¼Œå¦åˆ™ï¼Œä½ åœ¨æœ¬åœ°å…³è”çš„å°±æ˜¯æˆ‘çš„è¿œç¨‹åº“ï¼Œå…³è”æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä½ ä»¥åæ¨é€æ˜¯æ¨ä¸ä¸Šå»çš„ï¼Œå› ä¸ºä½ çš„SSH Keyå…¬é’¥ä¸åœ¨æˆ‘çš„è´¦æˆ·åˆ—è¡¨ä¸­ã€‚</p>
<p>æ·»åŠ åï¼Œè¿œç¨‹åº“çš„åå­—å°±æ˜¯<code>origin</code>ï¼Œè¿™æ˜¯Gité»˜è®¤çš„å«æ³•ï¼Œä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„ï¼Œä½†æ˜¯<code>origin</code>è¿™ä¸ªåå­—ä¸€çœ‹å°±çŸ¥é“æ˜¯è¿œç¨‹åº“ã€‚</p>
<p>ä¸‹ä¸€æ­¥ï¼Œå°±å¯ä»¥æŠŠæœ¬åœ°åº“çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ä¸Šï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">$ git push -<span class="keyword">u</span> origin master</span><br><span class="line">Counting object<span class="variable">s:</span> <span class="number">20</span>, done.</span><br><span class="line">Delta compression using <span class="keyword">up</span> <span class="keyword">to</span> <span class="number">4</span> threads.</span><br><span class="line">Compressing object<span class="variable">s:</span> <span class="number">100</span>% (<span class="number">15</span>/<span class="number">15</span>), done.</span><br><span class="line">Writing object<span class="variable">s:</span> <span class="number">100</span>% (<span class="number">20</span>/<span class="number">20</span>), <span class="number">1.64</span> KiB | <span class="number">560.00</span> KiB/s, done.</span><br><span class="line">Total <span class="number">20</span> (delta <span class="number">5</span>), reused <span class="number">0</span> (delta <span class="number">0</span>)</span><br><span class="line">remote: Resolving delta<span class="variable">s:</span> <span class="number">100</span>% (<span class="number">5</span>/<span class="number">5</span>), done.</span><br><span class="line">To github.<span class="keyword">com</span>:michaelliao/learngit.git</span><br><span class="line"> * [<span class="keyword">new</span> branch]      master -&gt; master</span><br><span class="line">Branch <span class="string">&#x27;master&#x27;</span> <span class="keyword">set</span> <span class="keyword">up</span> <span class="keyword">to</span> track remote branch <span class="string">&#x27;master&#x27;</span> from <span class="string">&#x27;origin&#x27;</span>.</span><br></pre></td></tr></table></figure>
<p>æŠŠæœ¬åœ°åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ï¼Œç”¨<code>git push</code>å‘½ä»¤ï¼Œå®é™…ä¸Šæ˜¯æŠŠå½“å‰åˆ†æ”¯<code>master</code>æ¨é€åˆ°è¿œç¨‹ã€‚</p>
<p>ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¨é€<code>master</code>åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº†<code>-u</code>å‚æ•°ï¼ŒGitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„<code>master</code>åˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„<code>master</code>åˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°çš„<code>master</code>åˆ†æ”¯å’Œè¿œç¨‹çš„<code>master</code>åˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚</p>
<p>æ¨é€æˆåŠŸåï¼Œå¯ä»¥ç«‹åˆ»åœ¨GitHubé¡µé¢ä¸­çœ‹åˆ°è¿œç¨‹åº“çš„å†…å®¹å·²ç»å’Œæœ¬åœ°ä¸€æ¨¡ä¸€æ ·ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519123606377.png" alt="github-repo"></p>
<p>ä»ç°åœ¨èµ·ï¼Œåªè¦æœ¬åœ°ä½œäº†æäº¤ï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤ï¼š</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">push</span> <span class="built_in">origin</span> master</span><br></pre></td></tr></table></figure>
<p>æŠŠæœ¬åœ°<code>master</code>åˆ†æ”¯çš„æœ€æ–°ä¿®æ”¹æ¨é€è‡³GitHubï¼Œç°åœ¨ï¼Œä½ å°±æ‹¥æœ‰äº†çœŸæ­£çš„åˆ†å¸ƒå¼ç‰ˆæœ¬åº“ï¼</p>
<p><strong>SSHè­¦å‘Š</strong></p>
<p>å½“ä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨Gitçš„<code>clone</code>æˆ–è€…<code>push</code>å‘½ä»¤è¿æ¥GitHubæ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šï¼š</p>
<figure class="highlight vbnet"><table><tr><td class="code"><pre><span class="line">The authenticity <span class="keyword">of</span> host <span class="comment">&#x27;github.com (xx.xx.xx.xx)&#x27; can&#x27;t be established.</span></span><br><span class="line">RSA <span class="keyword">key</span> fingerprint <span class="built_in">is</span> xx.xx.xx.xx.xx.</span><br><span class="line">Are you sure you want <span class="keyword">to</span> <span class="keyword">continue</span> connecting (yes/no)?</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯å› ä¸ºGitä½¿ç”¨SSHè¿æ¥ï¼Œè€ŒSSHè¿æ¥åœ¨ç¬¬ä¸€æ¬¡éªŒè¯GitHubæœåŠ¡å™¨çš„Keyæ—¶ï¼Œéœ€è¦ä½ ç¡®è®¤GitHubçš„Keyçš„æŒ‡çº¹ä¿¡æ¯æ˜¯å¦çœŸçš„æ¥è‡ªGitHubçš„æœåŠ¡å™¨ï¼Œè¾“å…¥<code>yes</code>å›è½¦å³å¯ã€‚</p>
<p>Gitä¼šè¾“å‡ºä¸€ä¸ªè­¦å‘Šï¼Œå‘Šè¯‰ä½ å·²ç»æŠŠGitHubçš„Keyæ·»åŠ åˆ°æœ¬æœºçš„ä¸€ä¸ªä¿¡ä»»åˆ—è¡¨é‡Œäº†ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">Warning: Permanently added <span class="string">&#x27;github.com&#x27;</span> (RSA) <span class="built_in">to</span> <span class="keyword">the</span> list <span class="keyword">of</span> known hosts.</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªè­¦å‘Šåªä¼šå‡ºç°ä¸€æ¬¡ï¼Œåé¢çš„æ“ä½œå°±ä¸ä¼šæœ‰ä»»ä½•è­¦å‘Šäº†ã€‚</p>
<p>å¦‚æœä½ å®åœ¨æ‹…å¿ƒæœ‰äººå†’å……GitHubæœåŠ¡å™¨ï¼Œè¾“å…¥<code>yes</code>å‰å¯ä»¥å¯¹ç…§<span class="exturl" data-url="aHR0cHM6Ly9oZWxwLmdpdGh1Yi5jb20vYXJ0aWNsZXMvd2hhdC1hcmUtZ2l0aHViLXMtc3NoLWtleS1maW5nZXJwcmludHMv">GitHubçš„RSA Keyçš„æŒ‡çº¹ä¿¡æ¯<i class="fa fa-external-link-alt"></i></span>æ˜¯å¦ä¸SSHè¿æ¥ç»™å‡ºçš„ä¸€è‡´ã€‚</p>
<h3 id="åˆ é™¤è¿œç¨‹åº“"><a href="#åˆ é™¤è¿œç¨‹åº“" class="headerlink" title="åˆ é™¤è¿œç¨‹åº“"></a>åˆ é™¤è¿œç¨‹åº“</h3><p>å¦‚æœæ·»åŠ çš„æ—¶å€™åœ°å€å†™é”™äº†ï¼Œæˆ–è€…å°±æ˜¯æƒ³åˆ é™¤è¿œç¨‹åº“ï¼Œå¯ä»¥ç”¨<code>git remote rm &lt;name&gt;</code>å‘½ä»¤ã€‚ä½¿ç”¨å‰ï¼Œå»ºè®®å…ˆç”¨<code>git remote -v</code>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">origin  git@github<span class="selector-class">.com</span>:michaelliao/learn-git<span class="selector-class">.git</span> (fetch)</span><br><span class="line">origin  git@github<span class="selector-class">.com</span>:michaelliao/learn-git<span class="selector-class">.git</span> (push)</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œæ ¹æ®åå­—åˆ é™¤ï¼Œæ¯”å¦‚åˆ é™¤<code>origin</code>ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> git remote <span class="built_in">rm</span> origin</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„çš„â€œåˆ é™¤â€å…¶å®æ˜¯è§£é™¤äº†æœ¬åœ°å’Œè¿œç¨‹çš„ç»‘å®šå…³ç³»ï¼Œå¹¶ä¸æ˜¯ç‰©ç†ä¸Šåˆ é™¤äº†è¿œç¨‹åº“ã€‚è¿œç¨‹åº“æœ¬èº«å¹¶æ²¡æœ‰ä»»ä½•æ”¹åŠ¨ã€‚è¦çœŸæ­£åˆ é™¤è¿œç¨‹åº“ï¼Œéœ€è¦ç™»å½•åˆ°GitHubï¼Œåœ¨åå°é¡µé¢æ‰¾åˆ°åˆ é™¤æŒ‰é’®å†åˆ é™¤ã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>è¦å…³è”ä¸€ä¸ªè¿œç¨‹åº“ï¼Œä½¿ç”¨å‘½ä»¤<code>git remote add origin git@server-name:path/repo-name.git</code>ï¼›</p>
<p>å…³è”ä¸€ä¸ªè¿œç¨‹åº“æ—¶å¿…é¡»ç»™è¿œç¨‹åº“æŒ‡å®šä¸€ä¸ªåå­—ï¼Œ<code>origin</code>æ˜¯é»˜è®¤ä¹ æƒ¯å‘½åï¼›</p>
<p>å…³è”åï¼Œä½¿ç”¨å‘½ä»¤<code>git push -u origin master</code>ç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼›</p>
<p>æ­¤åï¼Œæ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤<code>git push origin master</code>æ¨é€æœ€æ–°ä¿®æ”¹ï¼›</p>
<p>åˆ†å¸ƒå¼ç‰ˆæœ¬ç³»ç»Ÿçš„æœ€å¤§å¥½å¤„ä¹‹ä¸€æ˜¯åœ¨æœ¬åœ°å·¥ä½œå®Œå…¨ä¸éœ€è¦è€ƒè™‘è¿œç¨‹åº“çš„å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯æœ‰æ²¡æœ‰è”ç½‘éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œè€ŒSVNåœ¨æ²¡æœ‰è”ç½‘çš„æ—¶å€™æ˜¯æ‹’ç»å¹²æ´»çš„ï¼å½“æœ‰ç½‘ç»œçš„æ—¶å€™ï¼Œå†æŠŠæœ¬åœ°æäº¤æ¨é€ä¸€ä¸‹å°±å®Œæˆäº†åŒæ­¥ï¼ŒçœŸæ˜¯å¤ªæ–¹ä¾¿äº†ï¼</p>
<h3 id="ä»è¿œç¨‹ä»“åº“å…‹éš†"><a href="#ä»è¿œç¨‹ä»“åº“å…‹éš†" class="headerlink" title="ä»è¿œç¨‹ä»“åº“å…‹éš†"></a>ä»è¿œç¨‹ä»“åº“å…‹éš†</h3><p>ä¸Šæ¬¡æˆ‘ä»¬è®²äº†å…ˆæœ‰æœ¬åœ°åº“ï¼Œåæœ‰è¿œç¨‹åº“çš„æ—¶å€™ï¼Œå¦‚ä½•å…³è”è¿œç¨‹åº“ã€‚</p>
<p>ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬ä»é›¶å¼€å‘ï¼Œé‚£ä¹ˆæœ€å¥½çš„æ–¹å¼æ˜¯å…ˆåˆ›å»ºè¿œç¨‹åº“ï¼Œç„¶åï¼Œä»è¿œç¨‹åº“å…‹éš†ã€‚</p>
<p>é¦–å…ˆï¼Œç™»é™†GitHubï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œåå­—å«<code>gitskills</code>ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519123712308.png" alt="github-init-repo"></p>
<p>æˆ‘ä»¬å‹¾é€‰<code>Initialize this repository with a README</code>ï¼Œè¿™æ ·GitHubä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>README.md</code>æ–‡ä»¶ã€‚åˆ›å»ºå®Œæ¯•åï¼Œå¯ä»¥çœ‹åˆ°<code>README.md</code>æ–‡ä»¶ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519123712133.png" alt="github-init-repo-2"></p>
<p>ç°åœ¨ï¼Œè¿œç¨‹åº“å·²ç»å‡†å¤‡å¥½äº†ï¼Œä¸‹ä¸€æ­¥æ˜¯ç”¨å‘½ä»¤<code>git clone</code>å…‹éš†ä¸€ä¸ªæœ¬åœ°åº“ï¼š</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">$ git clone git<span class="meta">@github</span>.<span class="attr">com:</span>michaelliao/gitskills.git</span><br><span class="line">Cloning into <span class="string">&#x27;gitskills&#x27;</span>...</span><br><span class="line"><span class="attr">remote:</span> Counting <span class="attr">objects:</span> <span class="number">3</span>, done.</span><br><span class="line"><span class="attr">remote:</span> Total <span class="number">3</span> (delta <span class="number">0</span>), reused <span class="number">0</span> (delta <span class="number">0</span>), pack-reused <span class="number">3</span></span><br><span class="line">Receiving <span class="attr">objects:</span> <span class="number">100</span>% (<span class="number">3</span>/<span class="number">3</span>), done.</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„æŠŠGitåº“çš„åœ°å€æ¢æˆä½ è‡ªå·±çš„ï¼Œç„¶åè¿›å…¥<code>gitskills</code>ç›®å½•çœ‹çœ‹ï¼Œå·²ç»æœ‰<code>README.md</code>æ–‡ä»¶äº†ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> gitskills</span><br><span class="line"><span class="variable">$</span> <span class="built_in">ls</span></span><br><span class="line">README.md</span><br></pre></td></tr></table></figure>


<p>å¦‚æœæœ‰å¤šä¸ªäººåä½œå¼€å‘ï¼Œé‚£ä¹ˆæ¯ä¸ªäººå„è‡ªä»è¿œç¨‹å…‹éš†ä¸€ä»½å°±å¯ä»¥äº†ã€‚</p>
<p>ä½ ä¹Ÿè®¸è¿˜æ³¨æ„åˆ°ï¼ŒGitHubç»™å‡ºçš„åœ°å€ä¸æ­¢ä¸€ä¸ªï¼Œè¿˜å¯ä»¥ç”¨<code>https://github.com/michaelliao/gitskills.git</code>è¿™æ ·çš„åœ°å€ã€‚å®é™…ä¸Šï¼ŒGitæ”¯æŒå¤šç§åè®®ï¼Œé»˜è®¤çš„<code>git://</code>ä½¿ç”¨sshï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨<code>https</code>ç­‰å…¶ä»–åè®®ã€‚</p>
<p>ä½¿ç”¨<code>https</code>é™¤äº†é€Ÿåº¦æ…¢ä»¥å¤–ï¼Œè¿˜æœ‰ä¸ªæœ€å¤§çš„éº»çƒ¦æ˜¯æ¯æ¬¡æ¨é€éƒ½å¿…é¡»è¾“å…¥å£ä»¤ï¼Œä½†æ˜¯åœ¨æŸäº›åªå¼€æ”¾httpç«¯å£çš„å…¬å¸å†…éƒ¨å°±æ— æ³•ä½¿ç”¨<code>ssh</code>åè®®è€Œåªèƒ½ç”¨<code>https</code>ã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>è¦å…‹éš†ä¸€ä¸ªä»“åº“ï¼Œé¦–å…ˆå¿…é¡»çŸ¥é“ä»“åº“çš„åœ°å€ï¼Œç„¶åä½¿ç”¨<code>git clone</code>å‘½ä»¤å…‹éš†ã€‚</p>
<p>Gitæ”¯æŒå¤šç§åè®®ï¼ŒåŒ…æ‹¬<code>https</code>ï¼Œä½†<code>ssh</code>åè®®é€Ÿåº¦æœ€å¿«ã€‚</p>
<h1 id="6-åˆ†æ”¯ç®¡ç†"><a href="#6-åˆ†æ”¯ç®¡ç†" class="headerlink" title="6 åˆ†æ”¯ç®¡ç†"></a>6 åˆ†æ”¯ç®¡ç†</h1><h3 id="åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯"><a href="#åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯" class="headerlink" title="åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯"></a>åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯</h3><p>åœ¨<span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvODk2MDQzNDg4MDI5NjAwLzg5NzAxMzU3MzUxMjE5Mg==">ç‰ˆæœ¬å›é€€<i class="fa fa-external-link-alt"></i></span>é‡Œï¼Œä½ å·²ç»çŸ¥é“ï¼Œæ¯æ¬¡æäº¤ï¼ŒGitéƒ½æŠŠå®ƒä»¬ä¸²æˆä¸€æ¡æ—¶é—´çº¿ï¼Œè¿™æ¡æ—¶é—´çº¿å°±æ˜¯ä¸€ä¸ªåˆ†æ”¯ã€‚æˆªæ­¢åˆ°ç›®å‰ï¼Œåªæœ‰ä¸€æ¡æ—¶é—´çº¿ï¼Œåœ¨Gité‡Œï¼Œè¿™ä¸ªåˆ†æ”¯å«ä¸»åˆ†æ”¯ï¼Œå³<code>master</code>åˆ†æ”¯ã€‚<code>HEAD</code>ä¸¥æ ¼æ¥è¯´ä¸æ˜¯æŒ‡å‘æäº¤ï¼Œè€Œæ˜¯æŒ‡å‘<code>master</code>ï¼Œ<code>master</code>æ‰æ˜¯æŒ‡å‘æäº¤çš„ï¼Œæ‰€ä»¥ï¼Œ<code>HEAD</code>æŒ‡å‘çš„å°±æ˜¯å½“å‰åˆ†æ”¯ã€‚</p>
<p>ä¸€å¼€å§‹çš„æ—¶å€™ï¼Œ<code>master</code>åˆ†æ”¯æ˜¯ä¸€æ¡çº¿ï¼ŒGitç”¨<code>master</code>æŒ‡å‘æœ€æ–°çš„æäº¤ï¼Œå†ç”¨<code>HEAD</code>æŒ‡å‘<code>master</code>ï¼Œå°±èƒ½ç¡®å®šå½“å‰åˆ†æ”¯ï¼Œä»¥åŠå½“å‰åˆ†æ”¯çš„æäº¤ç‚¹ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519125411586.png" alt="git-br-initial"></p>
<p>æ¯æ¬¡æäº¤ï¼Œ<code>master</code>åˆ†æ”¯éƒ½ä¼šå‘å‰ç§»åŠ¨ä¸€æ­¥ï¼Œè¿™æ ·ï¼Œéšç€ä½ ä¸æ–­æäº¤ï¼Œ<code>master</code>åˆ†æ”¯çš„çº¿ä¹Ÿè¶Šæ¥è¶Šé•¿ã€‚</p>
<p>å½“æˆ‘ä»¬åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼Œä¾‹å¦‚<code>dev</code>æ—¶ï¼ŒGitæ–°å»ºäº†ä¸€ä¸ªæŒ‡é’ˆå«<code>dev</code>ï¼ŒæŒ‡å‘<code>master</code>ç›¸åŒçš„æäº¤ï¼Œå†æŠŠ<code>HEAD</code>æŒ‡å‘<code>dev</code>ï¼Œå°±è¡¨ç¤ºå½“å‰åˆ†æ”¯åœ¨<code>dev</code>ä¸Šï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/l.png" alt="git-br-create"></p>
<p>ä½ çœ‹ï¼ŒGitåˆ›å»ºä¸€ä¸ªåˆ†æ”¯å¾ˆå¿«ï¼Œå› ä¸ºé™¤äº†å¢åŠ ä¸€ä¸ª<code>dev</code>æŒ‡é’ˆï¼Œæ”¹æ”¹<code>HEAD</code>çš„æŒ‡å‘ï¼Œå·¥ä½œåŒºçš„æ–‡ä»¶éƒ½æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼</p>
<p>ä¸è¿‡ï¼Œä»ç°åœ¨å¼€å§‹ï¼Œå¯¹å·¥ä½œåŒºçš„ä¿®æ”¹å’Œæäº¤å°±æ˜¯é’ˆå¯¹<code>dev</code>åˆ†æ”¯äº†ï¼Œæ¯”å¦‚æ–°æäº¤ä¸€æ¬¡åï¼Œ<code>dev</code>æŒ‡é’ˆå¾€å‰ç§»åŠ¨ä¸€æ­¥ï¼Œè€Œ<code>master</code>æŒ‡é’ˆä¸å˜ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/l-20210519125411582.png" alt="git-br-dev-fd"></p>
<p>å‡å¦‚æˆ‘ä»¬åœ¨<code>dev</code>ä¸Šçš„å·¥ä½œå®Œæˆäº†ï¼Œå°±å¯ä»¥æŠŠ<code>dev</code>åˆå¹¶åˆ°<code>master</code>ä¸Šã€‚Gitæ€ä¹ˆåˆå¹¶å‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥æŠŠ<code>master</code>æŒ‡å‘<code>dev</code>çš„å½“å‰æäº¤ï¼Œå°±å®Œæˆäº†åˆå¹¶ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519125411594.png" alt="git-br-ff-merge"></p>
<p>æ‰€ä»¥Gitåˆå¹¶åˆ†æ”¯ä¹Ÿå¾ˆå¿«ï¼å°±æ”¹æ”¹æŒ‡é’ˆï¼Œå·¥ä½œåŒºå†…å®¹ä¹Ÿä¸å˜ï¼</p>
<p>åˆå¹¶å®Œåˆ†æ”¯åï¼Œç”šè‡³å¯ä»¥åˆ é™¤<code>dev</code>åˆ†æ”¯ã€‚åˆ é™¤<code>dev</code>åˆ†æ”¯å°±æ˜¯æŠŠ<code>dev</code>æŒ‡é’ˆç»™åˆ æ‰ï¼Œåˆ æ‰åï¼Œæˆ‘ä»¬å°±å‰©ä¸‹äº†ä¸€æ¡<code>master</code>åˆ†æ”¯ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519125411595-1400051.png" alt="git-br-rm"></p>
<p>çœŸæ˜¯å¤ªç¥å¥‡äº†ï¼Œä½ çœ‹å¾—å‡ºæ¥æœ‰äº›æäº¤æ˜¯é€šè¿‡åˆ†æ”¯å®Œæˆçš„å—ï¼Ÿ</p>
<p>ä¸‹é¢å¼€å§‹å®æˆ˜ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»º<code>dev</code>åˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ°<code>dev</code>åˆ†æ”¯ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">$ git checkout -b dev</span><br><span class="line">Switched <span class="built_in">to</span> <span class="keyword">a</span> <span class="built_in">new</span> branch <span class="string">&#x27;dev&#x27;</span></span><br></pre></td></tr></table></figure>
<p><code>git checkout</code>å‘½ä»¤åŠ ä¸Š<code>-b</code>å‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>git branch dev</span><br><span class="line"><span class="variable">$ </span>git checkout dev</span><br><span class="line">Switched to branch <span class="string">&#x27;dev&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œç”¨<code>git branch</code>å‘½ä»¤æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼š</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span> git branch</span><br><span class="line"><span class="comment">* dev</span></span><br><span class="line">  master</span><br></pre></td></tr></table></figure>
<p><code>git branch</code>å‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª<code>*</code>å·ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>dev</code>åˆ†æ”¯ä¸Šæ­£å¸¸æäº¤ï¼Œæ¯”å¦‚å¯¹<code>readme.txt</code>åšä¸ªä¿®æ”¹ï¼ŒåŠ ä¸Šä¸€è¡Œï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">Creating a <span class="keyword">new</span> branch <span class="keyword">is</span> quick.</span><br></pre></td></tr></table></figure>
<p>ç„¶åæäº¤ï¼š</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span> git add readme.txt </span><br><span class="line"><span class="symbol">$</span> git commit -m <span class="string">&quot;branch test&quot;</span></span><br><span class="line">[dev b17d20e] branch test</span><br><span class="line"> <span class="number">1</span> <span class="keyword">file</span> changed, <span class="number">1</span> insertion(+)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œ<code>dev</code>åˆ†æ”¯çš„å·¥ä½œå®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ‡æ¢å›<code>master</code>åˆ†æ”¯ï¼š</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">$ git checkout <span class="literal">master</span></span><br><span class="line">Switched to branch &#x27;<span class="literal">master</span>&#x27;</span><br></pre></td></tr></table></figure>
<p>åˆ‡æ¢å›<code>master</code>åˆ†æ”¯åï¼Œå†æŸ¥çœ‹ä¸€ä¸ª<code>readme.txt</code>æ–‡ä»¶ï¼Œåˆšæ‰æ·»åŠ çš„å†…å®¹ä¸è§äº†ï¼å› ä¸ºé‚£ä¸ªæäº¤æ˜¯åœ¨<code>dev</code>åˆ†æ”¯ä¸Šï¼Œè€Œ<code>master</code>åˆ†æ”¯æ­¤åˆ»çš„æäº¤ç‚¹å¹¶æ²¡æœ‰å˜ï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519125411595.png" alt="git-br-on-master"></p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠ<code>dev</code>åˆ†æ”¯çš„å·¥ä½œæˆæœåˆå¹¶åˆ°<code>master</code>åˆ†æ”¯ä¸Šï¼š</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span> git merge dev</span><br><span class="line"><span class="function"><span class="title">Updating</span></span> d46f35e..b17d20e</span><br><span class="line">Fast-forward</span><br><span class="line"> readme.txt | <span class="number">1</span> +</span><br><span class="line"> <span class="number">1</span> <span class="keyword">file</span> changed, <span class="number">1</span> insertion(+)</span><br></pre></td></tr></table></figure>
<p><code>git merge</code>å‘½ä»¤ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ã€‚åˆå¹¶åï¼Œå†æŸ¥çœ‹<code>readme.txt</code>çš„å†…å®¹ï¼Œå°±å¯ä»¥çœ‹åˆ°ï¼Œå’Œ<code>dev</code>åˆ†æ”¯çš„æœ€æ–°æäº¤æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</p>
<p>æ³¨æ„åˆ°ä¸Šé¢çš„<code>Fast-forward</code>ä¿¡æ¯ï¼ŒGitå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™æ¬¡åˆå¹¶æ˜¯â€œå¿«è¿›æ¨¡å¼â€ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æŠŠ<code>master</code>æŒ‡å‘<code>dev</code>çš„å½“å‰æäº¤ï¼Œæ‰€ä»¥åˆå¹¶é€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿä¸æ˜¯æ¯æ¬¡åˆå¹¶éƒ½èƒ½<code>Fast-forward</code>ï¼Œæˆ‘ä»¬åé¢ä¼šè®²å…¶ä»–æ–¹å¼çš„åˆå¹¶ã€‚</p>
<p>åˆå¹¶å®Œæˆåï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°åˆ é™¤<code>dev</code>åˆ†æ”¯äº†ï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>-d dev</span><br><span class="line">Deleted <span class="keyword">branch </span>dev (was <span class="keyword">b17d20e).</span></span><br></pre></td></tr></table></figure>
<p>åˆ é™¤åï¼ŒæŸ¥çœ‹<code>branch</code>ï¼Œå°±åªå‰©ä¸‹<code>master</code>åˆ†æ”¯äº†ï¼š</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span> git branch</span><br><span class="line"><span class="comment">* master</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸ºåˆ›å»ºã€åˆå¹¶å’Œåˆ é™¤åˆ†æ”¯éå¸¸å¿«ï¼Œæ‰€ä»¥Gité¼“åŠ±ä½ ä½¿ç”¨åˆ†æ”¯å®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œåˆå¹¶åå†åˆ æ‰åˆ†æ”¯ï¼Œè¿™å’Œç›´æ¥åœ¨<code>master</code>åˆ†æ”¯ä¸Šå·¥ä½œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†è¿‡ç¨‹æ›´å®‰å…¨ã€‚</p>
<p><strong>switch</strong></p>
<p>æˆ‘ä»¬æ³¨æ„åˆ°åˆ‡æ¢åˆ†æ”¯ä½¿ç”¨<code>git checkout &lt;branch&gt;</code>ï¼Œè€Œå‰é¢è®²è¿‡çš„æ’¤é”€ä¿®æ”¹åˆ™æ˜¯<code>git checkout -- &lt;file&gt;</code>ï¼ŒåŒä¸€ä¸ªå‘½ä»¤ï¼Œæœ‰ä¸¤ç§ä½œç”¨ï¼Œç¡®å®æœ‰ç‚¹ä»¤äººè¿·æƒ‘ã€‚</p>
<p>å®é™…ä¸Šï¼Œåˆ‡æ¢åˆ†æ”¯è¿™ä¸ªåŠ¨ä½œï¼Œç”¨<code>switch</code>æ›´ç§‘å­¦ã€‚å› æ­¤ï¼Œæœ€æ–°ç‰ˆæœ¬çš„Gitæä¾›äº†æ–°çš„<code>git switch</code>å‘½ä»¤æ¥åˆ‡æ¢åˆ†æ”¯ï¼š</p>
<p>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„<code>dev</code>åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">switch</span> -c dev</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥åˆ‡æ¢åˆ°å·²æœ‰çš„<code>master</code>åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">switch</span> master</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–°çš„<code>git switch</code>å‘½ä»¤ï¼Œæ¯”<code>git checkout</code>è¦æ›´å®¹æ˜“ç†è§£ã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>Gité¼“åŠ±å¤§é‡ä½¿ç”¨åˆ†æ”¯ï¼š</p>
<p>æŸ¥çœ‹åˆ†æ”¯ï¼š<code>git branch</code></p>
<p>åˆ›å»ºåˆ†æ”¯ï¼š<code>git branch &lt;name&gt;</code></p>
<p>åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout &lt;name&gt;</code>æˆ–è€…<code>git switch &lt;name&gt;</code></p>
<p>åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout -b &lt;name&gt;</code>æˆ–è€…<code>git switch -c &lt;name&gt;</code></p>
<p>åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼š<code>git merge &lt;name&gt;</code></p>
<p>åˆ é™¤åˆ†æ”¯ï¼š<code>git branch -d &lt;name&gt;</code></p>
<h3 id="åˆ†æ”¯å†²çª"><a href="#åˆ†æ”¯å†²çª" class="headerlink" title="åˆ†æ”¯å†²çª"></a>åˆ†æ”¯å†²çª</h3><p>äººç”Ÿä¸å¦‚æ„ä¹‹äº‹åä¹‹å…«ä¹ï¼Œåˆå¹¶åˆ†æ”¯å¾€å¾€ä¹Ÿä¸æ˜¯ä¸€å¸†é£é¡ºçš„ã€‚</p>
<p>å‡†å¤‡æ–°çš„<code>feature1</code>åˆ†æ”¯ï¼Œç»§ç»­æˆ‘ä»¬çš„æ–°åˆ†æ”¯å¼€å‘ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">switch</span> -c feature1</span><br><span class="line">Switched <span class="built_in">to</span> <span class="keyword">a</span> <span class="built_in">new</span> branch <span class="string">&#x27;feature1&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹<code>readme.txt</code>æœ€åä¸€è¡Œï¼Œæ”¹ä¸ºï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">Creating a <span class="keyword">new</span> branch <span class="keyword">is</span> quick AND simple.</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>feature1</code>åˆ†æ”¯ä¸Šæäº¤ï¼š</p>
<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">$ git <span class="meta">add</span> readme.txt</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">&quot;AND simple&quot;</span></span><br><span class="line">[feature1 14096d0] <span class="meta">AND</span> simple</span><br><span class="line"> 1 <span class="meta">file</span> changed, 1 inserti<span class="meta">on(</span>+), 1 deleti<span class="meta">on(</span>-)</span><br></pre></td></tr></table></figure>
<p>åˆ‡æ¢åˆ°<code>master</code>åˆ†æ”¯ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git switch master</span><br><span class="line">Switched <span class="keyword">to</span> branch <span class="string">&#x27;master&#x27;</span></span><br><span class="line">Your branch <span class="keyword">is</span> ahead <span class="keyword">of</span> <span class="string">&#x27;origin/master&#x27;</span> <span class="keyword">by</span> <span class="number">1</span> <span class="keyword">commit</span>.</span><br><span class="line">  (use &quot;git push&quot; <span class="keyword">to</span> publish your <span class="keyword">local</span> commits)</span><br></pre></td></tr></table></figure>
<p>Gitè¿˜ä¼šè‡ªåŠ¨æç¤ºæˆ‘ä»¬å½“å‰<code>master</code>åˆ†æ”¯æ¯”è¿œç¨‹çš„<code>master</code>åˆ†æ”¯è¦è¶…å‰1ä¸ªæäº¤ã€‚</p>
<p>åœ¨<code>master</code>åˆ†æ”¯ä¸ŠæŠŠ<code>readme.txt</code>æ–‡ä»¶çš„æœ€åä¸€è¡Œæ”¹ä¸ºï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">Creating a <span class="keyword">new</span> branch <span class="keyword">is</span> quick &amp; simple.</span><br></pre></td></tr></table></figure>
<p>æäº¤ï¼š</p>
<figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">$ git <span class="meta">add</span> readme.txt </span><br><span class="line">$ git commit -m <span class="string">&quot;&amp; simple&quot;</span></span><br><span class="line">[master 5dc6824] &amp; simple</span><br><span class="line"> 1 <span class="meta">file</span> changed, 1 inserti<span class="meta">on(</span>+), 1 deleti<span class="meta">on(</span>-)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œ<code>master</code>åˆ†æ”¯å’Œ<code>feature1</code>åˆ†æ”¯å„è‡ªéƒ½åˆ†åˆ«æœ‰æ–°çš„æäº¤ï¼Œå˜æˆäº†è¿™æ ·ï¼š</p>
<p><img data-src="https://www.liaoxuefeng.com/files/attachments/919023000423040/0" alt="git-br-feature1"></p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼ŒGitæ— æ³•æ‰§è¡Œâ€œå¿«é€Ÿåˆå¹¶â€ï¼Œåªèƒ½è¯•å›¾æŠŠå„è‡ªçš„ä¿®æ”¹åˆå¹¶èµ·æ¥ï¼Œä½†è¿™ç§åˆå¹¶å°±å¯èƒ½ä¼šæœ‰å†²çªï¼Œæˆ‘ä»¬è¯•è¯•çœ‹ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git merge feature1</span><br><span class="line">Auto-merging readme.txt</span><br><span class="line"><span class="keyword">CONFLICT</span> (content): Merge <span class="keyword">conflict</span> <span class="keyword">in</span> readme.txt</span><br><span class="line">Automatic merge failed; fix conflicts <span class="keyword">and</span> <span class="keyword">then</span> <span class="keyword">commit</span> the result.</span><br></pre></td></tr></table></figure>
<p>æœç„¶å†²çªäº†ï¼Gitå‘Šè¯‰æˆ‘ä»¬ï¼Œ<code>readme.txt</code>æ–‡ä»¶å­˜åœ¨å†²çªï¼Œå¿…é¡»æ‰‹åŠ¨è§£å†³å†²çªåå†æäº¤ã€‚<code>git status</code>ä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘ä»¬å†²çªçš„æ–‡ä»¶ï¼š</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line">Your branch is ahead of &#x27;origin/master&#x27; <span class="keyword">by</span> 2 commits.</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">&quot;git push&quot;</span> to publish your <span class="keyword">local</span> commits)</span><br><span class="line"></span><br><span class="line">You have unmerged paths.</span><br><span class="line">  (fix conflicts and <span class="keyword">run</span> <span class="string">&quot;git commit&quot;</span>)</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">&quot;git merge --abort&quot;</span> to abort the <span class="keyword">merge</span>)</span><br><span class="line"></span><br><span class="line">Unmerged paths:</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to <span class="keyword">mark</span> resolution)</span><br><span class="line"></span><br><span class="line">	both modified:   readme.txt</span><br><span class="line"></span><br><span class="line"><span class="keyword">no</span> changes added to commit (<span class="keyword">use</span> <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥æŸ¥çœ‹readme.txtçš„å†…å®¹ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> distributed <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software distributed under the GPL.</span><br><span class="line">Git <span class="built_in">has</span> <span class="keyword">a</span> mutable <span class="built_in">index</span> called stage.</span><br><span class="line">Git tracks <span class="keyword">changes</span> of <span class="keyword">files</span>.</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">Creating <span class="keyword">a</span> <span class="keyword">new</span> branch <span class="keyword">is</span> quick &amp; simple.</span><br><span class="line">=======</span><br><span class="line">Creating <span class="keyword">a</span> <span class="keyword">new</span> branch <span class="keyword">is</span> quick AND simple.</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature1</span><br></pre></td></tr></table></figure>
<p>Gitç”¨<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>ï¼Œ<code>=======</code>ï¼Œ<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>æ ‡è®°å‡ºä¸åŒåˆ†æ”¯çš„å†…å®¹ï¼Œæˆ‘ä»¬ä¿®æ”¹å†…å®¹ï¼ˆå¹¶ä¸”åˆ é™¤æ ‡è®°ï¼‰ï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">Creating a <span class="keyword">new</span> branch <span class="keyword">is</span> quick and simple.</span><br></pre></td></tr></table></figure>
<p>å†æäº¤ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">add</span> readme.txt </span><br><span class="line">$ git <span class="keyword">commit</span> -m &quot;conflict fixed&quot;</span><br><span class="line">[master cf810e4] <span class="keyword">conflict</span> fixed</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œ<code>master</code>åˆ†æ”¯å’Œ<code>feature1</code>åˆ†æ”¯å˜æˆäº†ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img data-src="/images/%E4%B8%8D%E5%AD%A6%E5%BA%9F%E4%B9%8B%E2%80%94%E2%80%94git%E7%AF%87/0-20210519125453421.png" alt="git-br-conflict-merged"></p>
<p>ç”¨å¸¦å‚æ•°çš„<code>git log</code>ä¹Ÿå¯ä»¥çœ‹åˆ°åˆ†æ”¯çš„åˆå¹¶æƒ…å†µï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">log</span> <span class="comment">--graph --pretty=oneline --abbrev-commit</span></span><br><span class="line">*   cf810e4 (HEAD -&gt; master) <span class="keyword">conflict</span> fixed</span><br><span class="line">|\  </span><br><span class="line">| * <span class="number">14096</span>d0 (feature1) <span class="keyword">AND</span> simple</span><br><span class="line">* | <span class="number">5</span>dc6824 &amp; simple</span><br><span class="line">|/  </span><br><span class="line">* b17d20e branch test</span><br><span class="line">* d46f35e (origin/master) remove test.txt</span><br><span class="line">* b84166e <span class="keyword">add</span> test.txt</span><br><span class="line">* <span class="number">519219</span>b git tracks changes</span><br><span class="line">* e43a48b understand how stage works</span><br><span class="line">* <span class="number">1094</span>adb append GPL</span><br><span class="line">* e475afc <span class="keyword">add</span> distributed</span><br><span class="line">* eaadf4e wrote a readme file</span><br></pre></td></tr></table></figure>
<p>æœ€åï¼Œåˆ é™¤<code>feature1</code>åˆ†æ”¯ï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>-d feature1</span><br><span class="line">Deleted <span class="keyword">branch </span>feature1 (was <span class="number">14096</span>d0).</span><br></pre></td></tr></table></figure>
<p>å·¥ä½œå®Œæˆã€‚</p>
<p><strong>å°ç»“</strong></p>
<p>å½“Gitæ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆã€‚</p>
<p>è§£å†³å†²çªå°±æ˜¯æŠŠGitåˆå¹¶å¤±è´¥çš„æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘ä¸ºæˆ‘ä»¬å¸Œæœ›çš„å†…å®¹ï¼Œå†æäº¤ã€‚</p>
<p>ç”¨<code>git log --graph</code>å‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ†æ”¯åˆå¹¶å›¾ã€‚</p>
<h3 id="ã€å¾…ç»­ã€‘"><a href="#ã€å¾…ç»­ã€‘" class="headerlink" title="ã€å¾…ç»­ã€‘"></a>ã€å¾…ç»­ã€‘</h3><p>å‚è€ƒï¼š<br><span class="exturl" data-url="aHR0cHM6Ly93d3cubGlhb3h1ZWZlbmcuY29tL3dpa2kvODk2MDQzNDg4MDI5NjAwLzg5Njk1NDA3NDY1OTAwOA==">https://www.liaoxuefeng.com/wiki/896043488029600/896954074659008<i class="fa fa-external-link-alt"></i></span></p>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
</search>
